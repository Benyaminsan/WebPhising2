!function(){var n={2779:function(e,t){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/
!function(){"use strict";var i={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r,a=typeof n;if("string"==a||"number"==a)e.push(n);else if(Array.isArray(n))!n.length||(r=l.apply(null,n))&&e.push(r);else if("object"==a)if(n.toString===Object.prototype.toString||n.toString.toString().includes("[native code]"))for(var o in n)i.call(n,o)&&n[o]&&e.push(o);else e.push(n.toString())}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(n=function(){return l}.apply(t,[]))||(e.exports=n)}()},6635:function(L,A,D){var k;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */L=D.nmd(L),function(){var Ho,zo="Expected a function",Wo="__lodash_hash_undefined__",Vo="__lodash_placeholder__",qo=16,$o=32,Ko=64,Jo=128,Yo=256,Zo=1/0,Qo=9007199254740991,Xo=NaN,ei=4294967295,ti=[["ary",Jo],["bind",1],["bindKey",2],["curry",8],["curryRight",qo],["flip",512],["partial",$o],["partialRight",Ko],["rearg",Yo]],ni="[object Arguments]",ri="[object Array]",ai="[object Boolean]",oi="[object Date]",ii="[object Error]",li="[object Function]",ui="[object GeneratorFunction]",si="[object Map]",ci="[object Number]",di="[object Object]",fi="[object Promise]",pi="[object RegExp]",mi="[object Set]",vi="[object String]",hi="[object Symbol]",gi="[object WeakMap]",yi="[object ArrayBuffer]",bi="[object DataView]",Ii="[object Float32Array]",Si="[object Float64Array]",wi="[object Int8Array]",Ei="[object Int16Array]",Pi="[object Int32Array]",_i="[object Uint8Array]",Ti="[object Uint8ClampedArray]",Ci="[object Uint16Array]",xi="[object Uint32Array]",Ni=/\b__p \+= '';/g,Li=/\b(__p \+=) '' \+/g,Ai=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Di=/&(?:amp|lt|gt|quot|#39);/g,ki=/[&<>"']/g,Oi=RegExp(Di.source),Ri=RegExp(ki.source),Gi=/<%-([\s\S]+?)%>/g,Mi=/<%([\s\S]+?)%>/g,Ui=/<%=([\s\S]+?)%>/g,Bi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ji=/^\w*$/,Fi=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hi=/[\\^$.*+?()[\]{}|]/g,zi=RegExp(Hi.source),Wi=/^\s+/,n=/\s/,Vi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qi=/\{\n\/\* \[wrapped with (.+)\] \*/,$i=/,? & /,Ki=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ji=/[()=,{}\[\]\/\s]/,Yi=/\\(\\)?/g,Zi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Qi=/\w*$/,Xi=/^[-+]0x[0-9a-f]+$/i,el=/^0b[01]+$/i,tl=/^\[object .+?Constructor\]$/,nl=/^0o[0-7]+$/i,rl=/^(?:0|[1-9]\d*)$/,al=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ol=/($^)/,il=/['\n\r\u2028\u2029\\]/g,e="\\ud800-\\udfff",t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",r="\\u2700-\\u27bf",a="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\ufe0e\\ufe0f",l="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",u="['’]",s="["+e+"]",c="["+l+"]",d="["+t+"]",f="\\d+",p="["+r+"]",m="["+a+"]",v="[^"+e+l+f+r+a+o+"]",h="\\ud83c[\\udffb-\\udfff]",g="[^"+e+"]",y="(?:\\ud83c[\\udde6-\\uddff]){2}",b="[\\ud800-\\udbff][\\udc00-\\udfff]",I="["+o+"]",S="\\u200d",w="(?:"+m+"|"+v+")",l="(?:"+I+"|"+v+")",r="(?:['’](?:d|ll|m|re|s|t|ve))?",a="(?:['’](?:D|LL|M|RE|S|T|VE))?",o="(?:"+d+"|"+h+")"+"?",v="["+i+"]?",o=v+o+("(?:"+S+"(?:"+[g,y,b].join("|")+")"+v+o+")*"),p="(?:"+[p,y,b].join("|")+")"+o,s="(?:"+[g+d+"?",d,y,b,s].join("|")+")",ll=RegExp(u,"g"),ul=RegExp(d,"g"),E=RegExp(h+"(?="+h+")|"+s+o,"g"),sl=RegExp([I+"?"+m+"+"+r+"(?="+[c,I,"$"].join("|")+")",l+"+"+a+"(?="+[c,I+w,"$"].join("|")+")",I+"?"+w+"+"+r,I+"+"+a,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",f,p].join("|"),"g"),P=RegExp("["+S+e+t+i+"]"),cl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,dl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fl=-1,pl={};pl[Ii]=pl[Si]=pl[wi]=pl[Ei]=pl[Pi]=pl[_i]=pl[Ti]=pl[Ci]=pl[xi]=!0,pl[ni]=pl[ri]=pl[yi]=pl[ai]=pl[bi]=pl[oi]=pl[ii]=pl[li]=pl[si]=pl[ci]=pl[di]=pl[pi]=pl[mi]=pl[vi]=pl[gi]=!1;var ml={};ml[ni]=ml[ri]=ml[yi]=ml[bi]=ml[ai]=ml[oi]=ml[Ii]=ml[Si]=ml[wi]=ml[Ei]=ml[Pi]=ml[si]=ml[ci]=ml[di]=ml[pi]=ml[mi]=ml[vi]=ml[hi]=ml[_i]=ml[Ti]=ml[Ci]=ml[xi]=!0,ml[ii]=ml[li]=ml[gi]=!1;var _={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vl=parseFloat,hl=parseInt,t="object"==typeof D.g&&D.g&&D.g.Object===Object&&D.g,i="object"==typeof self&&self&&self.Object===Object&&self,gl=t||i||Function("return this")(),i=A&&!A.nodeType&&A,T=i&&L&&!L.nodeType&&L,yl=T&&T.exports===i,C=yl&&t.process,t=function(){try{var e=T&&T.require&&T.require("util").types;return e?e:C&&C.binding&&C.binding("util")}catch(e){}}(),bl=t&&t.isArrayBuffer,Il=t&&t.isDate,Sl=t&&t.isMap,wl=t&&t.isRegExp,El=t&&t.isSet,Pl=t&&t.isTypedArray;function _l(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Tl(e,t,n,r){for(var a=-1,o=null==e?0:e.length;++a<o;){var i=e[a];t(r,i,n(i),e)}return r}function Cl(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function xl(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Nl(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ll(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}function Al(e,t){return!!(null==e?0:e.length)&&-1<jl(e,t,0)}function Dl(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}function kl(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function Ol(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function Rl(e,t,n,r){var a=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e);return n}function Gl(e,t,n,r){var a=null==e?0:e.length;for(r&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}function Ml(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var x=Wl("length");function Ul(e,r,t){var a;return t(e,function(e,t,n){if(r(e,t,n))return a=t,!1}),a}function Bl(e,t,n,r){for(var a=e.length,o=n+(r?1:-1);r?o--:++o<a;)if(t(e[o],o,e))return o;return-1}function jl(e,t,n){return t==t?function(e,t,n){var r=n-1,a=e.length;for(;++r<a;)if(e[r]===t)return r;return-1}(e,t,n):Bl(e,Hl,n)}function Fl(e,t,n,r){for(var a=n-1,o=e.length;++a<o;)if(r(e[a],t))return a;return-1}function Hl(e){return e!=e}function zl(e,t){var n=null==e?0:e.length;return n?ql(e,t)/n:Xo}function Wl(t){return function(e){return null==e?Ho:e[t]}}function N(t){return function(e){return null==t?Ho:t[e]}}function Vl(e,r,a,o,t){return t(e,function(e,t,n){a=o?(o=!1,e):r(a,e,t,n)}),a}function ql(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==Ho&&(n=n===Ho?o:n+o)}return n}function $l(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Kl(e){return e&&e.slice(0,cu(e)+1).replace(Wi,"")}function Jl(t){return function(e){return t(e)}}function Yl(t,e){return kl(e,function(e){return t[e]})}function Zl(e,t){return e.has(t)}function Ql(e,t){for(var n=-1,r=e.length;++n<r&&-1<jl(t,e[n],0););return n}function Xl(e,t){for(var n=e.length;n--&&-1<jl(t,e[n],0););return n}var eu=N({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),tu=N({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nu(e){return"\\"+_[e]}function ru(e){return P.test(e)}function au(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}function ou(t,n){return function(e){return t(n(e))}}function iu(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var i=e[n];i!==t&&i!==Vo||(e[n]=Vo,o[a++]=n)}return o}function lu(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function uu(e){return(ru(e)?function(e){var t=E.lastIndex=0;for(;E.test(e);)++t;return t}:x)(e)}function su(e){return ru(e)?e.match(E)||[]:e.split("")}function cu(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}var du=N({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var fu=function e(t){var E=(t=null==t?gl:fu.defaults(gl.Object(),t,fu.pick(gl,dl))).Array,n=t.Date,d=t.Error,f=t.Function,a=t.Math,v=t.Object,p=t.RegExp,c=t.String,w=t.TypeError,o=E.prototype,r=f.prototype,m=v.prototype,i=t["__core-js_shared__"],l=r.toString,y=m.hasOwnProperty,u=0,s=(ko=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+ko:"",h=m.toString,g=l.call(v),b=gl._,I=p("^"+l.call(y).replace(Hi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=yl?t.Buffer:Ho,P=t.Symbol,_=t.Uint8Array,T=S?S.allocUnsafe:Ho,C=ou(v.getPrototypeOf,v),x=v.create,N=m.propertyIsEnumerable,L=o.splice,A=P?P.isConcatSpreadable:Ho,D=P?P.iterator:Ho,k=P?P.toStringTag:Ho,O=function(){try{var e=Hn(v,"defineProperty");return e({},"",{}),e}catch(e){}}(),R=t.clearTimeout!==gl.clearTimeout&&t.clearTimeout,G=n&&n.now!==gl.Date.now&&n.now,M=t.setTimeout!==gl.setTimeout&&t.setTimeout,U=a.ceil,B=a.floor,j=v.getOwnPropertySymbols,F=S?S.isBuffer:Ho,H=t.isFinite,z=o.join,W=ou(v.keys,v),V=a.max,q=a.min,$=n.now,K=t.parseInt,J=a.random,Y=o.reverse,Z=Hn(t,"DataView"),Q=Hn(t,"Map"),X=Hn(t,"Promise"),ee=Hn(t,"Set"),te=Hn(t,"WeakMap"),ne=Hn(v,"create"),re=te&&new te,ae={},oe=hr(Z),ie=hr(Q),le=hr(X),ue=hr(ee),se=hr(te),ce=P?P.prototype:Ho,de=ce?ce.valueOf:Ho,fe=ce?ce.toString:Ho;function pe(e){if(ka(e)&&!wa(e)&&!(e instanceof ye)){if(e instanceof ge)return e;if(y.call(e,"__wrapped__"))return gr(e)}return new ge(e)}var me=function(e){if(!Da(e))return{};if(x)return x(e);ve.prototype=e;e=new ve;return ve.prototype=Ho,e};function ve(){}function he(){}function ge(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Ho}function ye(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ei,this.__views__=[]}function be(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Se(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Se;++t<n;)this.add(e[t])}function Ee(e){e=this.__data__=new Ie(e);this.size=e.size}function Pe(e,t){var n,r=wa(e),a=!r&&Sa(e),o=!r&&!a&&Ta(e),i=!r&&!a&&!o&&Fa(e),l=r||a||o||i,u=l?$l(e.length,c):[],s=u.length;for(n in e)!t&&!y.call(e,n)||l&&("length"==n||o&&("offset"==n||"parent"==n)||i&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||Jn(n,s))||u.push(n);return u}function _e(e){var t=e.length;return t?e[wt(0,t-1)]:Ho}function Te(e,t){return dr(rn(e),Re(t,0,e.length))}function Ce(e){return dr(rn(e))}function xe(e,t,n){(n===Ho||ya(e[t],n))&&(n!==Ho||t in e)||ke(e,t,n)}function Ne(e,t,n){var r=e[t];y.call(e,t)&&ya(r,n)&&(n!==Ho||t in e)||ke(e,t,n)}function Le(e,t){for(var n=e.length;n--;)if(ya(e[n][0],t))return n;return-1}function Ae(e,r,a,o){return je(e,function(e,t,n){r(o,e,a(e),n)}),o}function De(e,t){return e&&an(t,so(t),e)}function ke(e,t,n){"__proto__"==t&&O?O(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Oe(e,t){for(var n=-1,r=t.length,a=E(r),o=null==e;++n<r;)a[n]=o?Ho:ao(e,t[n]);return a}function Re(e,t,n){return e==e&&(n!==Ho&&(e=e<=n?e:n),t!==Ho&&(e=t<=e?e:t)),e}function Ge(n,r,a,e,t,o){var i,l=1&r,u=2&r,s=4&r;if(a&&(i=t?a(n,e,t,o):a(n)),i!==Ho)return i;if(!Da(n))return n;var c,d,f=wa(n);if(f){if(i=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&y.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(n),!l)return rn(n,i)}else{var p=Vn(n),e=p==li||p==ui;if(Ta(n))return Zt(n,l);if(p==di||p==ni||e&&!t){if(i=u||e?{}:$n(n),!l)return u?(e=c=n,d=(d=i)&&an(e,co(e),d),an(c,Wn(c),d)):(d=De(i,c=n),an(c,zn(c),d))}else{if(!ml[p])return t?n:{};i=function(e,t,n){var r=e.constructor;switch(t){case yi:return Qt(e);case ai:case oi:return new r(+e);case bi:return function(e,t){t=t?Qt(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}(e,n);case Ii:case Si:case wi:case Ei:case Pi:case _i:case Ti:case Ci:case xi:return Xt(e,n);case si:return new r;case ci:case vi:return new r(e);case pi:return function(e){var t=new e.constructor(e.source,Qi.exec(e));return t.lastIndex=e.lastIndex,t}(e);case mi:return new r;case hi:return function(e){return de?v(de.call(e)):{}}(e)}}(n,p,l)}}l=(o=o||new Ee).get(n);if(l)return l;o.set(n,i),Ua(n)?n.forEach(function(e){i.add(Ge(e,r,a,e,n,o))}):Oa(n)&&n.forEach(function(e,t){i.set(t,Ge(e,r,a,t,n,o))});var m=f?Ho:(s?u?Rn:On:u?co:so)(n);return Cl(m||n,function(e,t){m&&(e=n[t=e]),Ne(i,t,Ge(e,r,a,t,n,o))}),i}function Me(e,t,n){var r=n.length;if(null==e)return!r;for(e=v(e);r--;){var a=n[r],o=t[a],i=e[a];if(i===Ho&&!(a in e)||!o(i))return!1}return!0}function Ue(e,t,n){if("function"!=typeof e)throw new w(zo);return lr(function(){e.apply(Ho,n)},t)}function Be(e,t,n,r){var a=-1,o=Al,i=!0,l=e.length,u=[],s=t.length;if(!l)return u;n&&(t=kl(t,Jl(n))),r?(o=Dl,i=!1):200<=t.length&&(o=Zl,i=!1,t=new we(t));e:for(;++a<l;){var c=e[a],d=null==n?c:n(c),c=r||0!==c?c:0;if(i&&d==d){for(var f=s;f--;)if(t[f]===d)continue e;u.push(c)}else o(t,d,r)||u.push(c)}return u}pe.templateSettings={escape:Gi,evaluate:Mi,interpolate:Ui,variable:"",imports:{_:pe}},(pe.prototype=he.prototype).constructor=pe,(ge.prototype=me(he.prototype)).constructor=ge,(ye.prototype=me(he.prototype)).constructor=ye,be.prototype.clear=function(){this.__data__=ne?ne(null):{},this.size=0},be.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},be.prototype.get=function(e){var t=this.__data__;if(ne){var n=t[e];return n===Wo?Ho:n}return y.call(t,e)?t[e]:Ho},be.prototype.has=function(e){var t=this.__data__;return ne?t[e]!==Ho:y.call(t,e)},be.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ne&&t===Ho?Wo:t,this},Ie.prototype.clear=function(){this.__data__=[],this.size=0},Ie.prototype.delete=function(e){var t=this.__data__;return!((e=Le(t,e))<0)&&(e==t.length-1?t.pop():L.call(t,e,1),--this.size,!0)},Ie.prototype.get=function(e){var t=this.__data__;return(e=Le(t,e))<0?Ho:t[e][1]},Ie.prototype.has=function(e){return-1<Le(this.__data__,e)},Ie.prototype.set=function(e,t){var n=this.__data__,r=Le(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Se.prototype.clear=function(){this.size=0,this.__data__={hash:new be,map:new(Q||Ie),string:new be}},Se.prototype.delete=function(e){return e=jn(this,e).delete(e),this.size-=e?1:0,e},Se.prototype.get=function(e){return jn(this,e).get(e)},Se.prototype.has=function(e){return jn(this,e).has(e)},Se.prototype.set=function(e,t){var n=jn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},we.prototype.add=we.prototype.push=function(e){return this.__data__.set(e,Wo),this},we.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.clear=function(){this.__data__=new Ie,this.size=0},Ee.prototype.delete=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e},Ee.prototype.get=function(e){return this.__data__.get(e)},Ee.prototype.has=function(e){return this.__data__.has(e)},Ee.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ie){var r=n.__data__;if(!Q||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Se(r)}return n.set(e,t),this.size=n.size,this};var je=un(Ke),Fe=un(Je,!0);function He(e,r){var a=!0;return je(e,function(e,t,n){return a=!!r(e,t,n)}),a}function ze(e,t,n){for(var r=-1,a=e.length;++r<a;){var o,i,l=e[r],u=t(l);null!=u&&(o===Ho?u==u&&!ja(u):n(u,o))&&(o=u,i=l)}return i}function We(e,r){var a=[];return je(e,function(e,t,n){r(e,t,n)&&a.push(e)}),a}function Ve(e,t,n,r,a){var o=-1,i=e.length;for(n=n||Kn,a=a||[];++o<i;){var l=e[o];0<t&&n(l)?1<t?Ve(l,t-1,n,r,a):Ol(a,l):r||(a[a.length]=l)}return a}var qe=sn(),$e=sn(!0);function Ke(e,t){return e&&qe(e,t,so)}function Je(e,t){return e&&$e(e,t,so)}function Ye(t,e){return Ll(e,function(e){return Na(t[e])})}function Ze(e,t){for(var n=0,r=(t=$t(t,e)).length;null!=e&&n<r;)e=e[vr(t[n++])];return n&&n==r?e:Ho}function Qe(e,t,n){t=t(e);return wa(e)?t:Ol(t,n(e))}function Xe(e){return null==e?e===Ho?"[object Undefined]":"[object Null]":k&&k in v(e)?function(e){var t=y.call(e,k),n=e[k];try{e[k]=Ho;var r=!0}catch(e){}var a=h.call(e);r&&(t?e[k]=n:delete e[k]);return a}(e):(e=e,h.call(e))}function et(e,t){return t<e}function tt(e,t){return null!=e&&y.call(e,t)}function nt(e,t){return null!=e&&t in v(e)}function rt(e,t,n){for(var r=n?Dl:Al,a=e[0].length,o=e.length,i=o,l=E(o),u=1/0,s=[];i--;){var c=e[i];i&&t&&(c=kl(c,Jl(t))),u=q(c.length,u),l[i]=!n&&(t||120<=a&&120<=c.length)?new we(i&&c):Ho}c=e[0];var d=-1,f=l[0];e:for(;++d<a&&s.length<u;){var p=c[d],m=t?t(p):p,p=n||0!==p?p:0;if(!(f?Zl(f,m):r(s,m,n))){for(i=o;--i;){var v=l[i];if(!(v?Zl(v,m):r(e[i],m,n)))continue e}f&&f.push(m),s.push(p)}}return s}function at(e,t,n){t=null==(e=ar(e,t=$t(t,e)))?e:e[vr(xr(t))];return null==t?Ho:_l(t,e,n)}function ot(e){return ka(e)&&Xe(e)==ni}function it(e,t,n,r,a){return e===t||(null==e||null==t||!ka(e)&&!ka(t)?e!=e&&t!=t:function(e,t,n,r,a,o){var i=wa(e),l=wa(t),u=i?ri:Vn(e),s=l?ri:Vn(t),c=(u=u==ni?di:u)==di,l=(s=s==ni?di:s)==di,s=u==s;if(s&&Ta(e)){if(!Ta(t))return!1;c=!(i=!0)}if(s&&!c)return o=o||new Ee,i||Fa(e)?Dn(e,t,n,r,a,o):function(e,t,n,r,a,o,i){switch(n){case bi:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case yi:return e.byteLength==t.byteLength&&o(new _(e),new _(t))?!0:!1;case ai:case oi:case ci:return ya(+e,+t);case ii:return e.name==t.name&&e.message==t.message;case pi:case vi:return e==t+"";case si:var l=au;case mi:var u=1&r;if(l=l||lu,e.size!=t.size&&!u)return!1;u=i.get(e);if(u)return u==t;r|=2,i.set(e,t);l=Dn(l(e),l(t),r,a,o,i);return i.delete(e),l;case hi:if(de)return de.call(e)==de.call(t)}return!1}(e,t,u,n,r,a,o);if(!(1&n)){c=c&&y.call(e,"__wrapped__"),l=l&&y.call(t,"__wrapped__");if(c||l){c=c?e.value():e,l=l?t.value():t;return o=o||new Ee,a(c,l,n,r,o)}}return s&&(o=o||new Ee,function(e,t,n,r,a,o){var i=1&n,l=On(e),u=l.length,s=On(t).length;if(u!=s&&!i)return!1;var c=u;for(;c--;){var d=l[c];if(!(i?d in t:y.call(t,d)))return!1}var f=o.get(e),s=o.get(t);if(f&&s)return f==t&&s==e;var p=!0;o.set(e,t),o.set(t,e);var m=i;for(;++c<u;){d=l[c];var v,h=e[d],g=t[d];if(r&&(v=i?r(g,h,d,t,e,o):r(h,g,d,e,t,o)),!(v===Ho?h===g||a(h,g,n,r,o):v)){p=!1;break}m=m||"constructor"==d}p&&!m&&(f=e.constructor,s=t.constructor,f!=s&&"constructor"in e&&"constructor"in t&&!("function"==typeof f&&f instanceof f&&"function"==typeof s&&s instanceof s)&&(p=!1));return o.delete(e),o.delete(t),p}(e,t,n,r,a,o))}(e,t,n,r,it,a))}function lt(e,t,n,r){var a=n.length,o=a,i=!r;if(null==e)return!o;for(e=v(e);a--;){var l=n[a];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var u=(l=n[a])[0],s=e[u],c=l[1];if(i&&l[2]){if(s===Ho&&!(u in e))return!1}else{var d,f=new Ee;if(r&&(d=r(s,c,u,e,t,f)),!(d===Ho?it(c,s,3,r,f):d))return!1}}return!0}function ut(e){return!(!Da(e)||(t=e,s&&s in t))&&(Na(e)?I:tl).test(hr(e));var t}function st(e){return"function"==typeof e?e:null==e?Oo:"object"==typeof e?wa(e)?vt(e[0],e[1]):mt(e):Uo(e)}function ct(e){if(!er(e))return W(e);var t,n=[];for(t in v(e))y.call(e,t)&&"constructor"!=t&&n.push(t);return n}function dt(e){if(!Da(e))return function(e){var t=[];if(null!=e)for(var n in v(e))t.push(n);return t}(e);var t,n=er(e),r=[];for(t in e)("constructor"!=t||!n&&y.call(e,t))&&r.push(t);return r}function ft(e,t){return e<t}function pt(e,r){var a=-1,o=Pa(e)?E(e.length):[];return je(e,function(e,t,n){o[++a]=r(e,t,n)}),o}function mt(t){var n=Fn(t);return 1==n.length&&n[0][2]?nr(n[0][0],n[0][1]):function(e){return e===t||lt(e,t,n)}}function vt(n,r){return Zn(n)&&tr(r)?nr(vr(n),r):function(e){var t=ao(e,n);return t===Ho&&t===r?oo(e,n):it(r,t,3)}}function ht(r,a,o,i,l){r!==a&&qe(a,function(e,t){var n;l=l||new Ee,Da(e)?function(e,t,n,r,a,o,i){var l=or(e,n),u=or(t,n),s=i.get(u);if(s)return xe(e,n,s);var c,d=o?o(l,u,n+"",e,t,i):Ho,f=d===Ho;f&&(c=wa(u),s=!c&&Ta(u),t=!c&&!s&&Fa(u),d=u,c||s||t?d=wa(l)?l:_a(l)?rn(l):s?Zt(u,!(f=!1)):t?Xt(u,!(f=!1)):[]:Ga(u)||Sa(u)?Sa(d=l)?d=Ja(l):Da(l)&&!Na(l)||(d=$n(u)):f=!1),f&&(i.set(u,d),a(d,u,r,o,i),i.delete(u)),xe(e,n,d)}(r,a,t,o,ht,i,l):((n=i?i(or(r,t),e,t+"",r,a,l):Ho)===Ho&&(n=e),xe(r,t,n))},co)}function gt(e,t){var n=e.length;if(n)return Jn(t+=t<0?n:0,n)?e[t]:Ho}function yt(e,r,n){r=r.length?kl(r,function(t){return wa(t)?function(e){return Ze(e,1===t.length?t[0]:t)}:t}):[Oo];var a=-1;return r=kl(r,Jl(Bn())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(pt(e,function(t,e,n){return{criteria:kl(r,function(e){return e(t)}),index:++a,value:t}}),function(e,t){return function(e,t,n){var r=-1,a=e.criteria,o=t.criteria,i=a.length,l=n.length;for(;++r<i;){var u=en(a[r],o[r]);if(u){if(l<=r)return u;var s=n[r];return u*("desc"==s?-1:1)}}return e.index-t.index}(e,t,n)})}function bt(e,t,n){for(var r=-1,a=t.length,o={};++r<a;){var i=t[r],l=Ze(e,i);n(l,i)&&Ct(o,$t(i,e),l)}return o}function It(e,t,n,r){var a=r?Fl:jl,o=-1,i=t.length,l=e;for(e===t&&(t=rn(t)),n&&(l=kl(e,Jl(n)));++o<i;)for(var u=0,s=t[o],c=n?n(s):s;-1<(u=a(l,c,u,r));)l!==e&&L.call(l,u,1),L.call(e,u,1);return e}function St(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a,o=t[n];n!=r&&o===a||(Jn(a=o)?L.call(e,o,1):Bt(e,o))}return e}function wt(e,t){return e+B(J()*(t-e+1))}function Et(e,t){var n="";if(!e||t<1||Qo<t)return n;for(;t%2&&(n+=e),(t=B(t/2))&&(e+=e),t;);return n}function Pt(e,t){return ur(rr(e,t,Oo),e+"")}function _t(e){return _e(bo(e))}function Tt(e,t){e=bo(e);return dr(e,Re(t,0,e.length))}function Ct(e,t,n,r){if(!Da(e))return e;for(var a=-1,o=(t=$t(t,e)).length,i=o-1,l=e;null!=l&&++a<o;){var u,s=vr(t[a]),c=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;a!=i&&(u=l[s],(c=r?r(u,s,l):Ho)===Ho&&(c=Da(u)?u:Jn(t[a+1])?[]:{})),Ne(l,s,c),l=l[s]}return e}var xt=re?function(e,t){return re.set(e,t),e}:Oo,Nt=O?function(e,t){return O(e,"toString",{configurable:!0,enumerable:!1,value:Do(t),writable:!0})}:Oo;function Lt(e){return dr(bo(e))}function At(e,t,n){var r=-1,a=e.length;t<0&&(t=a<-t?0:a+t),(n=a<n?a:n)<0&&(n+=a),a=n<t?0:n-t>>>0,t>>>=0;for(var o=E(a);++r<a;)o[r]=e[r+t];return o}function Dt(e,r){var a;return je(e,function(e,t,n){return!(a=r(e,t,n))}),!!a}function kt(e,t,n){var r=0,a=null==e?r:e.length;if("number"==typeof t&&t==t&&a<=2147483647){for(;r<a;){var o=r+a>>>1,i=e[o];null!==i&&!ja(i)&&(n?i<=t:i<t)?r=1+o:a=o}return a}return Ot(e,t,Oo,n)}function Ot(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var i=(t=n(t))!=t,l=null===t,u=ja(t),s=t===Ho;a<o;){var c=B((a+o)/2),d=n(e[c]),f=d!==Ho,p=null===d,m=d==d,v=ja(d),d=i?r||m:s?m&&(r||f):l?m&&f&&(r||!p):u?m&&f&&!p&&(r||!v):!p&&!v&&(r?d<=t:d<t);d?a=c+1:o=c}return q(o,4294967294)}function Rt(e,t){for(var n=-1,r=e.length,a=0,o=[];++n<r;){var i,l=e[n],u=t?t(l):l;n&&ya(u,i)||(i=u,o[a++]=0===l?0:l)}return o}function Gt(e){return"number"==typeof e?e:ja(e)?Xo:+e}function Mt(e){if("string"==typeof e)return e;if(wa(e))return kl(e,Mt)+"";if(ja(e))return fe?fe.call(e):"";var t=e+"";return"0"==t&&1/e==-Zo?"-0":t}function Ut(e,t,n){var r=-1,a=Al,o=e.length,i=!0,l=[],u=l;if(n)i=!1,a=Dl;else if(200<=o){var s=t?null:Tn(e);if(s)return lu(s);i=!1,a=Zl,u=new we}else u=t?[]:l;e:for(;++r<o;){var c=e[r],d=t?t(c):c,c=n||0!==c?c:0;if(i&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),l.push(c)}else a(u,d,n)||(u!==l&&u.push(d),l.push(c))}return l}function Bt(e,t){return null==(e=ar(e,t=$t(t,e)))||delete e[vr(xr(t))]}function jt(e,t,n,r){return Ct(e,t,n(Ze(e,t)),r)}function Ft(e,t,n,r){for(var a=e.length,o=r?a:-1;(r?o--:++o<a)&&t(e[o],o,e););return n?At(e,r?0:o,r?o+1:a):At(e,r?o+1:0,r?a:o)}function Ht(e,t){return e instanceof ye&&(e=e.value()),Rl(t,function(e,t){return t.func.apply(t.thisArg,Ol([e],t.args))},e)}function zt(e,t,n){var r=e.length;if(r<2)return r?Ut(e[0]):[];for(var a=-1,o=E(r);++a<r;)for(var i=e[a],l=-1;++l<r;)l!=a&&(o[a]=Be(o[a]||i,e[l],t,n));return Ut(Ve(o,1),t,n)}function Wt(e,t,n){for(var r=-1,a=e.length,o=t.length,i={};++r<a;){var l=r<o?t[r]:Ho;n(i,e[r],l)}return i}function Vt(e){return _a(e)?e:[]}function qt(e){return"function"==typeof e?e:Oo}function $t(e,t){return wa(e)?e:Zn(e,t)?[e]:mr(Ya(e))}var Kt=Pt;function Jt(e,t,n){var r=e.length;return n=n===Ho?r:n,!t&&r<=n?e:At(e,t,n)}var Yt=R||function(e){return gl.clearTimeout(e)};function Zt(e,t){if(t)return e.slice();t=e.length,t=T?T(t):new e.constructor(t);return e.copy(t),t}function Qt(e){var t=new e.constructor(e.byteLength);return new _(t).set(new _(e)),t}function Xt(e,t){t=t?Qt(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function en(e,t){if(e!==t){var n=e!==Ho,r=null===e,a=e==e,o=ja(e),i=t!==Ho,l=null===t,u=t==t,s=ja(t);if(!l&&!s&&!o&&t<e||o&&i&&u&&!l&&!s||r&&i&&u||!n&&u||!a)return 1;if(!r&&!o&&!s&&e<t||s&&n&&a&&!r&&!o||l&&n&&a||!i&&a||!u)return-1}return 0}function tn(e,t,n,r){for(var a=-1,o=e.length,i=n.length,l=-1,u=t.length,s=V(o-i,0),c=E(u+s),d=!r;++l<u;)c[l]=t[l];for(;++a<i;)(d||a<o)&&(c[n[a]]=e[a]);for(;s--;)c[l++]=e[a++];return c}function nn(e,t,n,r){for(var a=-1,o=e.length,i=-1,l=n.length,u=-1,s=t.length,c=V(o-l,0),d=E(c+s),f=!r;++a<c;)d[a]=e[a];for(var p=a;++u<s;)d[p+u]=t[u];for(;++i<l;)(f||a<o)&&(d[p+n[i]]=e[a++]);return d}function rn(e,t){var n=-1,r=e.length;for(t=t||E(r);++n<r;)t[n]=e[n];return t}function an(e,t,n,r){var a=!n;n=n||{};for(var o=-1,i=t.length;++o<i;){var l=t[o],u=r?r(n[l],e[l],l,n,e):Ho;u===Ho&&(u=e[l]),(a?ke:Ne)(n,l,u)}return n}function on(a,o){return function(e,t){var n=wa(e)?Tl:Ae,r=o?o():{};return n(e,a,Bn(t,2),r)}}function ln(l){return Pt(function(e,t){var n=-1,r=t.length,a=1<r?t[r-1]:Ho,o=2<r?t[2]:Ho,a=3<l.length&&"function"==typeof a?(r--,a):Ho;for(o&&Yn(t[0],t[1],o)&&(a=r<3?Ho:a,r=1),e=v(e);++n<r;){var i=t[n];i&&l(e,i,n,a)}return e})}function un(o,i){return function(e,t){if(null==e)return e;if(!Pa(e))return o(e,t);for(var n=e.length,r=i?n:-1,a=v(e);(i?r--:++r<n)&&!1!==t(a[r],r,a););return e}}function sn(u){return function(e,t,n){for(var r=-1,a=v(e),o=n(e),i=o.length;i--;){var l=o[u?i:++r];if(!1===t(a[l],l,a))break}return e}}function cn(r){return function(e){var t=ru(e=Ya(e))?su(e):Ho,n=t?t[0]:e.charAt(0),e=t?Jt(t,1).join(""):e.slice(1);return n[r]()+e}}function dn(t){return function(e){return Rl(Lo(wo(e).replace(ll,"")),t,"")}}function fn(r){return function(){var e=arguments;switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=me(r.prototype),n=r.apply(t,e);return Da(n)?n:t}}function pn(o,i,l){var u=fn(o);return function e(){for(var t=arguments.length,n=E(t),r=t,a=Un(e);r--;)n[r]=arguments[r];a=t<3&&n[0]!==a&&n[t-1]!==a?[]:iu(n,a);return(t-=a.length)<l?Pn(o,i,hn,e.placeholder,Ho,n,a,Ho,Ho,l-t):_l(this&&this!==gl&&this instanceof e?u:o,this,n)}}function mn(o){return function(e,t,n){var r,a=v(e);Pa(e)||(r=Bn(t,3),e=so(e),t=function(e){return r(a[e],e,a)});n=o(e,t,n);return-1<n?a[r?e[n]:n]:Ho}}function vn(u){return kn(function(a){var o=a.length,e=o,t=ge.prototype.thru;for(u&&a.reverse();e--;){var n=a[e];if("function"!=typeof n)throw new w(zo);t&&!l&&"wrapper"==Mn(n)&&(l=new ge([],!0))}for(e=l?e:o;++e<o;)var r=Mn(n=a[e]),i="wrapper"==r?Gn(n):Ho,l=i&&Qn(i[0])&&424==i[1]&&!i[4].length&&1==i[9]?l[Mn(i[0])].apply(l,i[3]):1==n.length&&Qn(n)?l[r]():l.thru(n);return function(){var e=arguments,t=e[0];if(l&&1==e.length&&wa(t))return l.plant(t).value();for(var n=0,r=o?a[n].apply(this,e):t;++n<o;)r=a[n].call(this,r);return r}})}function hn(l,u,s,c,d,f,p,m,v,h){var g=u&Jo,y=1&u,b=2&u,I=24&u,S=512&u,w=b?Ho:fn(l);return function e(){for(var t,n=E(i=arguments.length),r=i;r--;)n[r]=arguments[r];if(I&&(t=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(n,o=Un(e))),c&&(n=tn(n,c,d,I)),f&&(n=nn(n,f,p,I)),i-=t,I&&i<h){var a=iu(n,o);return Pn(l,u,hn,e.placeholder,s,n,a,m,v,h-i)}var o=y?s:this,a=b?o[l]:l,i=n.length;return m?n=function(e,t){for(var n=e.length,r=q(t.length,n),a=rn(e);r--;){var o=t[r];e[r]=Jn(o,n)?a[o]:Ho}return e}(n,m):S&&1<i&&n.reverse(),g&&v<i&&(n.length=v),this&&this!==gl&&this instanceof e&&(a=w||fn(a)),a.apply(o,n)}}function gn(n,i){return function(e,t){return e=e,r=n,a=i(t),o={},Ke(e,function(e,t,n){r(o,a(e),t,n)}),o;var r,a,o}}function yn(r,a){return function(e,t){var n;if(e===Ho&&t===Ho)return a;if(e!==Ho&&(n=e),t!==Ho){if(n===Ho)return t;t="string"==typeof e||"string"==typeof t?(e=Mt(e),Mt(t)):(e=Gt(e),Gt(t)),n=r(e,t)}return n}}function bn(r){return kn(function(e){return e=kl(e,Jl(Bn())),Pt(function(t){var n=this;return r(e,function(e){return _l(e,n,t)})})})}function In(e,t){var n=(t=t===Ho?" ":Mt(t)).length;if(n<2)return n?Et(t,e):t;n=Et(t,U(e/uu(t)));return ru(t)?Jt(su(n),0,e).join(""):n.slice(0,e)}function Sn(l,e,u,s){var c=1&e,d=fn(l);return function e(){for(var t=-1,n=arguments.length,r=-1,a=s.length,o=E(a+n),i=this&&this!==gl&&this instanceof e?d:l;++r<a;)o[r]=s[r];for(;n--;)o[r++]=arguments[++t];return _l(i,c?u:this,o)}}function wn(r){return function(e,t,n){return n&&"number"!=typeof n&&Yn(e,t,n)&&(t=n=Ho),e=Va(e),t===Ho?(t=e,e=0):t=Va(t),function(e,t,n,r){for(var a=-1,o=V(U((t-e)/(n||1)),0),i=E(o);o--;)i[r?o:++a]=e,e+=n;return i}(e,t,n=n===Ho?e<t?1:-1:Va(n),r)}}function En(n){return function(e,t){return"string"==typeof e&&"string"==typeof t||(e=Ka(e),t=Ka(t)),n(e,t)}}function Pn(e,t,n,r,a,o,i,l,u,s){var c=8&t;t|=c?$o:Ko,4&(t&=~(c?Ko:$o))||(t&=-4);s=[e,t,a,c?o:Ho,c?i:Ho,c?Ho:o,c?Ho:i,l,u,s],n=n.apply(Ho,s);return Qn(e)&&ir(n,s),n.placeholder=r,sr(n,e,t)}function _n(e){var r=a[e];return function(e,t){if(e=Ka(e),(t=null==t?0:q(qa(t),292))&&H(e)){var n=(Ya(e)+"e").split("e");return+((n=(Ya(r(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(+n[1]-t))}return r(e)}}var Tn=ee&&1/lu(new ee([,-0]))[1]==Zo?function(e){return new ee(e)}:Mo;function Cn(o){return function(e){var t,n,r,a=Vn(e);return a==si?au(e):a==mi?(a=e,t=-1,n=Array(a.size),a.forEach(function(e){n[++t]=[e,e]}),n):kl(o(r=e),function(e){return[e,r[e]]})}}function xn(e,t,n,r,a,o,i,l){var u=2&t;if(!u&&"function"!=typeof e)throw new w(zo);var s=r?r.length:0;s||(t&=-97,r=a=Ho),i=i===Ho?i:V(qa(i),0),l=l===Ho?l:qa(l),s-=a?a.length:0,t&Ko&&(m=r,v=a,r=a=Ho);var c,d,f,p,m,v,h,g,y,b,I=u?Ho:Gn(e),S=[e,t,n,r,a,m,v,o,i,l];return I&&(d=I,p=(c=S)[1],m=d[1],o=(v=p|m)<131,i=m==Jo&&8==p||m==Jo&&p==Yo&&c[7].length<=d[8]||384==m&&d[7].length<=d[8]&&8==p,(o||i)&&(1&m&&(c[2]=d[2],v|=1&p?0:4),(p=d[3])&&(f=c[3],c[3]=f?tn(f,p,d[4]):p,c[4]=f?iu(c[3],Vo):d[4]),(p=d[5])&&(f=c[5],c[5]=f?nn(f,p,d[6]):p,c[6]=f?iu(c[5],Vo):d[6]),(p=d[7])&&(c[7]=p),m&Jo&&(c[8]=null==c[8]?d[8]:q(c[8],d[8])),null==c[9]&&(c[9]=d[9]),c[0]=d[0],c[1]=v)),e=S[0],t=S[1],n=S[2],r=S[3],a=S[4],!(l=S[9]=S[9]===Ho?u?0:e.length:V(S[9]-s,0))&&24&t&&(t&=-25),n=t&&1!=t?8==t||t==qo?pn(e,t,l):t!=$o&&33!=t||a.length?hn.apply(Ho,S):Sn(e,t,n,r):(g=n,y=1&t,b=fn(h=e),function e(){return(this&&this!==gl&&this instanceof e?b:h).apply(y?g:this,arguments)}),sr((I?xt:ir)(n,S),e,t)}function Nn(e,t,n,r){return e===Ho||ya(e,m[n])&&!y.call(r,n)?t:e}function Ln(e,t,n,r,a,o){return Da(e)&&Da(t)&&(o.set(t,e),ht(e,t,Ho,Ln,o),o.delete(t)),e}function An(e){return Ga(e)?Ho:e}function Dn(e,t,n,r,a,o){var i=1&n,l=e.length,u=t.length;if(l!=u&&!(i&&l<u))return!1;var s=o.get(e),u=o.get(t);if(s&&u)return s==t&&u==e;var c=-1,d=!0,f=2&n?new we:Ho;for(o.set(e,t),o.set(t,e);++c<l;){var p,m=e[c],v=t[c];if(r&&(p=i?r(v,m,c,t,e,o):r(m,v,c,e,t,o)),p!==Ho){if(p)continue;d=!1;break}if(f){if(!Ml(t,function(e,t){return!Zl(f,t)&&(m===e||a(m,e,n,r,o))&&f.push(t)})){d=!1;break}}else if(m!==v&&!a(m,v,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function kn(e){return ur(rr(e,Ho,Er),e+"")}function On(e){return Qe(e,so,zn)}function Rn(e){return Qe(e,co,Wn)}var Gn=re?function(e){return re.get(e)}:Mo;function Mn(e){for(var t=e.name+"",n=ae[t],r=y.call(ae,t)?n.length:0;r--;){var a=n[r],o=a.func;if(null==o||o==e)return a.name}return t}function Un(e){return(y.call(pe,"placeholder")?pe:e).placeholder}function Bn(){var e=(e=pe.iteratee||Ro)===Ro?st:e;return arguments.length?e(arguments[0],arguments[1]):e}function jn(e,t){var n,r=e.__data__;return("string"==(e=typeof(n=t))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Fn(e){for(var t=so(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,tr(a)]}return t}function Hn(e,t){t=t,t=null==(e=e)?Ho:e[t];return ut(t)?t:Ho}var zn=j?function(t){return null==t?[]:(t=v(t),Ll(j(t),function(e){return N.call(t,e)}))}:Bo,Wn=j?function(e){for(var t=[];e;)Ol(t,zn(e)),e=C(e);return t}:Bo,Vn=Xe;function qn(e,t,n){for(var r=-1,a=(t=$t(t,e)).length,o=!1;++r<a;){var i=vr(t[r]);if(!(o=null!=e&&n(e,i)))break;e=e[i]}return o||++r!=a?o:!!(a=null==e?0:e.length)&&Aa(a)&&Jn(i,a)&&(wa(e)||Sa(e))}function $n(e){return"function"!=typeof e.constructor||er(e)?{}:me(C(e))}function Kn(e){return wa(e)||Sa(e)||!!(A&&e&&e[A])}function Jn(e,t){var n=typeof e;return!!(t=null==t?Qo:t)&&("number"==n||"symbol"!=n&&rl.test(e))&&-1<e&&e%1==0&&e<t}function Yn(e,t,n){if(Da(n)){var r=typeof t;return("number"==r?Pa(n)&&Jn(t,n.length):"string"==r&&t in n)&&ya(n[t],e)}}function Zn(e,t){if(!wa(e)){var n=typeof e;return"number"==n||"symbol"==n||"boolean"==n||null==e||ja(e)||(ji.test(e)||!Bi.test(e)||null!=t&&e in v(t))}}function Qn(e){var t=Mn(e),n=pe[t];if("function"==typeof n&&t in ye.prototype){if(e===n)return 1;n=Gn(n);return n&&e===n[0]}}(Z&&Vn(new Z(new ArrayBuffer(1)))!=bi||Q&&Vn(new Q)!=si||X&&Vn(X.resolve())!=fi||ee&&Vn(new ee)!=mi||te&&Vn(new te)!=gi)&&(Vn=function(e){var t=Xe(e),e=t==di?e.constructor:Ho,e=e?hr(e):"";if(e)switch(e){case oe:return bi;case ie:return si;case le:return fi;case ue:return mi;case se:return gi}return t});var Xn=i?Na:jo;function er(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||m)}function tr(e){return e==e&&!Da(e)}function nr(t,n){return function(e){return null!=e&&(e[t]===n&&(n!==Ho||t in v(e)))}}function rr(o,i,l){return i=V(i===Ho?o.length-1:i,0),function(){for(var e=arguments,t=-1,n=V(e.length-i,0),r=E(n);++t<n;)r[t]=e[i+t];t=-1;for(var a=E(i+1);++t<i;)a[t]=e[t];return a[i]=l(r),_l(o,this,a)}}function ar(e,t){return t.length<2?e:Ze(e,At(t,0,-1))}function or(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ir=cr(xt),lr=M||function(e,t){return gl.setTimeout(e,t)},ur=cr(Nt);function sr(e,t,n){var r,a,t=t+"";return ur(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(1<n?"& ":"")+t[r],t=t.join(2<n?", ":" "),e.replace(Vi,"{\n/* [wrapped with "+t+"] */\n")}(t,(r=(t=(t=t).match(qi))?t[1].split($i):[],a=n,Cl(ti,function(e){var t="_."+e[0];a&e[1]&&!Al(r,t)&&r.push(t)}),r.sort())))}function cr(n){var r=0,a=0;return function(){var e=$(),t=16-(e-a);if(a=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(Ho,arguments)}}function dr(e,t){var n=-1,r=e.length,a=r-1;for(t=t===Ho?r:t;++n<t;){var o=wt(n,a),i=e[o];e[o]=e[n],e[n]=i}return e.length=t,e}var fr,pr,mr=(pr=(fr=fa(fr=function(e){var a=[];return 46===e.charCodeAt(0)&&a.push(""),e.replace(Fi,function(e,t,n,r){a.push(n?r.replace(Yi,"$1"):t||e)}),a},function(e){return 500===pr.size&&pr.clear(),e})).cache,fr);function vr(e){if("string"==typeof e||ja(e))return e;var t=e+"";return"0"==t&&1/e==-Zo?"-0":t}function hr(e){if(null!=e){try{return l.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function gr(e){if(e instanceof ye)return e.clone();var t=new ge(e.__wrapped__,e.__chain__);return t.__actions__=rn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var yr=Pt(function(e,t){return _a(e)?Be(e,Ve(t,1,_a,!0)):[]}),br=Pt(function(e,t){var n=xr(t);return _a(n)&&(n=Ho),_a(e)?Be(e,Ve(t,1,_a,!0),Bn(n,2)):[]}),Ir=Pt(function(e,t){var n=xr(t);return _a(n)&&(n=Ho),_a(e)?Be(e,Ve(t,1,_a,!0),Ho,n):[]});function Sr(e,t,n){var r=null==e?0:e.length;if(!r)return-1;n=null==n?0:qa(n);return n<0&&(n=V(r+n,0)),Bl(e,Bn(t,3),n)}function wr(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==Ho&&(a=qa(n),a=n<0?V(r+a,0):q(a,r-1)),Bl(e,Bn(t,3),a,!0)}function Er(e){return(null==e?0:e.length)?Ve(e,1):[]}function Pr(e){return e&&e.length?e[0]:Ho}var _r=Pt(function(e){var t=kl(e,Vt);return t.length&&t[0]===e[0]?rt(t):[]}),Tr=Pt(function(e){var t=xr(e),n=kl(e,Vt);return t===xr(n)?t=Ho:n.pop(),n.length&&n[0]===e[0]?rt(n,Bn(t,2)):[]}),Cr=Pt(function(e){var t=xr(e),n=kl(e,Vt);return(t="function"==typeof t?t:Ho)&&n.pop(),n.length&&n[0]===e[0]?rt(n,Ho,t):[]});function xr(e){var t=null==e?0:e.length;return t?e[t-1]:Ho}var Nr=Pt(Lr);function Lr(e,t){return e&&e.length&&t&&t.length?It(e,t):e}var Ar=kn(function(e,t){var n=null==e?0:e.length,r=Oe(e,t);return St(e,kl(t,function(e){return Jn(e,n)?+e:e}).sort(en)),r});function Dr(e){return null==e?e:Y.call(e)}var kr=Pt(function(e){return Ut(Ve(e,1,_a,!0))}),Or=Pt(function(e){var t=xr(e);return _a(t)&&(t=Ho),Ut(Ve(e,1,_a,!0),Bn(t,2))}),Rr=Pt(function(e){var t="function"==typeof(t=xr(e))?t:Ho;return Ut(Ve(e,1,_a,!0),Ho,t)});function Gr(t){if(!t||!t.length)return[];var n=0;return t=Ll(t,function(e){return _a(e)&&(n=V(e.length,n),1)}),$l(n,function(e){return kl(t,Wl(e))})}function Mr(e,t){if(!e||!e.length)return[];e=Gr(e);return null==t?e:kl(e,function(e){return _l(t,Ho,e)})}var Ur=Pt(function(e,t){return _a(e)?Be(e,t):[]}),Br=Pt(function(e){return zt(Ll(e,_a))}),jr=Pt(function(e){var t=xr(e);return _a(t)&&(t=Ho),zt(Ll(e,_a),Bn(t,2))}),Fr=Pt(function(e){var t="function"==typeof(t=xr(e))?t:Ho;return zt(Ll(e,_a),Ho,t)}),Hr=Pt(Gr);var zr=Pt(function(e){var t=e.length,t="function"==typeof(t=1<t?e[t-1]:Ho)?(e.pop(),t):Ho;return Mr(e,t)});function Wr(e){e=pe(e);return e.__chain__=!0,e}function Vr(e,t){return t(e)}var qr=kn(function(t){function e(e){return Oe(e,t)}var n=t.length,r=n?t[0]:0,a=this.__wrapped__;return!(1<n||this.__actions__.length)&&a instanceof ye&&Jn(r)?((a=a.slice(r,+r+(n?1:0))).__actions__.push({func:Vr,args:[e],thisArg:Ho}),new ge(a,this.__chain__).thru(function(e){return n&&!e.length&&e.push(Ho),e})):this.thru(e)});var $r=on(function(e,t,n){y.call(e,n)?++e[n]:ke(e,n,1)});var Kr=mn(Sr),Jr=mn(wr);function Yr(e,t){return(wa(e)?Cl:je)(e,Bn(t,3))}function Zr(e,t){return(wa(e)?xl:Fe)(e,Bn(t,3))}var Qr=on(function(e,t,n){y.call(e,n)?e[n].push(t):ke(e,n,[t])});var Xr=Pt(function(e,t,n){var r=-1,a="function"==typeof t,o=Pa(e)?E(e.length):[];return je(e,function(e){o[++r]=a?_l(t,e,n):at(e,t,n)}),o}),ea=on(function(e,t,n){ke(e,n,t)});function ta(e,t){return(wa(e)?kl:pt)(e,Bn(t,3))}var na=on(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var ra=Pt(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&Yn(e,t[0],t[1])?t=[]:2<n&&Yn(t[0],t[1],t[2])&&(t=[t[0]]),yt(e,Ve(t,1),[])}),aa=G||function(){return gl.Date.now()};function oa(e,t,n){return t=n?Ho:t,t=e&&null==t?e.length:t,xn(e,Jo,Ho,Ho,Ho,Ho,t)}function ia(e,t){var n;if("function"!=typeof t)throw new w(zo);return e=qa(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=Ho),n}}var la=Pt(function(e,t,n){var r,a=1;return n.length&&(r=iu(n,Un(la)),a|=$o),xn(e,a,t,n,r)}),ua=Pt(function(e,t,n){var r,a=3;return n.length&&(r=iu(n,Un(ua)),a|=$o),xn(t,a,e,n,r)});function sa(r,n,e){var a,o,i,l,u,s,c=0,d=!1,f=!1,t=!0;if("function"!=typeof r)throw new w(zo);function p(e){var t=a,n=o;return a=o=Ho,c=e,l=r.apply(n,t)}function m(e){var t=e-s;return s===Ho||n<=t||t<0||f&&i<=e-c}function v(){var e,t=aa();if(m(t))return h(t);u=lr(v,(t=n-((e=t)-s),f?q(t,i-(e-c)):t))}function h(e){return u=Ho,t&&a?p(e):(a=o=Ho,l)}function g(){var e=aa(),t=m(e);if(a=arguments,o=this,s=e,t){if(u===Ho)return c=t=s,u=lr(v,n),d?p(t):l;if(f)return Yt(u),u=lr(v,n),p(s)}return u===Ho&&(u=lr(v,n)),l}return n=Ka(n)||0,Da(e)&&(d=!!e.leading,f="maxWait"in e,i=f?V(Ka(e.maxWait)||0,n):i,t="trailing"in e?!!e.trailing:t),g.cancel=function(){u!==Ho&&Yt(u),c=0,a=s=o=u=Ho},g.flush=function(){return u===Ho?l:h(aa())},g}var ca=Pt(function(e,t){return Ue(e,1,t)}),da=Pt(function(e,t,n){return Ue(e,Ka(t)||0,n)});function fa(r,a){if("function"!=typeof r||null!=a&&"function"!=typeof a)throw new w(zo);var o=function(){var e=arguments,t=a?a.apply(this,e):e[0],n=o.cache;if(n.has(t))return n.get(t);e=r.apply(this,e);return o.cache=n.set(t,e)||n,e};return o.cache=new(fa.Cache||Se),o}function pa(t){if("function"!=typeof t)throw new w(zo);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}fa.Cache=Se;var ma=Kt(function(r,a){var o=(a=1==a.length&&wa(a[0])?kl(a[0],Jl(Bn())):kl(Ve(a,1),Jl(Bn()))).length;return Pt(function(e){for(var t=-1,n=q(e.length,o);++t<n;)e[t]=a[t].call(this,e[t]);return _l(r,this,e)})}),va=Pt(function(e,t){var n=iu(t,Un(va));return xn(e,$o,Ho,t,n)}),ha=Pt(function(e,t){var n=iu(t,Un(ha));return xn(e,Ko,Ho,t,n)}),ga=kn(function(e,t){return xn(e,Yo,Ho,Ho,Ho,t)});function ya(e,t){return e===t||e!=e&&t!=t}var ba=En(et),Ia=En(function(e,t){return t<=e}),Sa=ot(function(){return arguments}())?ot:function(e){return ka(e)&&y.call(e,"callee")&&!N.call(e,"callee")},wa=E.isArray,Ea=bl?Jl(bl):function(e){return ka(e)&&Xe(e)==yi};function Pa(e){return null!=e&&Aa(e.length)&&!Na(e)}function _a(e){return ka(e)&&Pa(e)}var Ta=F||jo,Ca=Il?Jl(Il):function(e){return ka(e)&&Xe(e)==oi};function xa(e){if(!ka(e))return!1;var t=Xe(e);return t==ii||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Ga(e)}function Na(e){if(!Da(e))return!1;e=Xe(e);return e==li||e==ui||"[object AsyncFunction]"==e||"[object Proxy]"==e}function La(e){return"number"==typeof e&&e==qa(e)}function Aa(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=Qo}function Da(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ka(e){return null!=e&&"object"==typeof e}var Oa=Sl?Jl(Sl):function(e){return ka(e)&&Vn(e)==si};function Ra(e){return"number"==typeof e||ka(e)&&Xe(e)==ci}function Ga(e){if(!ka(e)||Xe(e)!=di)return!1;e=C(e);if(null===e)return!0;e=y.call(e,"constructor")&&e.constructor;return"function"==typeof e&&e instanceof e&&l.call(e)==g}var Ma=wl?Jl(wl):function(e){return ka(e)&&Xe(e)==pi};var Ua=El?Jl(El):function(e){return ka(e)&&Vn(e)==mi};function Ba(e){return"string"==typeof e||!wa(e)&&ka(e)&&Xe(e)==vi}function ja(e){return"symbol"==typeof e||ka(e)&&Xe(e)==hi}var Fa=Pl?Jl(Pl):function(e){return ka(e)&&Aa(e.length)&&!!pl[Xe(e)]};var Ha=En(ft),za=En(function(e,t){return e<=t});function Wa(e){if(!e)return[];if(Pa(e))return(Ba(e)?su:rn)(e);if(D&&e[D])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[D]());var t=Vn(e);return(t==si?au:t==mi?lu:bo)(e)}function Va(e){return e?(e=Ka(e))!==Zo&&e!==-Zo?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0}function qa(e){var t=Va(e),e=t%1;return t==t?e?t-e:t:0}function $a(e){return e?Re(qa(e),0,ei):0}function Ka(e){if("number"==typeof e)return e;if(ja(e))return Xo;if(Da(e)&&(e=Da(t="function"==typeof e.valueOf?e.valueOf():e)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=Kl(e);var t=el.test(e);return t||nl.test(e)?hl(e.slice(2),t?2:8):Xi.test(e)?Xo:+e}function Ja(e){return an(e,co(e))}function Ya(e){return null==e?"":Mt(e)}var Za=ln(function(e,t){if(er(t)||Pa(t))an(t,so(t),e);else for(var n in t)y.call(t,n)&&Ne(e,n,t[n])}),Qa=ln(function(e,t){an(t,co(t),e)}),Xa=ln(function(e,t,n,r){an(t,co(t),e,r)}),eo=ln(function(e,t,n,r){an(t,so(t),e,r)}),to=kn(Oe);var no=Pt(function(e,t){e=v(e);var n=-1,r=t.length,a=2<r?t[2]:Ho;for(a&&Yn(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],i=co(o),l=-1,u=i.length;++l<u;){var s=i[l],c=e[s];(c===Ho||ya(c,m[s])&&!y.call(e,s))&&(e[s]=o[s])}return e}),ro=Pt(function(e){return e.push(Ho,Ln),_l(po,Ho,e)});function ao(e,t,n){t=null==e?Ho:Ze(e,t);return t===Ho?n:t}function oo(e,t){return null!=e&&qn(e,t,nt)}var io=gn(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=h.call(t)),e[t]=n},Do(Oo)),lo=gn(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=h.call(t)),y.call(e,t)?e[t].push(n):e[t]=[n]},Bn),uo=Pt(at);function so(e){return(Pa(e)?Pe:ct)(e)}function co(e){return Pa(e)?Pe(e,!0):dt(e)}var fo=ln(function(e,t,n){ht(e,t,n)}),po=ln(function(e,t,n,r){ht(e,t,n,r)}),mo=kn(function(t,e){var n={};if(null==t)return n;var r=!1;e=kl(e,function(e){return e=$t(e,t),r=r||1<e.length,e}),an(t,Rn(t),n),r&&(n=Ge(n,7,An));for(var a=e.length;a--;)Bt(n,e[a]);return n});var vo=kn(function(e,t){return null==e?{}:bt(n=e,t,function(e,t){return oo(n,t)});var n});function ho(e,n){if(null==e)return{};var t=kl(Rn(e),function(e){return[e]});return n=Bn(n),bt(e,t,function(e,t){return n(e,t[0])})}var go=Cn(so),yo=Cn(co);function bo(e){return null==e?[]:Yl(e,so(e))}var Io=dn(function(e,t,n){return t=t.toLowerCase(),e+(n?So(t):t)});function So(e){return No(Ya(e).toLowerCase())}function wo(e){return(e=Ya(e))&&e.replace(al,eu).replace(ul,"")}var Eo=dn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Po=dn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),_o=cn("toLowerCase");var To=dn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var Co=dn(function(e,t,n){return e+(n?" ":"")+No(t)});var xo=dn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),No=cn("toUpperCase");function Lo(e,t,n){return e=Ya(e),(t=n?Ho:t)===Ho?(n=e,cl.test(n)?e.match(sl)||[]:e.match(Ki)||[]):e.match(t)||[]}var Ao=Pt(function(e,t){try{return _l(e,Ho,t)}catch(e){return xa(e)?e:new d(e)}}),r=kn(function(t,e){return Cl(e,function(e){e=vr(e),ke(t,e,la(t[e],t))}),t});function Do(e){return function(){return e}}var ko=vn(),S=vn(!0);function Oo(e){return e}function Ro(e){return st("function"==typeof e?e:Ge(e,1))}n=Pt(function(t,n){return function(e){return at(e,t,n)}}),t=Pt(function(t,n){return function(e){return at(t,e,n)}});function Go(r,t,e){var n=so(t),a=Ye(t,n);null!=e||Da(t)&&(a.length||!n.length)||(e=t,t=r,r=this,a=Ye(t,so(t)));var o=!(Da(e)&&"chain"in e&&!e.chain),i=Na(r);return Cl(a,function(e){var n=t[e];r[e]=n,i&&(r.prototype[e]=function(){var e=this.__chain__;if(o||e){var t=r(this.__wrapped__);return(t.__actions__=rn(this.__actions__)).push({func:n,args:arguments,thisArg:r}),t.__chain__=e,t}return n.apply(r,Ol([this.value()],arguments))})}),r}function Mo(){}P=bn(kl),ce=bn(Nl),R=bn(Ml);function Uo(e){return Zn(e)?Wl(vr(e)):(t=e,function(e){return Ze(e,t)});var t}Z=wn(),X=wn(!0);function Bo(){return[]}function jo(){return!1}te=yn(function(e,t){return e+t},0),i=_n("ceil"),M=yn(function(e,t){return e/t},1),Nt=_n("floor");var Fo,G=yn(function(e,t){return e*t},1),Kt=_n("round"),F=yn(function(e,t){return e-t},0);return pe.after=function(e,t){if("function"!=typeof t)throw new w(zo);return e=qa(e),function(){if(--e<1)return t.apply(this,arguments)}},pe.ary=oa,pe.assign=Za,pe.assignIn=Qa,pe.assignInWith=Xa,pe.assignWith=eo,pe.at=to,pe.before=ia,pe.bind=la,pe.bindAll=r,pe.bindKey=ua,pe.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return wa(e)?e:[e]},pe.chain=Wr,pe.chunk=function(e,t,n){t=(n?Yn(e,t,n):t===Ho)?1:V(qa(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var a=0,o=0,i=E(U(r/t));a<r;)i[o++]=At(e,a,a+=t);return i},pe.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var o=e[t];o&&(a[r++]=o)}return a},pe.concat=function(){var e=arguments.length;if(!e)return[];for(var t=E(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Ol(wa(n)?rn(n):[n],Ve(t,1))},pe.cond=function(r){var a=null==r?0:r.length,t=Bn();return r=a?kl(r,function(e){if("function"!=typeof e[1])throw new w(zo);return[t(e[0]),e[1]]}):[],Pt(function(e){for(var t=-1;++t<a;){var n=r[t];if(_l(n[0],this,e))return _l(n[1],this,e)}})},pe.conforms=function(e){return t=Ge(e,1),n=so(t),function(e){return Me(e,t,n)};var t,n},pe.constant=Do,pe.countBy=$r,pe.create=function(e,t){return e=me(e),null==t?e:De(e,t)},pe.curry=function e(t,n,r){n=xn(t,8,Ho,Ho,Ho,Ho,Ho,n=r?Ho:n);return n.placeholder=e.placeholder,n},pe.curryRight=function e(t,n,r){n=xn(t,qo,Ho,Ho,Ho,Ho,Ho,n=r?Ho:n);return n.placeholder=e.placeholder,n},pe.debounce=sa,pe.defaults=no,pe.defaultsDeep=ro,pe.defer=ca,pe.delay=da,pe.difference=yr,pe.differenceBy=br,pe.differenceWith=Ir,pe.drop=function(e,t,n){var r=null==e?0:e.length;return r?At(e,(t=n||t===Ho?1:qa(t))<0?0:t,r):[]},pe.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?At(e,0,(t=r-(t=n||t===Ho?1:qa(t)))<0?0:t):[]},pe.dropRightWhile=function(e,t){return e&&e.length?Ft(e,Bn(t,3),!0,!0):[]},pe.dropWhile=function(e,t){return e&&e.length?Ft(e,Bn(t,3),!0):[]},pe.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&Yn(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=qa(n))<0&&(n=a<-n?0:a+n),(r=r===Ho||a<r?a:qa(r))<0&&(r+=a),r=r<n?0:$a(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},pe.filter=function(e,t){return(wa(e)?Ll:We)(e,Bn(t,3))},pe.flatMap=function(e,t){return Ve(ta(e,t),1)},pe.flatMapDeep=function(e,t){return Ve(ta(e,t),Zo)},pe.flatMapDepth=function(e,t,n){return n=n===Ho?1:qa(n),Ve(ta(e,t),n)},pe.flatten=Er,pe.flattenDeep=function(e){return(null==e?0:e.length)?Ve(e,Zo):[]},pe.flattenDepth=function(e,t){return(null==e?0:e.length)?Ve(e,t=t===Ho?1:qa(t)):[]},pe.flip=function(e){return xn(e,512)},pe.flow=ko,pe.flowRight=S,pe.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r},pe.functions=function(e){return null==e?[]:Ye(e,so(e))},pe.functionsIn=function(e){return null==e?[]:Ye(e,co(e))},pe.groupBy=Qr,pe.initial=function(e){return(null==e?0:e.length)?At(e,0,-1):[]},pe.intersection=_r,pe.intersectionBy=Tr,pe.intersectionWith=Cr,pe.invert=io,pe.invertBy=lo,pe.invokeMap=Xr,pe.iteratee=Ro,pe.keyBy=ea,pe.keys=so,pe.keysIn=co,pe.map=ta,pe.mapKeys=function(e,r){var a={};return r=Bn(r,3),Ke(e,function(e,t,n){ke(a,r(e,t,n),e)}),a},pe.mapValues=function(e,r){var a={};return r=Bn(r,3),Ke(e,function(e,t,n){ke(a,t,r(e,t,n))}),a},pe.matches=function(e){return mt(Ge(e,1))},pe.matchesProperty=function(e,t){return vt(e,Ge(t,1))},pe.memoize=fa,pe.merge=fo,pe.mergeWith=po,pe.method=n,pe.methodOf=t,pe.mixin=Go,pe.negate=pa,pe.nthArg=function(t){return t=qa(t),Pt(function(e){return gt(e,t)})},pe.omit=mo,pe.omitBy=function(e,t){return ho(e,pa(Bn(t)))},pe.once=function(e){return ia(2,e)},pe.orderBy=function(e,t,n,r){return null==e?[]:(wa(t)||(t=null==t?[]:[t]),wa(n=r?Ho:n)||(n=null==n?[]:[n]),yt(e,t,n))},pe.over=P,pe.overArgs=ma,pe.overEvery=ce,pe.overSome=R,pe.partial=va,pe.partialRight=ha,pe.partition=na,pe.pick=vo,pe.pickBy=ho,pe.property=Uo,pe.propertyOf=function(t){return function(e){return null==t?Ho:Ze(t,e)}},pe.pull=Nr,pe.pullAll=Lr,pe.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?It(e,t,Bn(n,2)):e},pe.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?It(e,t,Ho,n):e},pe.pullAt=Ar,pe.range=Z,pe.rangeRight=X,pe.rearg=ga,pe.reject=function(e,t){return(wa(e)?Ll:We)(e,pa(Bn(t,3)))},pe.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],o=e.length;for(t=Bn(t,3);++r<o;){var i=e[r];t(i,r,e)&&(n.push(i),a.push(r))}return St(e,a),n},pe.rest=function(e,t){if("function"!=typeof e)throw new w(zo);return Pt(e,t=t===Ho?t:qa(t))},pe.reverse=Dr,pe.sampleSize=function(e,t,n){return t=(n?Yn(e,t,n):t===Ho)?1:qa(t),(wa(e)?Te:Tt)(e,t)},pe.set=function(e,t,n){return null==e?e:Ct(e,t,n)},pe.setWith=function(e,t,n,r){return r="function"==typeof r?r:Ho,null==e?e:Ct(e,t,n,r)},pe.shuffle=function(e){return(wa(e)?Ce:Lt)(e)},pe.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n=n&&"number"!=typeof n&&Yn(e,t,n)?(t=0,r):(t=null==t?0:qa(t),n===Ho?r:qa(n)),At(e,t,n)):[]},pe.sortBy=ra,pe.sortedUniq=function(e){return e&&e.length?Rt(e):[]},pe.sortedUniqBy=function(e,t){return e&&e.length?Rt(e,Bn(t,2)):[]},pe.split=function(e,t,n){return n&&"number"!=typeof n&&Yn(e,t,n)&&(t=n=Ho),(n=n===Ho?ei:n>>>0)?(e=Ya(e))&&("string"==typeof t||null!=t&&!Ma(t))&&!(t=Mt(t))&&ru(e)?Jt(su(e),0,n):e.split(t,n):[]},pe.spread=function(n,r){if("function"!=typeof n)throw new w(zo);return r=null==r?0:V(qa(r),0),Pt(function(e){var t=e[r],e=Jt(e,0,r);return t&&Ol(e,t),_l(n,this,e)})},pe.tail=function(e){var t=null==e?0:e.length;return t?At(e,1,t):[]},pe.take=function(e,t,n){return e&&e.length?At(e,0,(t=n||t===Ho?1:qa(t))<0?0:t):[]},pe.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?At(e,(t=r-(t=n||t===Ho?1:qa(t)))<0?0:t,r):[]},pe.takeRightWhile=function(e,t){return e&&e.length?Ft(e,Bn(t,3),!1,!0):[]},pe.takeWhile=function(e,t){return e&&e.length?Ft(e,Bn(t,3)):[]},pe.tap=function(e,t){return t(e),e},pe.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new w(zo);return Da(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),sa(e,t,{leading:r,maxWait:t,trailing:a})},pe.thru=Vr,pe.toArray=Wa,pe.toPairs=go,pe.toPairsIn=yo,pe.toPath=function(e){return wa(e)?kl(e,vr):ja(e)?[e]:rn(mr(Ya(e)))},pe.toPlainObject=Ja,pe.transform=function(e,r,a){var t,n=wa(e),o=n||Ta(e)||Fa(e);return r=Bn(r,4),null==a&&(t=e&&e.constructor,a=o?n?new t:[]:Da(e)&&Na(t)?me(C(e)):{}),(o?Cl:Ke)(e,function(e,t,n){return r(a,e,t,n)}),a},pe.unary=function(e){return oa(e,1)},pe.union=kr,pe.unionBy=Or,pe.unionWith=Rr,pe.uniq=function(e){return e&&e.length?Ut(e):[]},pe.uniqBy=function(e,t){return e&&e.length?Ut(e,Bn(t,2)):[]},pe.uniqWith=function(e,t){return t="function"==typeof t?t:Ho,e&&e.length?Ut(e,Ho,t):[]},pe.unset=function(e,t){return null==e||Bt(e,t)},pe.unzip=Gr,pe.unzipWith=Mr,pe.update=function(e,t,n){return null==e?e:jt(e,t,qt(n))},pe.updateWith=function(e,t,n,r){return r="function"==typeof r?r:Ho,null==e?e:jt(e,t,qt(n),r)},pe.values=bo,pe.valuesIn=function(e){return null==e?[]:Yl(e,co(e))},pe.without=Ur,pe.words=Lo,pe.wrap=function(e,t){return va(qt(t),e)},pe.xor=Br,pe.xorBy=jr,pe.xorWith=Fr,pe.zip=Hr,pe.zipObject=function(e,t){return Wt(e||[],t||[],Ne)},pe.zipObjectDeep=function(e,t){return Wt(e||[],t||[],Ct)},pe.zipWith=zr,pe.entries=go,pe.entriesIn=yo,pe.extend=Qa,pe.extendWith=Xa,Go(pe,pe),pe.add=te,pe.attempt=Ao,pe.camelCase=Io,pe.capitalize=So,pe.ceil=i,pe.clamp=function(e,t,n){return n===Ho&&(n=t,t=Ho),n!==Ho&&(n=(n=Ka(n))==n?n:0),t!==Ho&&(t=(t=Ka(t))==t?t:0),Re(Ka(e),t,n)},pe.clone=function(e){return Ge(e,4)},pe.cloneDeep=function(e){return Ge(e,5)},pe.cloneDeepWith=function(e,t){return Ge(e,5,t="function"==typeof t?t:Ho)},pe.cloneWith=function(e,t){return Ge(e,4,t="function"==typeof t?t:Ho)},pe.conformsTo=function(e,t){return null==t||Me(e,t,so(t))},pe.deburr=wo,pe.defaultTo=function(e,t){return null==e||e!=e?t:e},pe.divide=M,pe.endsWith=function(e,t,n){e=Ya(e),t=Mt(t);var r=e.length,r=n=n===Ho?r:Re(qa(n),0,r);return 0<=(n-=t.length)&&e.slice(n,r)==t},pe.eq=ya,pe.escape=function(e){return(e=Ya(e))&&Ri.test(e)?e.replace(ki,tu):e},pe.escapeRegExp=function(e){return(e=Ya(e))&&zi.test(e)?e.replace(Hi,"\\$&"):e},pe.every=function(e,t,n){var r=wa(e)?Nl:He;return n&&Yn(e,t,n)&&(t=Ho),r(e,Bn(t,3))},pe.find=Kr,pe.findIndex=Sr,pe.findKey=function(e,t){return Ul(e,Bn(t,3),Ke)},pe.findLast=Jr,pe.findLastIndex=wr,pe.findLastKey=function(e,t){return Ul(e,Bn(t,3),Je)},pe.floor=Nt,pe.forEach=Yr,pe.forEachRight=Zr,pe.forIn=function(e,t){return null==e?e:qe(e,Bn(t,3),co)},pe.forInRight=function(e,t){return null==e?e:$e(e,Bn(t,3),co)},pe.forOwn=function(e,t){return e&&Ke(e,Bn(t,3))},pe.forOwnRight=function(e,t){return e&&Je(e,Bn(t,3))},pe.get=ao,pe.gt=ba,pe.gte=Ia,pe.has=function(e,t){return null!=e&&qn(e,t,tt)},pe.hasIn=oo,pe.head=Pr,pe.identity=Oo,pe.includes=function(e,t,n,r){return e=Pa(e)?e:bo(e),n=n&&!r?qa(n):0,r=e.length,n<0&&(n=V(r+n,0)),Ba(e)?n<=r&&-1<e.indexOf(t,n):!!r&&-1<jl(e,t,n)},pe.indexOf=function(e,t,n){var r=null==e?0:e.length;return r?((n=null==n?0:qa(n))<0&&(n=V(r+n,0)),jl(e,t,n)):-1},pe.inRange=function(e,t,n){return t=Va(t),n===Ho?(n=t,t=0):n=Va(n),(e=e=Ka(e))>=q(t=t,n=n)&&e<V(t,n)},pe.invoke=uo,pe.isArguments=Sa,pe.isArray=wa,pe.isArrayBuffer=Ea,pe.isArrayLike=Pa,pe.isArrayLikeObject=_a,pe.isBoolean=function(e){return!0===e||!1===e||ka(e)&&Xe(e)==ai},pe.isBuffer=Ta,pe.isDate=Ca,pe.isElement=function(e){return ka(e)&&1===e.nodeType&&!Ga(e)},pe.isEmpty=function(e){if(null==e)return!0;if(Pa(e)&&(wa(e)||"string"==typeof e||"function"==typeof e.splice||Ta(e)||Fa(e)||Sa(e)))return!e.length;var t,n=Vn(e);if(n==si||n==mi)return!e.size;if(er(e))return!ct(e).length;for(t in e)if(y.call(e,t))return!1;return!0},pe.isEqual=function(e,t){return it(e,t)},pe.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:Ho)?n(e,t):Ho;return r===Ho?it(e,t,Ho,n):!!r},pe.isError=xa,pe.isFinite=function(e){return"number"==typeof e&&H(e)},pe.isFunction=Na,pe.isInteger=La,pe.isLength=Aa,pe.isMap=Oa,pe.isMatch=function(e,t){return e===t||lt(e,t,Fn(t))},pe.isMatchWith=function(e,t,n){return n="function"==typeof n?n:Ho,lt(e,t,Fn(t),n)},pe.isNaN=function(e){return Ra(e)&&e!=+e},pe.isNative=function(e){if(Xn(e))throw new d("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ut(e)},pe.isNil=function(e){return null==e},pe.isNull=function(e){return null===e},pe.isNumber=Ra,pe.isObject=Da,pe.isObjectLike=ka,pe.isPlainObject=Ga,pe.isRegExp=Ma,pe.isSafeInteger=function(e){return La(e)&&-Qo<=e&&e<=Qo},pe.isSet=Ua,pe.isString=Ba,pe.isSymbol=ja,pe.isTypedArray=Fa,pe.isUndefined=function(e){return e===Ho},pe.isWeakMap=function(e){return ka(e)&&Vn(e)==gi},pe.isWeakSet=function(e){return ka(e)&&"[object WeakSet]"==Xe(e)},pe.join=function(e,t){return null==e?"":z.call(e,t)},pe.kebabCase=Eo,pe.last=xr,pe.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==Ho&&(a=(a=qa(n))<0?V(r+a,0):q(a,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Bl(e,Hl,a,!0)},pe.lowerCase=Po,pe.lowerFirst=_o,pe.lt=Ha,pe.lte=za,pe.max=function(e){return e&&e.length?ze(e,Oo,et):Ho},pe.maxBy=function(e,t){return e&&e.length?ze(e,Bn(t,2),et):Ho},pe.mean=function(e){return zl(e,Oo)},pe.meanBy=function(e,t){return zl(e,Bn(t,2))},pe.min=function(e){return e&&e.length?ze(e,Oo,ft):Ho},pe.minBy=function(e,t){return e&&e.length?ze(e,Bn(t,2),ft):Ho},pe.stubArray=Bo,pe.stubFalse=jo,pe.stubObject=function(){return{}},pe.stubString=function(){return""},pe.stubTrue=function(){return!0},pe.multiply=G,pe.nth=function(e,t){return e&&e.length?gt(e,qa(t)):Ho},pe.noConflict=function(){return gl._===this&&(gl._=b),this},pe.noop=Mo,pe.now=aa,pe.pad=function(e,t,n){e=Ya(e);var r=(t=qa(t))?uu(e):0;return!t||t<=r?e:In(B(r=(t-r)/2),n)+e+In(U(r),n)},pe.padEnd=function(e,t,n){e=Ya(e);var r=(t=qa(t))?uu(e):0;return t&&r<t?e+In(t-r,n):e},pe.padStart=function(e,t,n){e=Ya(e);var r=(t=qa(t))?uu(e):0;return t&&r<t?In(t-r,n)+e:e},pe.parseInt=function(e,t,n){return t=n||null==t?0:t&&+t,K(Ya(e).replace(Wi,""),t||0)},pe.random=function(e,t,n){var r;if(n&&"boolean"!=typeof n&&Yn(e,t,n)&&(t=n=Ho),n===Ho&&("boolean"==typeof t?(n=t,t=Ho):"boolean"==typeof e&&(n=e,e=Ho)),e===Ho&&t===Ho?(e=0,t=1):(e=Va(e),t===Ho?(t=e,e=0):t=Va(t)),t<e&&(r=e,e=t,t=r),n||e%1||t%1){n=J();return q(e+n*(t-e+vl("1e-"+((n+"").length-1))),t)}return wt(e,t)},pe.reduce=function(e,t,n){var r=wa(e)?Rl:Vl,a=arguments.length<3;return r(e,Bn(t,4),n,a,je)},pe.reduceRight=function(e,t,n){var r=wa(e)?Gl:Vl,a=arguments.length<3;return r(e,Bn(t,4),n,a,Fe)},pe.repeat=function(e,t,n){return t=(n?Yn(e,t,n):t===Ho)?1:qa(t),Et(Ya(e),t)},pe.replace=function(){var e=arguments,t=Ya(e[0]);return e.length<3?t:t.replace(e[1],e[2])},pe.result=function(e,t,n){var r=-1,a=(t=$t(t,e)).length;for(a||(a=1,e=Ho);++r<a;){var o=null==e?Ho:e[vr(t[r])];o===Ho&&(r=a,o=n),e=Na(o)?o.call(e):o}return e},pe.round=Kt,pe.runInContext=e,pe.sample=function(e){return(wa(e)?_e:_t)(e)},pe.size=function(e){if(null==e)return 0;if(Pa(e))return Ba(e)?uu(e):e.length;var t=Vn(e);return t==si||t==mi?e.size:ct(e).length},pe.snakeCase=To,pe.some=function(e,t,n){var r=wa(e)?Ml:Dt;return n&&Yn(e,t,n)&&(t=Ho),r(e,Bn(t,3))},pe.sortedIndex=function(e,t){return kt(e,t)},pe.sortedIndexBy=function(e,t,n){return Ot(e,t,Bn(n,2))},pe.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=kt(e,t);if(r<n&&ya(e[r],t))return r}return-1},pe.sortedLastIndex=function(e,t){return kt(e,t,!0)},pe.sortedLastIndexBy=function(e,t,n){return Ot(e,t,Bn(n,2),!0)},pe.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=kt(e,t,!0)-1;if(ya(e[n],t))return n}return-1},pe.startCase=Co,pe.startsWith=function(e,t,n){return e=Ya(e),n=null==n?0:Re(qa(n),0,e.length),t=Mt(t),e.slice(n,n+t.length)==t},pe.subtract=F,pe.sum=function(e){return e&&e.length?ql(e,Oo):0},pe.sumBy=function(e,t){return e&&e.length?ql(e,Bn(t,2)):0},pe.template=function(i,e,t){var n=pe.templateSettings;t&&Yn(i,e,t)&&(e=Ho),i=Ya(i),e=Xa({},e,n,Nn);var l,u,r=so(n=Xa({},e.imports,n.imports,Nn)),a=Yl(n,r),s=0,n=e.interpolate||ol,c="__p += '",n=p((e.escape||ol).source+"|"+n.source+"|"+(n===Ui?Zi:ol).source+"|"+(e.evaluate||ol).source+"|$","g"),o="//# sourceURL="+(y.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++fl+"]")+"\n";if(i.replace(n,function(e,t,n,r,a,o){return n=n||r,c+=i.slice(s,o).replace(il,nu),t&&(l=!0,c+="' +\n__e("+t+") +\n'"),a&&(u=!0,c+="';\n"+a+";\n__p += '"),n&&(c+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),s=o+e.length,e}),c+="';\n",e=y.call(e,"variable")&&e.variable){if(Ji.test(e))throw new d("Invalid `variable` option passed into `_.template`")}else c="with (obj) {\n"+c+"\n}\n";if(c=(u?c.replace(Ni,""):c).replace(Li,"$1").replace(Ai,"$1;"),c="function("+(e||"obj")+") {\n"+(e?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(l?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}",(e=Ao(function(){return f(r,o+"return "+c).apply(Ho,a)})).source=c,xa(e))throw e;return e},pe.times=function(e,t){if((e=qa(e))<1||Qo<e)return[];var n=ei,r=q(e,ei);for(t=Bn(t),e-=ei,r=$l(r,t);++n<e;)t(n);return r},pe.toFinite=Va,pe.toInteger=qa,pe.toLength=$a,pe.toLower=function(e){return Ya(e).toLowerCase()},pe.toNumber=Ka,pe.toSafeInteger=function(e){return e?Re(qa(e),-Qo,Qo):0===e?e:0},pe.toString=Ya,pe.toUpper=function(e){return Ya(e).toUpperCase()},pe.trim=function(e,t,n){return(e=Ya(e))&&(n||t===Ho)?Kl(e):e&&(t=Mt(t))?(e=su(e),t=su(t),Jt(e,Ql(e,t),Xl(e,t)+1).join("")):e},pe.trimEnd=function(e,t,n){return(e=Ya(e))&&(n||t===Ho)?e.slice(0,cu(e)+1):e&&(t=Mt(t))?Jt(e=su(e),0,Xl(e,su(t))+1).join(""):e},pe.trimStart=function(e,t,n){return(e=Ya(e))&&(n||t===Ho)?e.replace(Wi,""):e&&(t=Mt(t))?Jt(e=su(e),Ql(e,su(t))).join(""):e},pe.truncate=function(e,t){var n,r=30,a="...";Da(t)&&(n="separator"in t?t.separator:n,r="length"in t?qa(t.length):r,a="omission"in t?Mt(t.omission):a);var o,t=(e=Ya(e)).length;if(ru(e)&&(t=(o=su(e)).length),t<=r)return e;if((t=r-uu(a))<1)return a;if(r=o?Jt(o,0,t).join(""):e.slice(0,t),n===Ho)return r+a;if(o&&(t+=r.length-t),Ma(n)){if(e.slice(t).search(n)){var i,l=r;for(n.global||(n=p(n.source,Ya(Qi.exec(n))+"g")),n.lastIndex=0;i=n.exec(l);)var u=i.index;r=r.slice(0,u===Ho?t:u)}}else e.indexOf(Mt(n),t)==t||-1<(t=r.lastIndexOf(n))&&(r=r.slice(0,t));return r+a},pe.unescape=function(e){return(e=Ya(e))&&Oi.test(e)?e.replace(Di,du):e},pe.uniqueId=function(e){var t=++u;return Ya(e)+t},pe.upperCase=xo,pe.upperFirst=No,pe.each=Yr,pe.eachRight=Zr,pe.first=Pr,Go(pe,(Fo={},Ke(pe,function(e,t){y.call(pe.prototype,t)||(Fo[t]=e)}),Fo),{chain:!1}),pe.VERSION="4.17.21",Cl(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){pe[e].placeholder=pe}),Cl(["drop","take"],function(n,r){ye.prototype[n]=function(e){e=e===Ho?1:V(qa(e),0);var t=this.__filtered__&&!r?new ye(this):this.clone();return t.__filtered__?t.__takeCount__=q(e,t.__takeCount__):t.__views__.push({size:q(e,ei),type:n+(t.__dir__<0?"Right":"")}),t},ye.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),Cl(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;ye.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Bn(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Cl(["head","last"],function(e,t){var n="take"+(t?"Right":"");ye.prototype[e]=function(){return this[n](1).value()[0]}}),Cl(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");ye.prototype[e]=function(){return this.__filtered__?new ye(this):this[n](1)}}),ye.prototype.compact=function(){return this.filter(Oo)},ye.prototype.find=function(e){return this.filter(e).head()},ye.prototype.findLast=function(e){return this.reverse().find(e)},ye.prototype.invokeMap=Pt(function(t,n){return"function"==typeof t?new ye(this):this.map(function(e){return at(e,t,n)})}),ye.prototype.reject=function(e){return this.filter(pa(Bn(e)))},ye.prototype.slice=function(e,t){e=qa(e);var n=this;return n.__filtered__&&(0<e||t<0)?new ye(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==Ho&&(n=(t=qa(t))<0?n.dropRight(-t):n.take(t-e)),n)},ye.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ye.prototype.toArray=function(){return this.take(ei)},Ke(ye.prototype,function(s,e){var c=/^(?:filter|find|map|reject)|While$/.test(e),d=/^(?:head|last)$/.test(e),f=pe[d?"take"+("last"==e?"Right":""):e],p=d||/^find/.test(e);f&&(pe.prototype[e]=function(){function e(e){return e=f.apply(pe,Ol([e],n)),d&&i?e[0]:e}var t=this.__wrapped__,n=d?[1]:arguments,r=t instanceof ye,a=n[0],o=r||wa(t);o&&c&&"function"==typeof a&&1!=a.length&&(r=o=!1);var i=this.__chain__,l=!!this.__actions__.length,a=p&&!i,l=r&&!l;if(p||!o)return a&&l?s.apply(this,n):(u=this.thru(e),a?d?u.value()[0]:u.value():u);t=l?t:new ye(this);var u=s.apply(t,n);return u.__actions__.push({func:Vr,args:[e],thisArg:Ho}),new ge(u,i)})}),Cl(["pop","push","shift","sort","splice","unshift"],function(e){var n=o[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);pe.prototype[e]=function(){var t=arguments;if(!a||this.__chain__)return this[r](function(e){return n.apply(wa(e)?e:[],t)});var e=this.value();return n.apply(wa(e)?e:[],t)}}),Ke(ye.prototype,function(e,t){var n,r=pe[t];r&&(n=r.name+"",y.call(ae,n)||(ae[n]=[]),ae[n].push({name:t,func:r}))}),ae[hn(Ho,2).name]=[{name:"wrapper",func:Ho}],ye.prototype.clone=function(){var e=new ye(this.__wrapped__);return e.__actions__=rn(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=rn(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=rn(this.__views__),e},ye.prototype.reverse=function(){var e;return this.__filtered__?((e=new ye(this)).__dir__=-1,e.__filtered__=!0):(e=this.clone()).__dir__*=-1,e},ye.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=wa(e),r=t<0,a=n?e.length:0,o=function(e,t,n){var r=-1,a=n.length;for(;++r<a;){var o=n[r],i=o.size;switch(o.type){case"drop":e+=i;break;case"dropRight":t-=i;break;case"take":t=q(t,e+i);break;case"takeRight":e=V(e,t-i)}}return{start:e,end:t}}(0,a,this.__views__),i=o.start,l=(o=o.end)-i,u=r?o:i-1,s=this.__iteratees__,c=s.length,d=0,f=q(l,this.__takeCount__);if(!n||!r&&a==l&&f==l)return Ht(e,this.__actions__);var p=[];e:for(;l--&&d<f;){for(var m=-1,v=e[u+=t];++m<c;){var h=s[m],g=h.iteratee,h=h.type,g=g(v);if(2==h)v=g;else if(!g){if(1==h)continue e;break e}}p[d++]=v}return p},pe.prototype.at=qr,pe.prototype.chain=function(){return Wr(this)},pe.prototype.commit=function(){return new ge(this.value(),this.__chain__)},pe.prototype.next=function(){this.__values__===Ho&&(this.__values__=Wa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?Ho:this.__values__[this.__index__++]}},pe.prototype.plant=function(e){for(var t,n=this;n instanceof he;){var r=gr(n);r.__index__=0,r.__values__=Ho,t?a.__wrapped__=r:t=r;var a=r,n=n.__wrapped__}return a.__wrapped__=e,t},pe.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof ye){e=e;return this.__actions__.length&&(e=new ye(this)),(e=e.reverse()).__actions__.push({func:Vr,args:[Dr],thisArg:Ho}),new ge(e,this.__chain__)}return this.thru(Dr)},pe.prototype.toJSON=pe.prototype.valueOf=pe.prototype.value=function(){return Ht(this.__wrapped__,this.__actions__)},pe.prototype.first=pe.prototype.head,D&&(pe.prototype[D]=function(){return this}),pe}();gl._=fu,(k=function(){return fu}.call(A,D,A,L))===Ho||(L.exports=k)}.call(this)}},r={};function fo(e){if(r[e])return r[e].exports;var t=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(t.exports,t,t.exports,fo),t.loaded=!0,t.exports}fo.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return fo.d(t,{a:t}),t},fo.d=function(e,t){for(var n in t)fo.o(t,n)&&!fo.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},fo.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),fo.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},fo.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var f,y,q,O,R,G,A=CoreUtilities,K=React,J=fo.n(K),e=ReactDOM,p=ReactRouterDOM,t=ReactUtilities,n={common:["CommonUI.Features","Common.GameSorts","Feature.PlacesList"],feature:"Feature.GamePage"},r=n,M=ReactStyleGuide,g=Roblox,a=g.EnvironmentUrls.apiGatewayUrl,i={getExperimentationValues:function(e,t,n){return{url:a+"/product-experimentation-platform/v1/projects/"+e+"/layers/"+t+"/values?parameters="+n.join(","),withCredentials:!0}}},b={homePage:{},homePageWeb:{IsExpandHomeContentEnabled:!0,IsCarouselHorizontalScrollEnabled:!1,IsNewScrollArrowsEnabled:!1},serverTab:{ShouldDisableJoinButtonForFullServers:!1},gameDetails:{ShouldHidePrivateServersInAboutTab:!1,IsGameStorePreviewEnabled:!1,IsEventsSectionUprankEnabled:!1,IsEventsSectionRedesignEnabled:!1},searchPage:{ShouldUseOmniSearchAPI:!1},discoverPage:{IsChartsPageRenameEnabled:!0},tileLayer:{IsHigherResolutionImageEnabled:!1},playButton:{HasUpdatedPlayButtons:!1}},I={homePage:"PlayerApp.HomePage.UX",homePageWeb:"Website.Homepage",serverTab:"GameDetails.ServersTab",gameDetails:"Website.GameDetails",searchPage:"Website.SearchResultsPage",discoverPage:"Website.GamesPage",tileLayer:"Website.TileLayer",playButton:"Website.PlayButton"},o=g.EnvironmentUrls.apiGatewayUrl,u={url:{getOmniRecommendations:{url:o+"/discovery-api/omni-recommendation",withCredentials:!0},getOmniRecommendationsMetadata:{url:o+"/discovery-api/omni-recommendation-metadata",withCredentials:!0},getOmniSearch:{url:o+"/search-api/omni-search",withCredentials:!0},getExploreSorts:{url:o+"/explore-api/v1/get-sorts",withCredentials:!0},getExploreSortContents:{url:o+"/explore-api/v1/get-sort-content",withCredentials:!0},getSurvey:function(e){return{url:o+"/rocap/v1/locations/"+e+"/prompts",withCredentials:!0}},postSurveyResults:function(e){return{url:o+"/rocap/v1/locations/"+e+"/annotations",withCredentials:!0}},getGuacAppPolicyBehaviorData:function(){return{url:o+"/universal-app-configuration/v1/behaviors/app-policy/content",withCredentials:!0}}}};(it=f=f||{}).Game="Game",it.CatalogAsset="CatalogAsset",it.CatalogBundle="CatalogBundle",(re=y=y||{}).Carousel="Carousel",re.AvatarCarousel="AvatarCarousel",re.SortlessGrid="SortlessGrid",re.FriendCarousel="FriendCarousel",re.InterestGrid="InterestGrid",re.Pills="Pills",(ie={}).Sponsored="Sponsored",ie.SponsoredGame="SponsoredGame",(we=q=q||{}).AppGameTileNoMetadata="AppGameTileNoMetadata",we.GridTile="GridTile",we.EventTile="EventTile",we.InterestTile="InterestTile",we.ExperienceEventsTile="ExperienceEventsTile",(St=O=O||{}).Always="Always",St.Hover="Hover",St.Footer="Footer",(it=R=R||{}).Disabled="Disabled",it.Enabled="Enabled",(G=G||{}).imageOverlay="imageOverlay";var l,S=CoreRobloxUtilities,s="robloxAttributionIds";function c(e){var t=window,n=t[s];return n||(n={},t[s]=n),(t=n[e])||(t=A.uuidService.generateRandomUuid(),n[e]=t),t}(l=l||{}).GameDetailReferral="gameDetailReferral";var Y,d=function(e){return"discover#/sortName/"+e},m=function(e){return"discover#/sortName/v2/"+e},v=function(e){return"charts#/sortName/"+e};function h(e,t,n){return void 0===n&&(n={}),A.urlService.getUrlWithQueries(S.entityUrl.game.getRelativePath(e)+"/"+A.seoName.formatSeoName(t),n)}function D(e,t,n,r,a){return void 0===n&&(n={}),void 0===r&&(r=!1),void 0===a&&(a={}),r=function(e,t,n){var r=encodeURIComponent(e);switch(t){case Y.HomePage:return m(r);case Y.GamesPage:return(n?v:d)(r);default:return m(r)}}(e,t,r),A.urlService.getUrlWithQueries(r,T(T({},n),a))}function w(){return document.referrer}(re=Y=Y||{}).SearchPage="searchPage",re.SortDetailPageDiscover="sortDetailPageDiscover",re.SortDetailPageHome="sortDetailPageHome",re.GameDetailPage="gameDetailPage",re.GamesPage="gamesPage",re.HomePage="homePage",re.PeopleListInHomePage="peopleListInHomePage",re.InterestCatcher="interestCatcher";var k,E,U,P,_,T=function(){return(T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},B=h,C=function(){return(C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},x=function(e,t){var n={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n},N=(ie=S.eventStreamService.eventTypes).pageLoad,L=ie.formInteraction;function j(e,n){return e.filter(function(e){var t;return(null===(t=e.presence)||void 0===t?void 0:t.universeId)===n&&(null===(e=e.presence)||void 0===e?void 0:e.userPresenceType)===g.Presence.PresenceTypes.InGame})}function F(e,t){var n=0;if(!Number.isNaN(e)&&!Number.isNaN(t)){if(0===e&&0===t)return;n=0===e&&0!==t?0:0!==e&&0===t||100<(n=Math.floor(e/(e+t)*100))?100:n}return n}function H(t,e){var n;return e.some(function(e){return null===(e=t[e])||void 0===e?void 0:e.isSponsored})?((n={})[k.AdsPositions]=e.map(function(e){return t[e].isSponsored?1:0}),n[k.AdFlags]=e.map(function(e){return t[e].isSponsored?1:0}),n[k.AdIds]=e.map(function(e){return(null===(e=t[e])||void 0===e?void 0:e.nativeAdData)||"0"}),n):{}}function z(e,t){function n(e){return(e=null===(e=null==e?void 0:e.primaryMediaAsset)||void 0===e?void 0:e.wideImageAssetId)&&"0"!==e?parseInt(e,10):null}var r;return e.layoutDataBySort&&t&&e.layoutDataBySort[t]?r=n(e.layoutDataBySort[t]):e.defaultLayoutData&&(r=n(e.defaultLayoutData)),r||n(e)}function W(r,a,e,t){return t===q.GridTile||t===q.EventTile||t===q.InterestTile?((t={})[k.ThumbnailAssetIds]=e.map(function(e){return null!==(e=z(r[e],a.toString()))&&void 0!==e?e:"0"}),t[k.ThumbnailListIds]=e.map(function(e){var t,n;return null!==(t=r[e],e=a.toString(),t=t.layoutDataBySort&&e&&t.layoutDataBySort[e]?null===(n=t.layoutDataBySort[e].primaryMediaAsset)||void 0===n?void 0:n.wideImageListId:t.defaultLayoutData?null===(n=t.defaultLayoutData.primaryMediaAsset)||void 0===n?void 0:n.wideImageListId:null===(t=t.primaryMediaAsset)||void 0===t?void 0:t.wideImageListId)&&void 0!==t?t:"0"}),t):{}}function V(e){var t=e.tileBadgesByPosition,e=[];if(t)return!t.ImageTopLeft||(t=t.ImageTopLeft.map(function(e){return e.analyticsId}))&&0<t.length&&e.push("ImageTopLeft="+t.join("+")),0<e.length?e.join("&"):void 0}function Z(r,a,e,t){return t===q.GridTile||t===q.EventTile||t===q.InterestTile?((t={})[k.TileBadgeContexts]=e.map(function(e){var t,n;return null!==(t=r[e],e=a.toString(),t.layoutDataBySort&&e&&t.layoutDataBySort[e]?n=V(t.layoutDataBySort[e]):t.defaultLayoutData&&(n=V(t.defaultLayoutData)),n)&&void 0!==n?n:"0"}),t):{}}function Q(n,r,e,t){if(void 0===n||void 0===r||void 0===e)return{};var a=[],o=[];return t.forEach(function(e){var t=n+Math.floor(e/r),e=e%r;a.push(t),o.push(e)}),(t={})[k.RowsOnPage]=a,t[k.PositionsInRow]=o,t}function X(e){return void 0!==e?{inputUniverseIds:{interestCatcher:e.map(function(e){return e.toString()})}}:{}}function ee(t){return se(void 0,void 0,Promise,function(){return ce(this,function(e){return[2,A.httpService.get({url:g.EnvironmentUrls.thumbnailsApi+"/v1/assets",timeout:1e4,withCredentials:!0},{assetIds:[t],size:"768x432",format:"Png"}).then(function(e){var t,n;return"Completed"===(null===(t=null===(t=e.data.data)||void 0===t?void 0:t[0])||void 0===t?void 0:t.state)&&null!==(n=null===(n=e.data.data)||void 0===n?void 0:n[0])&&void 0!==n&&n.imageUrl?e.data.data[0].imageUrl:Promise.reject()})]})})}(we=k=k||{}).AbsPositions="absPositions",we.AdsPositions="adsPositions",we.AdFlags="adFlags",we.Algorithm="algorithm",we.AppliedFilters="appliedFilters",we.AttributionId="attributionId",we.Direction="direction",we.Distance="distance",we.HttpReferrer="httpReferrer",we.EmphasisFlag="emphasisFlag",we.FilterId="filterId",we.FilterIds="filterIds",we.GameSetTargetId="gameSetTargetId",we.GameSetTypeId="gameSetTypeId",we.InteractionType="interactionType",we.IsAd="isAd",we.NativeAdData="nativeAdData",we.AdIds="adIds",we.NumberOfLoadedTiles="numberOfLoadedTiles",we.Page="page",we.PageSession="pageSession",we.PlaceId="placeId",we.PlayContext="playContext",we.Position="position",we.PreviousOptionId="previousOptionId",we.PromptId="promptId",we.PromptText="promptText",we.ResourceId="resourceId",we.ResponseOptionIds="responseOptionIds",we.ResponseOptionTexts="responseOptionTexts",we.RootPlaceIds="rootPlaceIds",we.SelectedIds="selectedIds",we.SelectedTexts="selectedTexts",we.ScreenSizeX="screenSizeX",we.ScreenSizeY="screenSizeY",we.ScrollAreaSize="scrollAreaSize",we.ScrollDepth="scrollDepth",we.SelectedOptionId="selectedOptionId",we.SelectedOptionIds="selectedOptionIds",we.ShareLinkType="shareLinkType",we.ShareLinkId="shareLinkId",we.SortId="sortId",we.SortPos="sortPos",we.StartDepth="startDepth",we.StartPos="startPos",we.SuggestionKwd="suggestionKwd",we.SuggestionReplacedKwd="suggestionReplacedKwd",we.SuggestionCorrectedKwd="suggestionCorrectedKwd",we.SuggestionAlgorithm="suggestionAlgorithm",we.TimeToRespond="timeToRespond",we.Token="token",we.Topics="topics",we.TreatmentType="treatmentType",we.UniverseId="universeId",we.UniverseIds="universeIds",we.FriendId="friendId",we.ThumbnailAssetIds="thumbnailAssetIds",we.ThumbnailListIds="thumbnailListIds",we.LinkPath="linkPath",we.LocationName="locationName",we.RowsOnPage="rowsOnPage",we.PositionsInRow="positionsInRow",we.NavigationUids="navigationUids",we.TileBadgeContexts="tileBadgeContexts",we.ButtonName="buttonName",we.IsInterested="isInterested",we.InterestedUniverseIds="interestedUniverseIds",(St=E=E||{}).GameImpressions="gameImpressions",St.GameDetailReferral="gameDetailReferral",St.SortDetailReferral="sortDetailReferral",St.FeedScroll="feedScroll",St.NavigateToSortLink="navigateToSortLink",St.SurveyInteraction="surveyInteraction",St.SurveyImpression="surveyImpression",St.InterestCatcherClick="interestCatcherClick",St.FilterImpressions="filterImpressions",St.GamesFilterClick="gamesFilterClick",(it=U=U||{}).HomePageSessionInfo="homePageSessionInfo",it.GameSearchSessionInfo="gameSearchSessionInfo",it.DiscoverPageSessionInfo="discoverPageSessionInfo",(re={}).Submission="submission",re.Cancellation="cancellation",(ie=P=P||{}).Horizontal="horizontal",ie.Vertical="vertical",(we={}).Skip="skip",we.Continue="continue",we.Interested="interested",(St=_=_||{}).OpenDropdown="openDropdown",St.CloseDropdown="closeDropdown",St.Apply="apply";var te=((it={})[E.GameImpressions]=function(e){e=x(e,[]);return[{name:E.GameImpressions,type:E.GameImpressions,context:L},ae(C({},e))]},it[E.GameDetailReferral]=function(e){var t;return void 0===e&&(e={}),[{name:E.GameDetailReferral,type:E.GameDetailReferral,context:N},ae(C(((t={})[k.AttributionId]=c(l.GameDetailReferral),t[k.HttpReferrer]=w(),t),e))]},it[E.SortDetailReferral]=function(e){return void 0===e&&(e={}),[{name:E.SortDetailReferral,type:E.SortDetailReferral,context:N},ae(C({},e))]},it[E.NavigateToSortLink]=function(e){return void 0===e&&(e={}),[{name:E.NavigateToSortLink,type:E.NavigateToSortLink,context:L},ae(C({},e))]},it[E.SurveyInteraction]=function(e){return void 0===e&&(e={}),[{name:E.SurveyInteraction,type:E.SurveyInteraction,context:L},ae(C({},e))]},it[E.SurveyImpression]=function(e){return void 0===e&&(e={}),[{name:E.SurveyImpression,type:E.SurveyImpression,context:L},ae(C({},e))]},it[E.InterestCatcherClick]=function(e){return void 0===e&&(e={}),[{name:E.InterestCatcherClick,type:E.InterestCatcherClick,context:L},ae(C({},e))]},it[E.FilterImpressions]=function(e){return void 0===e&&(e={}),[{name:E.FilterImpressions,type:E.FilterImpressions,context:L},ae(C({},e))]},it[E.GamesFilterClick]=function(e){return void 0===e&&(e={}),[{name:E.GamesFilterClick,type:E.GamesFilterClick,context:L},ae(C({},e))]},it),ne=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},re=(new g.Intl).getDateTimeFormatter(),ae=function(n){return Object.keys(n).reduce(function(e,t){return"object"==typeof n[t]&&n[t]&&(e[t]=JSON.stringify(n[t])),"number"==typeof n[t]&&(e[t]=n[t]),"string"==typeof n[t]&&(e[t]=encodeURIComponent(n[t])),"boolean"==typeof n[t]&&(e[t]=n[t]?1:0),e},{})},oe=A.urlService.parseQueryString,ie=A.numberFormat.getNumberFormat,le={capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},parseEventParams:ae,getInGameFriends:j,getVotePercentageValue:F,getVotePercentage:function(e,t){t=F(e,t);return void 0!==t?t+"%":void 0},getPlayerCount:function(e){return-1===e?"--":A.abbreviateNumber.getAbbreviatedValue(e)},getNumberFormat:ie,dateTimeFormatter:re,parseQueryString:oe,composeQueryString:function(e){e=A.urlService.composeQueryString(e);return e?"?"+e:""},getSponsoredAdImpressionsData:H,getThumbnailAssetIdImpressionsData:W,getTileBadgeContextsImpressionsData:Z,calculateImpressedIndexes:function(e,n){if(void 0===e)return Array.from(new Array(n[1]-n[0]+1),function(e,t){return t+n[0]});var r=n[0]<e[0]?[n[0],e[0]]:void 0,a=n[1]>e[1]?[e[1],n[1]]:void 0,t=r?new Array(r[1]-r[0]).fill(0).map(function(e,t){return t+r[0]}):[],e=a?new Array(a[1]-a[0]).fill(0).map(function(e,t){return t+a[0]+1}):[];return ne(ne([],t),e)},splitArray:function(n,r){if(0===n.length||0===r)return[n];var e=Math.ceil(n.length/r);return new Array(e).fill(0).map(function(e,t){return n.slice(t*r,(t+1)*r)})},GAME_STATS_PLACEHOLDER_STRING:"--",getInputUniverseIdsRequestParam:X},ue=function(){return(ue=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},se=function(e,i,l,u){return new(l=l||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function a(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},ce=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},de=function(r,a,o){return void 0===o&&(o=1),se(void 0,void 0,Promise,function(){var n,t;return ce(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,A.httpService.get(i.getExperimentationValues(o,r,Object.keys(a)))];case 1:return n=e.sent().data,t=Object.keys(n).reduce(function(e,t){return null!==n[t]&&(e[t]=n[t]),e},{}),[2,ue(ue({},a),t)];case 2:return e.sent(),[2,a];case 3:return[2]}})})},fe=function(r,a,o,i,l){return se(void 0,void 0,Promise,function(){var t,n;return ce(this,function(e){switch(e.label){case 0:return t=ue(ue({pageType:r,sessionId:a,supportedTreatmentTypes:[y.SortlessGrid],authIntentData:i},o),X(l)),[4,A.httpService.post(u.url.getOmniRecommendations,t)];case 1:return n=e.sent().data,Object.keys(n.contentMetadata.Game).forEach(function(e){e=n.contentMetadata.Game[e];e.placeId=e.rootPlaceId}),[2,n]}})})},pe=function(n,r){return se(void 0,void 0,Promise,function(){var t;return ce(this,function(e){switch(e.label){case 0:return[4,A.httpService.post(u.url.getOmniRecommendationsMetadata,{contents:n,sessionId:r})];case 1:return t=e.sent().data,Object.keys(t.contentMetadata.Game).forEach(function(e){e=t.contentMetadata.Game[e];e.placeId=e.rootPlaceId}),[2,t]}})})},me=function(e,t,n,r){var a={};return n.forEach(function(e,t){a[t]=e}),A.httpService.get(u.url.getExploreSorts,ue(ue({sessionId:e,sortsPageToken:t},a),r)).then(function(e){return e.data})},ve=function(e,t,n,r,a){var o={};return r.forEach(function(e,t){o[t]=e}),A.httpService.get(u.url.getExploreSortContents,ue(ue({sessionId:e,sortId:t,pageToken:n},o),a)).then(function(e){return e.data})},he=function(){return A.httpService.get(u.url.getGuacAppPolicyBehaviorData()).then(function(e){return e.data})},ge={ActionApply:"Action.Apply",LabelSponsoredAd:"Label.SponsoredAd",LabelNoSearchResults:"LabelNoSearchResults",LabelPlayingOnePlusUsersWithComma:"LabelPlayingOnePlusUsersWithComma",LabelPlayingOneUser:"LabelPlayingOneUser",LabelBy:"LabelCreatorBy",LabelByPrefix:"Label.By"},ye={LabelApiError:"Label.ApiError",LabelGames:"Label.Games",LabelSponsoredAdsDisclosureStatic:"Label.SponsoredAdsDisclosureStatic"},be={LabelDiscover:"Label.Discover",LabelCharts:"Label.Charts",ActionClose:"Action.Close",ActionDropdownSelected:"Action.DropdownSelected",ActionDropdownNotSelected:"Action.DropdownNotSelected"},Ie={ActionSeeAll:"Action.SeeAll",ActionInterestCatcherContinue:"Action.InterestCatcherContinue",ActionInterestCatcherContinueSelected:"Action.InterestCatcherContinueSelected",ActionInterestCatcherSkip:"Action.InterestCatcherSkip",ActionInterestCatcherInterested:"Action.InterestCatcherInterested"},Se={HeadingDescription:"Heading.Description",LabelAgeGuidelines:"Label.AgeGuidelines",LabelLearnMore:"Label.LearnMore",LabelBy:"Label.By",LabelPlaying:"Label.Playing",LabelFavorites:"Label.Favorites",LabelVisits:"Label.Visits",LabelCreated:"Label.Created",LabelUpdated:"Label.Updated",LabelMaxPlayers:"Label.MaxPlayers",LabelGenre:"Label.Genre",LabelSubgenre:"Label.Subgenre",LabelReportAbuse:"Label.ReportAbuse",LabelPlaceCopyingAllowed:"Label.PlaceCopyingAllowed",LabelVoiceEnabled:"Label.VoiceEnabled",LabelYes:"Label.Yes",LabelNo:"Label.No",LabelUnavailable:"Label.Unavailable",LabelSuitableForEveryone:"Label.SuitableForEveryone",LabelMicrophone:"Label.Microphone",LabelCamera:"Label.Camera",LabelNone:"Label.None",LabelThankYou:"Label.ThankYouMessage",LabelGenreUnderConstruction:"Label.GenreUnderConstruction",LabelGenreInProgress:"Label.GenreInProgress",HeadingRecommendedGames:"Heading.RecommendedGames",ActionSwapToSource:"Action.SwapToSource",ActionSwapToTranslation:"Action.SwapToTranslation",ActionTranslate:"Action.Translate",LabelNotSupported:"Label.NotSupported",LabelSupported:"Label.Supported",LabelVoiceChat:"Label.VoiceChat"},we=fo(2779),Ee=fo.n(we),Pe=M.Button.variants;function _e(n,r){var a;return void 0===r&&(r=300),[function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];clearTimeout(a),a=setTimeout(function(){n.apply(void 0,e)},r)},function(){clearTimeout(a)}]}(St=function(e){var t=e.errorMessage,n=e.onRefresh,e=e.className;return J().createElement("div",{"data-testid":"error-status",className:Ee()("game-error",e)},J().createElement("span",{className:"icon-spot-error-2xl"}),J().createElement("p",{className:"text-label error-text"},t),J().createElement(M.Button,{className:"refresh-button",variant:Pe.control,onClick:n},J().createElement("span",{className:"icon-common-refresh"})))}).defaultProps={className:""};var Te,Ce,xe,Ne,Le=St,Ae=function(){var e=(0,K.useState)(!1),t=e[0],n=e[1],r=(e=_e(function(){n(!0)},100))[0],a=e[1],o=(e=_e(function(){n(!1)},100))[0],i=e[1];return[t,function(){i(),r()},function(){a(),o()}]},De=function(e,t){return(0,K.useMemo)(function(){return e.layoutDataBySort&&t&&e.layoutDataBySort[t]?e.layoutDataBySort[t]:e.defaultLayoutData},[e.layoutDataBySort,e.defaultLayoutData,t])},ke=HeaderScripts,Oe=g.EnvironmentUrls.gamesApi,Re={url:{getOmniRecommendations:function(e,t){return{url:Oe+"/v1/games/omni-recommendations?model.pageType="+e+(void 0!==t?"&model.sessionId="+t:""),withCredentials:!0}},getOmniRecommendationsMetadata:{url:Oe+"/v1/games/omni-recommendations-metadata",withCredentials:!0},getGameList:{url:Oe+"/v1/games/list",withCredentials:!0},getGamePasses:function(e,t){return{url:Oe+"/v1/games/"+e+"/game-passes?limit="+t,withCredentials:!0}},getGameRecommendations:function(e){return{url:Oe+"/v1/games/recommendations/game/"+e,withCredentials:!0}},getGameSorts:{url:Oe+"/v1/games/sorts",withCredentials:!0},getUniverseVoiceStatus:function(e){return{withCredentials:!0,url:g.EnvironmentUrls.voiceApi+"/v1/settings/universe/"+e}},getVoiceOptInStatus:{withCredentials:!0,url:g.EnvironmentUrls.voiceApi+"/v1/settings/user-opt-in"}},defaultCacheCriteria:{refreshCache:!1,expirationWindowMS:3e4,useCache:!0}},Ge=function(e,i,l,u){return new(l=l||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function a(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},Me=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},Ue=Re.defaultCacheCriteria,Be=S.dataStores.gamesDataStore,je=S.dataStores.userDataStoreV2,Fe=(S.dataStores.localeDataStore,S.dataStores.userDataStore.FriendsUserSortType),He=function(){return je.getFriends({userId:null===ke.authenticatedUser||void 0===ke.authenticatedUser?void 0:ke.authenticatedUser.id,userSort:Fe.StatusFrequents,isGuest:!1},Ue)},ze=function(t){return Ge(void 0,void 0,Promise,function(){return Me(this,function(e){switch(e.label){case 0:return[4,Be.getGameDetails([t])];case 1:return[2,e.sent().data.data[0]]}})})},We=function(n){return Ge(void 0,void 0,Promise,function(){var t;return Me(this,function(e){switch(e.label){case 0:return[4,Be.getPlaceDetails([n])];case 1:return t=e.sent().data,[2,(void 0===t?[]:t)[0]]}})})};function Ve(e){return"icons/menu/gem_small"!==e?null:"icon-gem-dark-stroke"}function qe(e){return e.isShimmerEnabled?"shimmer-animation":null}function $e(e){return e!==Te.IMAGE_TOP_LEFT?"":"game-card-pill-top-left"}function Ke(e){var t=[];return(e=null===(e=null==e?void 0:e.tileBadgesByPosition)||void 0===e?void 0:e.ImageTopLeft)&&e.length&&(t=e.map(function(e){var t,n={id:e.analyticsId};return e.tileBadgeType===Ne.Text&&e.text?(n.text=e.text,n.animationClass=qe(e)):e.tileBadgeType===Ne.Icon&&e.icons&&(t=e.icons.map(Ve).filter(function(e){return!!e}),n.icons=t,n.animationClass=qe(e)),n})),t.length?((e={})[Te.IMAGE_TOP_LEFT]=t,e):null}function Je(e){var t;return(null===(t=null==e?void 0:e.footer)||void 0===t?void 0:t.type)===xe.TextLabel?e.footer:null}function Ye(e){var t=e.children,n=(0,K.useState)({shouldUseHigherResolutionIcon:!1}),e=n[0],r=n[1];return(0,K.useEffect)(function(){de(Ze.tileLayer,Qe.tileLayer).then(function(e){null!=e&&e.IsHigherResolutionImageEnabled&&r({shouldUseHigherResolutionIcon:!(null==e||!e.IsHigherResolutionImageEnabled)})}).catch(function(){})},[]),J().createElement(Xe.Provider,{value:e},t)}(it=Te=Te||{}).INVALID="Invalid",it.IMAGE_TOP_LEFT="ImageTopLeft",it.IMAGE_BOTTOM_LEFT="ImageBottomLeft",(ie=Ce=Ce||{}).Home="Home",ie.Games="Games",(re={}).Invalid="Invalid",re.HasLootBoxes="HasLootBoxes",re.HasInGameTrading="HasInGameTrading",re.IsUsingLootBoxApi="IsUsingLootBoxApi",re.IsUsingInGameTradingApi="IsUsingInGameTradingApi",re.HasAllowedExternalLinkReferences="HasAllowedExternalLinkReferences",re.IsUsingAllowedExternalLinkReferencesApi="IsUsingAllowedExternalLinkReferencesApi",(we={}).MorphToR6="MorphToR6",we.PlayerChoice="PlayerChoice",we.MorphToR15="MorphToR15",(xe=xe||{}).TextLabel="TextLabel",(St=Ne=Ne||{}).Text="Text",St.Icon="Icon";var Ze=I,Qe=b,Xe=(0,K.createContext)({shouldUseHigherResolutionIcon:!1}),et=RobloxThumbnails,tt={maxTilesPerCarouselPage:6,maxWideGameTilesPerCarouselPage:4,minWideGameTilesPerCarouselPage:2,gameTileWidth:150,homeFeedMaxWidth:970,wideGameTileTilesPerRowBreakpointWidth:738,sortlessGridMaxTilesMetadataToFetch:300,adSortHomePageId:4e8,topicIdsWithoutSeeAll:[5e8,500000001],friendsCarouselAngularBootstrapErrorEvent:"HomePageFriendsCarouselBootstrapError",missingNumberOfRowsForLoggingErrorEvent:"HomePageMissingNumberOfRowsForLoggingError",omniRecommendationEndpointErrorEvent:"HomePageOmniRecommendationEndpointError",omniRecommendationEndpointSuccessEvent:"HomePageOmniRecommendationEndpointSuccess",subtitleLinkStart:"{linkStart}",subtitleLinkEnd:"{linkEnd}"},nt={numGameCarouselLookAheadWindows:3,adSortDiscoverId:27,carouselContainerBufferWidth:80,gameTileGutterWidth:14,wideGameTileGutterWidth:16},rt={maxTilesInGameImpressionsEvent:25,gameImpressionsIntersectionThreshold:.5,filterImpressionsIntersectionThreshold:.5,wideTileHoverGrowWidthPx:26,numberOfInGameAvatarIcons:3,numberOfInGameNames:1,maxFacepileFriendCountValue:99,numberOfGameTilesPerLoad:60,numberOfGamePassesPerLoad:50,keyBoardEventCode:{enter:"Enter",escape:"Escape"},RatingPercentageText:"Label.RatingPercentage"},at=.1,ot=tt,it=nt,ie=rt,re=PropTypes,lt="Label.ContextMenuTitle",ut="Action.ViewDetails",st="Action.JoinGame",ct={goToProfileInPlacesList:{name:"goToProfileInPlacesList",ctx:"click"},openModalFromGameTile:{name:"openModalFromGameTile",ctx:"click"},goToChatInPlacesList:{name:"goToChatInPlacesList",ctx:"click"},joinGameInPlacesList:{name:"joinGameInPlacesList",ctx:"click"},goToGameDetailInPlacesList:{name:"goToGameDetailInPlacesList",ctx:"click"},gamePlayIntentInPlacesList:{ctx:"placesListInHomePage"}};function dt(e){var t=e.game,n=e.translate,r=t.universeId,a=t.name,e=t.referralUrl,t=t.isPlayable,r=J().createElement(et.Thumbnail2d,{type:et.ThumbnailTypes.gameIcon,size:et.DefaultThumbnailSize,targetId:r,imgClassName:"game-card-thumb",format:et.ThumbnailFormat.jpeg});return J().createElement("div",{className:"border-bottom player-interaction-container"},J().createElement("span",{className:"cursor-pointer game-icon"},J().createElement(M.Link,{url:e,className:"game-card-link"},r)),J().createElement("span",{className:"game-info-container"},J().createElement(M.Link,{url:e,className:"game-name"},a),!t&&J().createElement(M.Link,{url:e,className:"btn-control-sm game-link"},n(ut))))}dt.propTypes={game:(we=fo.n(re))().shape({universeId:we().number,placeId:we().number,name:we().string,playerCount:we().number,isShowSponsoredLabel:we().bool,nativeAdData:we().string,imageUrl:we().string,referralUrl:we().string,isPlayable:we().bool}).isRequired,translate:we().func.isRequired};var ft=dt;function pt(e){var t=e.playerId,e=e.altName;return J().createElement("div",{className:"avatar-card-link"},J().createElement(et.Thumbnail2d,{type:et.ThumbnailTypes.avatarHeadshot,size:et.ThumbnailAvatarHeadshotSize.size48,targetId:t,imgClassName:"avatar-card-image",format:et.ThumbnailFormat.webp,altName:e}))}pt.defaultProps={altName:""},pt.propTypes={playerId:we().number.isRequired,altName:we().string};var mt=pt;function vt(e){var t=e.playerData,o=e.dismissModal,n=e.isPlayable,r=e.translate,e=t.presence,i=e.rootPlaceId,l=e.placeId,u=e.gameId,s=t.id,t=t.nameForDisplay;return J().createElement("div",{className:"border-bottom player-info"},J().createElement("span",{className:"player-name"},t),J().createElement(M.Button,{className:"cursor-pointer btn-primary-sm player-action",onClick:function(e){var t={rootPlaceId:i,placeId:l},n=S.playGameService.buildPlayGameProperties(i,l,u,s),r=ct.joinGameInPlacesList,a=ct.gamePlayIntentInPlacesList,a={eventName:r.name,ctx:r.ctx,properties:t,gamePlayIntentEventCtx:a.ctx};S.playGameService.launchGame(n,a),o(e)},isDisabled:!n},r(st)))}vt.propTypes={playerData:we().shape({presence:we().shape({rootPlaceId:we().number,placeId:we().number,gameId:we().string}),id:we().number,nameForDisplay:we().string}).isRequired,dismissModal:we().func.isRequired,isPlayable:we().bool.isRequired,translate:we().func.isRequired};var ht=vt;function gt(e){var t=e.friendsData,n=e.friendsInGame,a=e.dismissModal,o=e.isPlayable,i=e.translate,l={};return t.forEach(function(e){l[e.id]=e}),J().createElement("div",{className:"interaction-container"},J().createElement("ul",{className:"interaction-list"},n.map(function(e,t){var n=e+t,r=l[e],t=r.id,e=r.nameForDisplay;return J().createElement("li",{key:n,className:"interaction-item","aria-hidden":"true"},J().createElement("span",{className:"avatar avatar-headshot avatar-headshot-sm player-avatar"},J().createElement(mt,{playerId:t,altName:e})),J().createElement(ht,{playerData:r,dismissModal:a,isPlayable:o,translate:i}))})))}gt.propTypes={friendsData:we().arrayOf(we().shape({presense:we().shape({rootPlaceId:we().number,placeId:we().number,gameId:we().string}),id:we().number,nameForDisplay:we().string})).isRequired,friendsInGame:we().arrayOf(we().number).isRequired,dismissModal:we().func.isRequired,isPlayable:we().bool.isRequired,translate:we().func.isRequired};var yt=gt;function bt(e){var t=e.friendsData,n=e.friendsInGame,r=e.game,a=e.dismissModal,o=e.translate,e=o(lt);return J().createElement("div",{"data-testid":"game-players-player-interaction-modal"},J().createElement(M.Modal.Header,{title:e,onClose:a}),J().createElement(ft,{game:r,translate:o}),J().createElement(yt,{friendsData:t,friendsInGame:n,dismissModal:a,isPlayable:r.isPlayable,translate:o}))}bt.propTypes={friendsData:we().arrayOf(we().shape({presense:we().shape({rootPlaceId:we().number,placeId:we().number,gameId:we().string}),id:we().number,nameForDisplay:we().string})).isRequired,friendsInGame:we().arrayOf(we().number).isRequired,game:we().shape({universeId:we().number,placeId:we().number,name:we().string,playerCount:we().number,isShowSponsoredLabel:we().bool,nativeAdData:we().string,imageUrl:we().string,referralUrl:we().string,isPlayable:we().bool}).isRequired,dismissModal:we().func.isRequired,translate:we().func.isRequired};var It=bt,St={common:["Common.GameSorts","Feature.GamePage","Feature.GameDetails","Feature.ContactUpsell"],feature:"Feature.PlacesList"};(re=function(e){var t=e.tooltipText,e=e.sizeInPx,e=void 0===e?16:e;return J().createElement("span",{className:"info-tooltip-container"},J().createElement(M.Tooltip,{id:"games-info-tooltip",placement:"right",containerClassName:"games-info-tooltip",content:t},J().createElement("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},J().createElement("path",{d:"M8.97 5.44H7V4H8.97V5.44Z",fill:"currentColor"}),J().createElement("path",{d:"M8.94347 11.9999H7.05347V6.37988H8.94347V11.9999Z",fill:"currentColor"}),J().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5Z",fill:"currentColor"}))))}).defaultProps={sizeInPx:16};var wt=re,Et=function(){return(Et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Pt=((we={})[q.GridTile]={minTileWidth:233,columnGap:16,minTilesPerRow:2,maxTilesPerRow:6},we[q.EventTile]={minTileWidth:233,columnGap:16,minTilesPerRow:4,maxTilesPerRow:4},we[q.InterestTile]={minTileWidth:311,columnGap:16,minTilesPerRow:2,maxTilesPerRow:6},we[q.AppGameTileNoMetadata]={minTileWidth:150,columnGap:16,minTilesPerRow:3,maxTilesPerRow:12},we[q.ExperienceEventsTile]={minTileWidth:233,columnGap:16,minTilesPerRow:2,maxTilesPerRow:3},we),_t=Et(Et({},Pt),((re={})[q.EventTile]={minTileWidth:300,columnGap:16,minTilesPerRow:2,maxTilesPerRow:4},re)),Tt={minTileWidth:150,columnGap:16,minTilesPerRow:3,maxTilesPerRow:12};function Ct(e){var n=e.pills,r=e.isFocused,e=Object.keys(n);return J().createElement(K.Fragment,null,e.map(function(e){var t;return!(null===(t=n[t=e])||void 0===t||!t.length)&&J().createElement("div",{key:e,className:"game-card-pills-container "+$e(e)},null===(e=n[e])||void 0===e?void 0:e.map(function(e){return J().createElement(Lt,{key:e.id,id:e.id,animationClass:e.animationClass,icons:e.icons,text:e.text,isFocused:r})}))}))}function xt(e){return e=e.playerCount,e=le.getPlayerCount(e),J().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-player-count"},J().createElement("span",{className:"info-label icon-playing-counts-gray"}),J().createElement("span",{className:"info-label playing-counts-label"},e))}function Nt(e){var t=e.playerCount,e=e.playerCountStyle,e=Ee()("game-card-image-pill",{"hover-only":e===O.Hover});return J().createElement("div",{className:e,"data-testid":"game-tile-player-count-pill"},J().createElement(xt,{playerCount:t}))}(we=function(e){var t=e.animationClass,n=e.isFocused,r=e.icons,a=e.text;return null!=r&&r.length||a?J().createElement("div",{className:"game-card-pill-with-animation"},J().createElement("div",{className:Ee()("game-card-pill-animation-container",((e={})[null!=t?t:""]=t&&n,e))},(null==r?void 0:r.length)&&r.map(function(e,t){return J().createElement("span",{key:t,className:"game-card-pill-icon "+e})}),a&&J().createElement("div",{className:"game-card-pill-text"},a))):null}).defaultProps={animation:void 0};var Lt=we;function At(e){return e=e.featureTypes,J().createElement("div",{className:"game-card-image-feature-pill","data-testid":"game-tile-social-feature-pill"},J().createElement("div",{className:"game-card-info","data-testid":"game-tile-social-feature-list"},e.map(function(e){return Dt[e]&&J().createElement("span",{key:e,className:Dt[e]})})))}Nt.defaultProps={playerCountStyle:void 0};var Dt={Voice:"pill-icon icon-default-voice-16x16-white",Camera:"pill-icon icon-default-camera-white"};function kt(e){var t=e.id,n=e.children,r=e.gameData,a=e.isOnScreen,o=e.page,i=e.shouldUseHigherResolutionIcon,l=e.buildEventProperties,u=e.isFocused,e=e.topicId,i=i?et.ThumbnailGameIconSize.size256:et.ThumbnailGameIconSize.size150,e=De(r,e);return J().createElement(M.Link,{url:B(r.placeId,r.name,l(r,t)),tabIndex:a?0:-1,"aria-hidden":!a,className:"game-card-link",id:r.universeId.toString()},J().createElement(Ot,{gameLayoutData:e,isFocused:!!u}),o===Y.GamesPage?J().createElement("div",{className:"game-card-thumb-container"},J().createElement(et.Thumbnail2d,{type:et.ThumbnailTypes.gameIcon,size:i,targetId:r.universeId,containerClass:"game-card-thumb",format:et.ThumbnailFormat.jpeg,altName:r.name})):J().createElement(et.Thumbnail2d,{type:et.ThumbnailTypes.gameIcon,size:i,targetId:r.universeId,containerClass:"game-card-thumb-container",format:et.ThumbnailFormat.jpeg,altName:r.name}),J().createElement("div",{className:"game-card-name game-name-title",title:r.name},r.name),n)}(re=function(e){var t=e.gameLayoutData,n=e.playerCountStyle,r=e.playerCount,a=e.isFocused,e=Ke(t);return e?J().createElement(Ct,{pills:e,isFocused:a}):null!==(a=null==t?void 0:t.pill)&&void 0!==a&&a.types&&0<t.pill.types.length?J().createElement(At,{featureTypes:t.pill.types}):void 0===r||n!==O.Always&&n!==O.Hover?null:J().createElement(Nt,{playerCount:r,playerCountStyle:n})}).defaultProps={gameLayoutData:void 0,playerCountStyle:void 0,playerCount:void 0};var Ot=re,Rt=function(){return(Rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Gt=rt.keyBoardEventCode,Mt=rt.numberOfInGameAvatarIcons,Ut=rt.numberOfInGameNames;function Bt(e){var t=e.totalDownVotes,n=e.totalUpVotes,e=e.playerCount,t=le.getVotePercentage(n,t),e=le.getPlayerCount(e);return J().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats"},J().createElement("span",{className:"info-label icon-votes-gray"}),t?J().createElement("span",{className:"info-label vote-percentage-label"},t):J().createElement("span",{className:"info-label no-vote"}),J().createElement("span",{className:"info-label icon-playing-counts-gray"}),J().createElement("span",{className:"info-label playing-counts-label"},e))}function jt(e){var t=e.totalDownVotes,n=e.totalUpVotes,r=e.translate,e=rt.RatingPercentageText,t=(null==(t=le.getVotePercentageValue(n,t))?void 0:t.toString())||"--";return J().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-rating"},J().createElement("span",{className:"info-label icon-votes-gray"}),J().createElement("span",{className:"info-label vote-percentage-label"},r(e,{percentRating:t})||t+"% Rating"))}function Ft(e){return e=e.footerData,J().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-text-footer"},J().createElement("span",{className:"info-label"},e.text.textLiteral))}function Ht(e){var t=e.iconClassName,e=e.text;return J().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-icon-text-footer"},J().createElement("span",{className:Ee()("info-label",t)}),J().createElement("span",{className:"info-label text-label-with-icon"},e))}function zt(e){return e=e.footerText,J().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-friend-activity"},J().createElement("span",{className:"info-label"},e))}function Wt(e){return e=e.translate,J().createElement("div",{className:"game-card-native-ad","data-testid":"game-tile-sponsored-footer"},J().createElement("div",{className:"native-ad-label"},e(ge.LabelSponsoredAd),J().createElement(wt,{tooltipText:e(ye.LabelSponsoredAdsDisclosureStatic)||"Sponsored experiences are paid for by Creators. They may be shown to you based on general information about your device type, location, and demographics.",sizeInPx:12})))}function Vt(e){return e=e.user,J().createElement(et.Thumbnail2d,{type:et.ThumbnailTypes.avatarHeadshot,size:et.ThumbnailAvatarHeadshotSize.size48,targetId:e.id,containerClass:"avatar avatar-headshot avatar-headshot-xs",imgClassName:"avatar-card-image",format:et.ThumbnailFormat.webp,altName:e.displayName})}function qt(e){return e=e.translate,J().createElement("div",{className:"game-card-info","data-testid":"wide-game-tile-sponsored-footer"},J().createElement(wt,{tooltipText:e(ye.LabelSponsoredAdsDisclosureStatic)||"Sponsored experiences are paid for by Creators. They may be shown to you based on general information about your device type, location, and demographics.",sizeInPx:12}),J().createElement("span",{className:"info-label text-label-with-icon"},e(ge.LabelSponsoredAd)))}function $t(e){var t=e.friendsData,n=e.isOnline,r=rt.maxFacepileFriendCountValue,r=(null==t?void 0:t.length)>r?r.toString()+"+":(null==t?void 0:t.length)>Mt?null==t?void 0:t.length.toString():"",e=r?Mt-1:Mt,a=Ee()("avatar-card",{"avatar-card-online":n});return J().createElement("div",{className:"info-avatar"},r&&J().createElement("div",{className:a},J().createElement("div",{className:"avatar-count-container"},J().createElement("span",{className:"avatar-count info-label"},r))),t.slice(0,e).map(function(e){return J().createElement("div",{className:a,key:e.displayName},J().createElement(Vt,{user:e}))}))}function Kt(e){var t=e.friendsData,e=e.isOnline;if(0===t.length)throw new Error("friendData should not be empty");return J().createElement("div",{className:"game-card-info","data-testid":"game-tile-stats-"+(e?"online":"offline")+"-friends-facepile"},J().createElement($t,{friendsData:t,isOnline:e}),J().createElement("span",{className:"info-label"},t.map(function(e){return e.displayName}).join(", ")))}function Jt(e){var t=e.friendData,n=e.gameData,r=e.translate,a=(0,K.useState)(!1),e=a[0],o=a[1];if(0===t.length)throw new Error("friendData should not be empty");return J().createElement("div",{className:"game-card-friend-info game-card-info","data-testid":"game-tile-stats-friends"},J().createElement("div",{className:"info-avatar",style:{width:22*(t.slice(0,Mt).length-1)+32+"px"}},t.slice(0,Mt).map(function(e){return J().createElement("div",{className:"avatar-card",role:"button",tabIndex:0,key:e.displayName,onClick:function(e){e.stopPropagation(),e.preventDefault(),o(!0)},onKeyDown:function(e){e.code===Gt.enter&&(e.stopPropagation(),e.preventDefault(),o(!0))}},J().createElement(Vt,{user:e}))})),r&&J().createElement("span",{className:"info-label text-overflow","data-testid":"game-tile-stats-info-label"},t.length>Ut?r(ge.LabelPlayingOnePlusUsersWithComma,{username:t[0].displayName,count:t.length-Ut}):r(ge.LabelPlayingOneUser,{user:t[0].displayName})),J().createElement(Zt,{friendsDataInGame:t,game:n,show:e,onHide:function(e){e.stopPropagation(),e.preventDefault(),o(!1)}}))}function Yt(e,t,n,r,a,o){var i=n?(r?_t:Pt)[n]:Tt;if(!e)return i.minTilesPerRow;var l=i.minTileWidth,u=i.columnGap,n=i.minTilesPerRow,i=i.maxTilesPerRow,u=Math.floor((e-t+u)/(l+u)),u=Math.min(i,Math.max(n,u));return r&&a===y.Carousel&&void 0!==o&&u<o?u+.3:u}kt.defaultProps={page:Y.HomePage,isOnScreen:!0,shouldUseHigherResolutionIcon:!1,isFocused:!1},Jt.defaultProps={translate:void 0};var Zt=(0,t.withTranslations)(function(e){var t=e.show,n=e.onHide,r=e.friendsDataInGame,a=e.game,e=e.translate;return J().createElement(M.Modal,{show:t,onHide:n,size:"lg"},J().createElement(It,{friendsData:r.map(function(e){return Rt(Rt({},e),{nameForDisplay:e.displayName})}),friendsInGame:r.map(function(e){return e.id}),game:a,dismissModal:n,translate:e}))},St),Qt=function(e,i,l,u){return new(l=l||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function a(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},Xt=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};(we=(0,K.forwardRef)(function(e,t){var n=e.id,r=e.buildEventProperties,a=e.gameData,o=e.page,i=void 0===o?Y.HomePage:o,l=e.className,u=void 0===l?"grid-item-container game-card-container":l,s=e.friendData,c=void 0===s?[]:s,d=e.isOnScreen,f=void 0===d||d,o=e.shouldShowMetadata,p=void 0===o||o,l=e.isSponsoredFooterAllowed,m=void 0!==l&&l,s=e.topicId,v=e.translate,d=(0,K.useState)(),h=d[0],g=d[1],o=Ae(),l=o[0],e=o[1],d=o[2],y=(0,K.useMemo)(function(){return j(c,a.universeId)},[c,a.universeId]),b=De(a,s),o=(0,K.useContext)(Xe).shouldUseHigherResolutionIcon;(0,K.useEffect)(function(){void 0===h&&0<y.length&&Qt(void 0,void 0,void 0,function(){var t;return Xt(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,We(a.placeId.toString())];case 1:return t=e.sent(),g(t),[3,3];case 2:return t=e.sent(),console.error(t),[3,3];case 3:return[2]}})})},[y,h]);return J().createElement("div",{ref:t,className:u,"data-testid":"game-tile",onMouseOver:e,onMouseLeave:d,onFocus:e,onBlur:d},J().createElement(kt,{id:n,isOnScreen:f,buildEventProperties:r,gameData:a,page:i,shouldUseHigherResolutionIcon:o,isFocused:l,topicId:s},function(){if(!p)return J().createElement(J().Fragment,null);if(null!=a&&a.isShowSponsoredLabel||null!=a&&a.isSponsored&&m)return J().createElement(Wt,{translate:v});var e=Je(b);return e?J().createElement(Ft,{footerData:e}):0<y.length&&h?J().createElement(Jt,{friendData:y,gameData:h}):null!=a&&a.friendActivityTitle?J().createElement(zt,{footerText:a.friendActivityTitle}):J().createElement(Bt,{totalUpVotes:a.totalUpVotes,totalDownVotes:a.totalDownVotes,playerCount:a.playerCount})}()))})).displayName="GameTile";var en=we;(re=function(e){var t=e.placeId,n=e.clientReferralUrl,r=e.buttonClassName,a=e.purchaseIconClassName,o=(0,K.useState)(void 0),i=o[0],l=o[1],e=(0,K.useState)(void 0),o=e[0],u=e[1];if((0,K.useEffect)(function(){We(t).then(function(e){return l(e)}).catch(function(){u(!0)})},[t]),void 0===i&&!o)return J().createElement(nn,null);r=Ee()(r,"btn-full-width");return J().createElement(J().Fragment,null,J().createElement(M.Link,{"data-testid":"hover-tile-purchase-button",className:r,url:n||(null==i?void 0:i.url)},J().createElement("span",{className:a}),J().createElement("span",{className:"btn-text"},(null==i?void 0:i.price)||"--")," "))}).defaultProps={clientReferralUrl:""};var tn=re,nn=function(){return J().createElement("div",{className:"shimmer play-button game-card-thumb-container","data-testid":"play-button-default"})};function rn(e){var t=e.gameData,n=e.topicId,r=e.wideTileType,a=(0,K.useMemo)(function(){return z(t,n)},[t,n]),e=(0,K.useMemo)(function(){return r===q.EventTile?et.ThumbnailGameThumbnailSize.width576:et.ThumbnailGameThumbnailSize.width384},[r]);return null!==a?J().createElement(et.Thumbnail2d,{type:et.ThumbnailTypes.assetThumbnail,size:e,targetId:a,containerClass:"brief-game-icon",format:et.ThumbnailFormat.jpeg,altName:t.name}):J().createElement(et.Thumbnail2d,{type:et.ThumbnailTypes.gameThumbnail,size:e,targetId:t.placeId,containerClass:"brief-game-icon",format:et.ThumbnailFormat.jpeg,altName:t.name})}function an(e){var t=e.wrapperClassName,n=e.isTileClickEnabled,r=e.isOnScreen,a=e.linkUrl,e=e.children;return n?J().createElement(M.Link,{url:a,className:t,tabIndex:r?0:-1},e):J().createElement("span",{className:t},e)}(St=function(e){var t=e.universeId,n=e.placeId,r=e.playButtonEventProperties,a=e.buttonClassName,o=e.purchaseIconClassName,i=e.clientReferralUrl,l=e.shouldPurchaseNavigateToDetails,e=g.PlayButton.usePlayabilityStatus,u=g.PlayButton.PlayabilityStatuses,s=g.PlayButton.PlayButton,c=g.PlayButton.PurchaseButton,e=e(t),d=e[0],f=e[1];switch(d){case void 0:case u.GuestProhibited:case u.Playable:return J().createElement(s,{universeId:t,placeId:n,status:null!=d?d:u.Playable,eventProperties:r,buttonClassName:a?Ee()(a,"regular-play-button"):void 0,disableLoadingState:!0});case u.PurchaseRequired:return l?J().createElement(tn,{placeId:n,clientReferralUrl:i,purchaseIconClassName:null!=o?o:"icon-common-play",buttonClassName:Ee()(null!=a?a:"btn-growth-lg play-button","purchase-button")}):J().createElement(c,{universeId:t,placeId:n,iconClassName:null!=o?o:"icon-common-play",refetchPlayabilityStatus:f,buttonClassName:a});case u.UniverseRootPlaceIsPrivate:return J().createElement("div",{className:null!=a?a:"btn-growth-lg play-button"},J().createElement("span",{className:"icon-status-private"}));default:return J().createElement("div",{className:null!=a?a:"btn-growth-lg play-button"},J().createElement("span",{className:"icon-status-unavailable"}))}}).defaultProps={playButtonEventProperties:{},buttonClassName:void 0,purchaseIconClassName:void 0,clientReferralUrl:void 0,shouldPurchaseNavigateToDetails:!1};var on=St;(we=J().forwardRef(function(e,t){var n=e.gameData,r=e.id,a=e.buildEventProperties,o=e.friendData,i=void 0===o?[]:o,l=e.playerCountStyle,u=e.playButtonStyle,s=e.navigationRootPlaceId,c=e.isSponsoredFooterAllowed,d=void 0!==c&&c,f=e.wideTileType,p=e.hoverStyle,m=e.topicId,v=e.isOnScreen,h=void 0===v||v,g=e.isInterestedUniverse,y=void 0===g?void 0:g,b=e.toggleInterest,I=void 0===b?void 0:b,S=e.translate,w=0===r,E=r===ot.maxWideGameTilesPerCarouselPage-1,P=Ae(),_=P[0],T=P[1],C=P[2],o=(0,K.useState)(n.placeId),x=o[0],N=o[1];(0,K.useEffect)(function(){s&&!Number.isNaN(s)?N(parseInt(s,10)):n.navigationUid&&ze(n.navigationUid).then(function(e){null!=e&&e.rootPlaceId&&N(e.rootPlaceId)}).catch(function(){})},[s,n.navigationUid]);function L(){return n.minimumAge&&n.ageRecommendationDisplayName&&f!==q.EventTile?J().createElement("div",{className:"game-card-info","data-testid":"game-tile-hover-age-rating"},J().createElement("span",{className:"info-label"},n.ageRecommendationDisplayName)):null}var c=(0,K.useMemo)(function(){return B(x,n.name,a(n,r))},[n,a,r,x]),v=a(n,r),A=(0,K.useMemo)(function(){return j(i,n.universeId)},[i,n.universeId]),D=(0,K.useMemo)(function(){return function(e,t){if(!t)return[];var n=new Map(e.map(function(e){return[e.id,e]}));return t.map(function(e){return n.get(e.userId)}).filter(function(e){return void 0!==e})}(i,n.friendVisits)},[i,n.friendVisits]),k=De(n,m),g=function(){return(f!==q.GridTile||u!==R.Disabled)&&((f!==q.EventTile||u===R.Enabled)&&f!==q.InterestTile)},b=(0,K.useMemo)(function(){return null!=k&&k.title?k.title:n.name},[n.name,null==k?void 0:k.title]),e=f!==q.InterestTile,P=f!==q.InterestTile,o=(0,K.useCallback)(function(){I&&I()},[I]);return J().createElement("li",{className:Ee()("list-item","hover-game-tile",{"grid-tile":f===q.GridTile},{"event-tile":f===q.EventTile},{"interest-tile":f===q.InterestTile},{"first-tile":w},{"last-tile":E},{"image-overlay":p===G.imageOverlay},{"old-hover":p!==G.imageOverlay},{focused:_}),"data-testid":"wide-game-tile",onMouseOver:P?T:void 0,onMouseLeave:P?C:void 0,onFocus:P?T:void 0,onBlur:P?C:void 0,id:n.universeId.toString()},n.universeId&&J().createElement("div",{className:"featured-game-container game-card-container",ref:t},J().createElement(an,{wrapperClassName:"game-card-link",isTileClickEnabled:e,isOnScreen:h,linkUrl:c},J().createElement("div",{className:"featured-game-icon-container"},J().createElement(rn,{gameData:n,topicId:m,wideTileType:f}),J().createElement(Ot,{gameLayoutData:k,playerCountStyle:l,playerCount:n.playerCount,isFocused:_})),J().createElement("div",{className:"info-container"},J().createElement("div",{className:"info-metadata-container"},J().createElement("div",{className:"game-card-name game-name-title","data-testid":"game-tile-game-title",title:b},b),J().createElement("div",{className:"wide-game-tile-metadata"},J().createElement("div",{className:"base-metadata"},function(){var e=L();if(_&&p===G.imageOverlay&&e)return e;if(n.isShowSponsoredLabel||n.isSponsored&&d)return J().createElement(qt,{translate:S});e=Je(k);return e?J().createElement(Ft,{footerData:e}):0<(null==A?void 0:A.length)?J().createElement(Kt,{friendsData:A,isOnline:!0}):0<(null==D?void 0:D.length)?J().createElement(Kt,{friendsData:D,isOnline:!1}):n.friendVisitedString?J().createElement(Ht,{iconClassName:"icon-pastname",text:n.friendVisitedString}):l===O.Footer?J().createElement(Bt,{totalUpVotes:n.totalUpVotes,totalDownVotes:n.totalDownVotes,playerCount:n.playerCount}):J().createElement(jt,{totalUpVotes:n.totalUpVotes,totalDownVotes:n.totalDownVotes,translate:S})}()),J().createElement("div",{className:"hover-metadata"},L()))),_&&p===G.imageOverlay&&g()&&J().createElement("div",{"data-testid":"game-tile-hover-game-tile-contents",className:"play-button-container"},J().createElement(on,{universeId:n.universeId.toString(),placeId:n.placeId.toString(),playButtonEventProperties:v,buttonClassName:"btn-growth-xs play-button",purchaseIconClassName:"icon-robux-white",clientReferralUrl:c,shouldPurchaseNavigateToDetails:!0})))),_&&p!==G.imageOverlay&&g()&&J().createElement("div",{"data-testid":"game-tile-hover-game-tile-contents",className:"game-card-contents"},J().createElement(on,{universeId:n.universeId.toString(),placeId:n.placeId.toString(),playButtonEventProperties:v,buttonClassName:"btn-growth-xs play-button",purchaseIconClassName:"icon-robux-white",clientReferralUrl:c,shouldPurchaseNavigateToDetails:!0})),f===q.InterestTile&&J().createElement(M.Button,{"data-testid":"tile-interest-button",className:"tile-interest-button",variant:M.Button.variants.primary,size:M.Button.sizes.medium,title:S(Ie.ActionInterestCatcherInterested),onClick:o},y?J().createElement("span",{className:"icon-heart-red"}):J().createElement("span",{className:"icon-heart"}),J().createElement("span",null,S(Ie.ActionInterestCatcherInterested)))))})).displayName="WideGameTile";var ln=we,un=function(){return(un=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},sn=function(e,t){var n={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};(re=(0,K.forwardRef)(function(e,t){var n=e.componentType,r=sn(e,["componentType"]);switch(n){case q.AppGameTileNoMetadata:return J().createElement(en,un({ref:t,shouldShowMetadata:!1},r));case q.GridTile:case q.EventTile:case q.InterestTile:return J().createElement(ln,un({ref:t,wideTileType:n},r));default:return J().createElement(en,un({ref:t},r))}})).displayName="GameTileTypeMap";var cn=re,dn=(0,K.forwardRef)(function(e,t){var n=e.gameData,r=e.buildEventProperties,a=e.translate,o=e.friendData,i=e.componentType,l=e.playerCountStyle,u=e.playButtonStyle,s=e.navigationRootPlaceId,c=e.isSponsoredFooterAllowed,d=e.hoverStyle,f=e.topicId,p=e.isExpandHomeContentEnabled,m=e.tileRef,p=Ee()("game-carousel",{"wide-game-tile-carousel":i===q.GridTile||i===q.EventTile},{"expand-home-content":p},{"expand-home-content-disabled":!p});return J().createElement("div",{"data-testid":"game-carousel",ref:t,className:p},n.map(function(e,t){return J().createElement(cn,{componentType:i,playerCountStyle:l,playButtonStyle:u,navigationRootPlaceId:s,isSponsoredFooterAllowed:c,hoverStyle:d,topicId:f,ref:m,key:t,id:t,gameData:e,translate:a,buildEventProperties:r,friendData:o})}))});function fn(e){var t=e.children,e=(e=(e=null===(e=window.location.href)||void 0===e?void 0:e.split("?")[1])&&oe(e))&&(e.discoverPageSessionInfo||e.homePageSessionInfo),e=(0,K.useState)(e&&"string"==typeof e?e:A.uuidService.generateRandomUuid())[0];return J().createElement(gn.Provider,{value:e},t)}function pn(){return(0,K.useContext)(gn)}function mn(e){var n=e.defaultSubtitle,t=e.endTimestamp,r=e.countdownString,a=e.formatSubtitleLink,o=e.subtitleLink,i=e.handleSeeAllLinkClick,l=e.backgroundImageAssetId,u=(0,K.useMemo)(function(){var e=t&&parseInt(t,10);if(e||0===e)return e},[t]),s=(e=(0,K.useState)(void 0!==u?u-Math.floor(Date.now()/1e3):void 0))[0],c=e[1];(0,K.useEffect)(function(){if(void 0!==u){c(u-Math.floor(Date.now()/1e3));var e=setInterval(function(){c(u-Math.floor(Date.now()/1e3))},15e3);return function(){clearInterval(e)}}c(void 0)},[u]);var d=(0,K.useMemo)(function(){if(void 0!==s&&r){var e=0,t=0;if(0<s&&(t=Math.ceil(s/60),t-=60*(e=Math.floor(t/60))),e<24)return r.replace("{hours}",e.toString()).replace("{minutes}",t.toString())}return n},[n,s,r]),e=(0,K.useMemo)(function(){if(a&&o&&d){var e=d.indexOf(yn),t=d.indexOf(bn);if(-1!==e&&-1!==t&&e<t){var n=d.slice(0,e),e=d.slice(e+yn.length,t),t=d.slice(t+bn.length);return J().createElement(M.Link,{url:o,onClick:i},n,J().createElement("span",{className:"link-text"},e),t,l?J().createElement("span",{className:"icon-chevron-right-dark"}):J().createElement("span",{className:"icon-chevron-right"}))}}return d},[d,o,l,i]);return d?J().createElement("div",{className:"sort-subtitle-container"},J().createElement("span",{className:"font-sort-subtitle text-default"},e)):null}dn.displayName="GameCarousel";var vn=function(t,e,n){var r=(0,K.useState)(new Set),a=r[0],o=r[1],r=(0,K.useState)(new Set),i=r[0],l=r[1],u=(0,K.useRef)(null),s=(0,K.useRef)(n);(0,K.useEffect)(function(){s.current=n},[n]);var c=(0,K.useCallback)(function(){le.splitArray(Array.from(i).filter(function(e){return!a.has(e)}),rt.maxTilesInGameImpressionsEvent).filter(function(e){return 0<e.length}).forEach(function(n){var e,t=s.current(n);void 0!==t&&0<(null===(e=t.absPositions)||void 0===e?void 0:e.length)&&(t=te.gameImpressions(t),S.eventStreamService.sendEvent.apply(S.eventStreamService,t),o(function(e){var t=e;return n.forEach(function(e){return t.add(e)}),t}))})},[a,i]),r=_e(function(){return c()}),d=r[0],f=r[1];(0,K.useEffect)(function(){var e,o=Array.from(null!==(e=null===(e=null==t?void 0:t.current)||void 0===e?void 0:e.children)&&void 0!==e?e:[]);return u.current=S.elementVisibilityService.observeChildrenVisibility({elements:o,threshold:rt.gameImpressionsIntersectionThreshold},function(e,t){f();var n,r,a=(n=t,r=[],e.forEach(function(t){var e;null==t||!t.isIntersecting||0<=(e=o.findIndex(function(e){return e===t.target}))&&(r.push(e),n.unobserve(t.target))}),r.sort(function(e,t){return e-t}));l(function(e){var t=e;return a.forEach(function(e){return t.add(e)}),t}),d()}),function(){null!=u&&u.current&&u.current()}},[t,e,i,d,f])},hn=function(){return(hn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},gn=(0,K.createContext)(""),St=function(t){return function(e){return J().createElement(fn,null,J().createElement(t,hn({},e)))}},yn=tt.subtitleLinkStart,bn=tt.subtitleLinkEnd;function In(e){var t=e.children,n=e.backgroundImageAssetId,r=(0,K.useState)(""),e=r[0],a=r[1];return(0,K.useEffect)(function(){var t=!0;return n?ee(n).then(function(e){t&&a(e)},function(){t&&a("")}):a(""),function(){t=!1}},[n]),J().createElement("div",{className:Ee()(["game-sort-carousel-wrapper",{"game-sort-with-mural":!!n,"game-sort-mural-loaded":!!e}])},e&&J().createElement("div",{className:"game-sort-mural-wrapper"},J().createElement("img",{className:"game-sort-mural",alt:"",src:e}),J().createElement("div",{className:"game-sort-mural-gradient"})),t)}function Sn(e){var t=e.scrollClassNames,n=e.scrollIconClassName,r=e.scroll,a=e.isDisabled,e=e.isNewScrollArrowsEnabled;return J().createElement("div",{"data-testid":"game-carousel-scroll-bar",className:t,onClick:r,"aria-disabled":a,onKeyDown:function(e){e.code===En.enter&&(e.stopPropagation(),e.preventDefault(),r())},role:"button",tabIndex:0},e?J().createElement("span",{className:n}):J().createElement(J().Fragment,null,J().createElement("div",{className:"arrow"},J().createElement("span",{className:n})),J().createElement("div",{className:"spacer"})))}(we=function(e){var t=e.sortTitle,n=e.sortSubtitle,r=e.seeAllLink,a=e.subtitleLink,o=e.shouldShowSeparateSubtitleLink,i=e.isSortLinkOverrideEnabled,l=e.buildNavigateToSortLinkEventProperties,u=e.shouldShowSponsoredTooltip,s=e.tooltipInfoText,c=e.titleContainerClassName,d=e.hideSeeAll,f=e.endTimestamp,p=e.countdownString,m=e.backgroundImageAssetId,v=e.translate,h=(0,K.useMemo)(function(){return s||(u?v(ye.LabelSponsoredAdsDisclosureStatic)||"Sponsored experiences are paid for by Creators. They may be shown to you based on general information about your device type, location, and demographics.":void 0)},[u,s,v]),g=(0,K.useMemo)(function(){return v(i?Se.LabelLearnMore:Ie.ActionSeeAll)},[i,v]),e=(0,K.useCallback)(function(){var e;i&&l&&(e=l(),e=te.navigateToSortLink(e),S.eventStreamService.sendEvent.apply(S.eventStreamService,e))},[i,l]);return J().createElement("div",{className:"game-sort-header-container"},J().createElement("div",{className:c},J().createElement("h2",{className:"sort-header"},d?J().createElement("span",null,t):J().createElement(M.Link,{url:r},t),h&&J().createElement(wt,{tooltipText:h})),!d&&J().createElement(M.Link,{url:r,onClick:e,className:"btn-secondary-xs see-all-link-icon btn-more"},g)),J().createElement(mn,{defaultSubtitle:n,endTimestamp:f,countdownString:p,formatSubtitleLink:i||o,subtitleLink:a,handleSeeAllLinkClick:e,backgroundImageAssetId:m}))}).defaultProps={sortSubtitle:void 0,tooltipInfoText:void 0,hideSeeAll:void 0,endTimestamp:void 0,countdownString:void 0,buildNavigateToSortLinkEventProperties:void 0,backgroundImageAssetId:void 0};var wn=we,En=rt.keyBoardEventCode;function Pn(e){var t=e.distance,n=e.scrollAreaSize,r=e.direction,a=e.startingPosition,o=e.currentPage,i=e.pageSession,l=e.gameSetTypeId,u=e.gameSetTargetId,s=e.sortPosition,e=((e={})[k.StartPos]=a,e[k.Distance]=t,e[k.Direction]=r,e[k.PageSession]=i,e[k.GameSetTypeId]=l,e[k.GameSetTargetId]=u,e[k.SortPos]=s,e[k.ScrollDepth]=t/n,e[k.StartDepth]=a/n,e[k.ScreenSizeX]=window.innerWidth,e[k.ScreenSizeY]=window.innerHeight,e[k.ScrollAreaSize]=n,e);g.EventStream.SendEventWithTarget(E.FeedScroll,o,e,g.EventStream.TargetTypes.WWW)}function _n(e){var t=e.scrollPosition,n=e.page,r=e.gameSetTypeId,a=e.gameSetTargetId,o=e.sortPosition,i=e.wrapperRef,l=(0,K.useRef)(t),u=pn(),s=(0,K.useMemo)(function(){return _e(function(e){var t;e!==l.current&&(t=Math.round((null===(t=i.current)||void 0===t?void 0:t.getBoundingClientRect().width)||window.innerWidth),Pn({distance:e-l.current,scrollAreaSize:t,startingPosition:l.current,currentPage:n,direction:P.Horizontal,gameSetTypeId:r,gameSetTargetId:a,sortPosition:o,pageSession:u}),l.current=e)},250)[0]},[n,r,a,o,u]);(0,K.useEffect)(function(){s(t)},[s,t])}function Tn(e,r){return e.map(function(e){var t=e.contentType,n=e.contentId,e=e.contentMetadata,t=null===(t=null==r?void 0:r[t])||void 0===t?void 0:t[n];if(t){n=Un({},t),e=null==e?void 0:e.EncryptedAdTrackingData;return n.isSponsored=0<(null==e?void 0:e.length),n.nativeAdData=e,n}return t}).filter(function(e){return void 0!==e})}function Cn(e){return"games"in e}function xn(e){return"games"in e}function Nn(e){return"filters"in e}function Ln(e,t){return"recommendationList"in e?Tn(e.recommendationList,t):Cn(e)?e.games:[]}function An(e){return{topic:e.sortDisplayName,topicId:e.gameSetTypeId,treatmentType:e.treatmentType,games:e.games.map(function(e){var t;return Un(Un({},e),{placeId:null!==(t=e.placeId)&&void 0!==t?t:e.rootPlaceId})}),sortId:e.sortId,gameSetTargetId:e.gameSetTargetId,contentType:e.contentType,nextPageToken:e.nextPageToken||"",subtitle:e.subtitle,topicLayoutData:e.topicLayoutData,appliedFilters:e.appliedFilters}}function Dn(e){return{sorts:e.sorts.map(function(e){return"games"in(e=e)?An(e):{topic:(e=e).sortDisplayName,topicId:e.gameSetTypeId,treatmentType:e.treatmentType,filters:e.filters,sortId:e.sortId,gameSetTargetId:e.gameSetTargetId,contentType:e.contentType,nextPageToken:e.nextPageToken||"",subtitle:e.subtitle,topicLayoutData:e.topicLayoutData}}),nextSortsPageToken:e.nextSortsPageToken}}function kn(e){if(e&&Cn(e))return e.gameSetTargetId}function On(e){var t=kn(e);return void 0!==t?((e={})[k.GameSetTargetId]=t,e):{}}function Rn(e){if(e=e.find(Nn)){var t=new Map;return e.filters.forEach(function(e){t.set(e.filterType,e.selectedOptionId)}),t}}function Gn(e){var t;return e&&Cn(e)&&e.appliedFilters?((t={})[k.AppliedFilters]=encodeURIComponent(e.appliedFilters),t):{}}(re=function(e){var t=e.isScrollBackDisabled,n=e.isScrollForwardDisabled,r=e.onScrollBack,a=e.onScrollForward;return e.isNewScrollArrowsEnabled?J().createElement(J().Fragment,null,!t&&J().createElement(Sn,{scrollClassNames:"scroller-new prev",scrollIconClassName:"icon-chevron-heavy-left",scroll:r,isDisabled:t,isNewScrollArrowsEnabled:!0}),!n&&J().createElement(Sn,{scrollClassNames:"scroller-new next",scrollIconClassName:"icon-chevron-heavy-right",scroll:a,isDisabled:n,isNewScrollArrowsEnabled:!0})):J().createElement(J().Fragment,null,J().createElement(Sn,{scrollClassNames:Ee()("scroller","prev",{disabled:t}),scrollIconClassName:"icon-games-carousel-left",isDisabled:t,scroll:r,isNewScrollArrowsEnabled:!1}),J().createElement(Sn,{scrollClassNames:Ee()("scroller","next",{disabled:n}),scrollIconClassName:"icon-games-carousel-right",isDisabled:n,scroll:a,isNewScrollArrowsEnabled:!1}))}).defaultProps={isNewScrollArrowsEnabled:void 0};var Mn=re,Un=function(){return(Un=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Bn="undefined"!=typeof Map?Map:(Object.defineProperty(Fn.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),Fn.prototype.get=function(e){e=jn(this.__entries__,e),e=this.__entries__[e];return e&&e[1]},Fn.prototype.set=function(e,t){var n=jn(this.__entries__,e);~n?this.__entries__[n][1]=t:this.__entries__.push([e,t])},Fn.prototype.delete=function(e){var t=this.__entries__,e=jn(t,e);~e&&t.splice(e,1)},Fn.prototype.has=function(e){return!!~jn(this.__entries__,e)},Fn.prototype.clear=function(){this.__entries__.splice(0)},Fn.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var a=r[n];e.call(t,a[1],a[0])}},Fn);function jn(e,n){var r=-1;return e.some(function(e,t){return e[0]===n&&(r=t,!0)}),r}function Fn(){this.__entries__=[]}var Hn="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,zn=void 0!==fo.g&&fo.g.Math===Math?fo.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Wn="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(zn):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},Vn=2,qn=["top","right","bottom","left","width","height","size","weight"],$n="undefined"!=typeof MutationObserver,Kn=(Jn.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},Jn.prototype.removeObserver=function(e){var t=this.observers_,e=t.indexOf(e);~e&&t.splice(e,1),!t.length&&this.connected_&&this.disconnect_()},Jn.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},Jn.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),0<e.length},Jn.prototype.connect_=function(){Hn&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),$n?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},Jn.prototype.disconnect_=function(){Hn&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},Jn.prototype.onTransitionEnd_=function(e){var e=e.propertyName,t=void 0===e?"":e;qn.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},Jn.getInstance=function(){return this.instance_||(this.instance_=new Jn),this.instance_},Jn.instance_=null,Jn);function Jn(){function e(){o&&(o=!1,r()),i&&n()}function t(){Wn(e)}function n(){var e=Date.now();if(o){if(e-l<Vn)return;i=!0}else i=!(o=!0),setTimeout(t,a);l=e}var r,a,o,i,l;this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=(r=this.refresh.bind(this),i=o=!(a=20),l=0,n)}var Yn=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},Zn=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||zn},Qn=ar(0,0,0,0);function Xn(e){return parseFloat(e)||0}function er(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(e,t){return e+Xn(n["border-"+t+"-width"])},0)}function tr(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Qn;var r=Zn(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var a=r[n],o=e["padding-"+a];t[a]=Xn(o)}return t}(r),o=a.left+a.right,i=a.top+a.bottom,l=Xn(r.width),u=Xn(r.height);return"border-box"===r.boxSizing&&(Math.round(l+o)!==t&&(l-=er(r,"left","right")+o),Math.round(u+i)!==n&&(u-=er(r,"top","bottom")+i)),(e=e)!==Zn(e).document.documentElement&&(t=Math.round(l+o)-t,n=Math.round(u+i)-n,1!==Math.abs(t)&&(l-=t),1!==Math.abs(n)&&(u-=n)),ar(a.left,a.top,l,u)}var nr="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Zn(e).SVGGraphicsElement}:function(e){return e instanceof Zn(e).SVGElement&&"function"==typeof e.getBBox};function rr(e){return Hn?nr(e)?ar(0,0,(t=(t=e).getBBox()).width,t.height):tr(e):Qn;var t}function ar(e,t,n,r){return{x:e,y:t,width:n,height:r}}var or=(ir.prototype.isActive=function(){var e=rr(this.target);return(this.contentRect_=e).width!==this.broadcastWidth||e.height!==this.broadcastHeight},ir.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},ir);function ir(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ar(0,0,0,0),this.target=e}var lr=function(e,t){var n,r,a,o=(n=(o=t).x,r=o.y,a=o.width,t=o.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(o.prototype),Yn(o,{x:n,y:r,width:a,height:t,top:r,right:n+a,bottom:t+r,left:n}),o);Yn(this,{target:e,contentRect:o})},ur=(sr.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Zn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new or(e)),this.controller_.addObserver(this),this.controller_.refresh())}},sr.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Zn(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},sr.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},sr.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},sr.prototype.broadcastActive=function(){var e,t;this.hasActive()&&(e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new lr(e.target,e.broadcastRect())}),this.callback_.call(e,t,e),this.clearActive())},sr.prototype.clearActive=function(){this.activeObservations_.splice(0)},sr.prototype.hasActive=function(){return 0<this.activeObservations_.length},sr);function sr(e,t,n){if(this.activeObservations_=[],this.observations_=new Bn,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}var cr=new("undefined"!=typeof WeakMap?WeakMap:Bn),dr=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Kn.getInstance(),n=new ur(t,n,this);cr.set(this,n)};["observe","unobserve","disconnect"].forEach(function(t){dr.prototype[t]=function(){var e;return(e=cr.get(this))[t].apply(e,arguments)}});var we=void 0!==zn.ResizeObserver?zn.ResizeObserver:dr,fr=null!==(re=window.ResizeObserver)&&void 0!==re?re:we,pr=function(){var e=(0,K.useState)(void 0),t=e[0],n=e[1],r=(0,K.useCallback)(function(e){e=null===(e=null==e?void 0:e.getBoundingClientRect())||void 0===e?void 0:e.width;void 0!==e&&n(e)},[]),e=(0,K.useCallback)(function(e){e&&e[0]&&e[0].target&&r(e[0].target)},[r]),a=(0,K.useRef)(new fr(e)),e=(0,K.useCallback)(function(e){e&&null!=a&&a.current&&(r(e),a.current.disconnect(),a.current.observe(e))},[r]);return(0,K.useEffect)(function(){return function(){null!=a&&a.current&&a.current.disconnect()}},[]),[e,t]},mr=it.numGameCarouselLookAheadWindows,vr=it.gameTileGutterWidth,hr=it.wideGameTileGutterWidth,gr=ie.wideTileHoverGrowWidthPx;(re=function(e){var t=e.gameData,n=e.sort,r=e.positionId,a=e.page,o=e.gamesContainerRef,i=e.buildEventProperties,l=e.loadMoreGames,u=e.isLoadingMoreGames,s=e.componentType,c=e.playerCountStyle,d=e.playButtonStyle,f=e.itemsPerRow,p=e.friendData,m=e.navigationRootPlaceId,v=e.isSponsoredFooterAllowed,h=e.hoverStyle,g=e.topicId,y=e.isExpandHomeContentEnabled,b=e.isCarouselHorizontalScrollEnabled,I=e.isNewScrollArrowsEnabled,S=e.translate,w=(0,K.useRef)(null),E=(0,K.useState)(0),P=E[0],_=E[1],T=(0,K.useState)(!1),C=T[0],x=T[1],e=(0,K.useState)(!0),N=e[0],L=e[1],E=(0,K.useState)(!0),A=E[0],D=E[1],T=(0,K.useState)(0),k=T[0],O=T[1],R=(0,K.useMemo)(function(){return s===q.GridTile||s===q.EventTile},[s]),G=(0,K.useMemo)(function(){return R?hr:vr},[R]),e=pr(),E=e[0],M=e[1],T=pr(),e=T[0],U=T[1],B=(0,K.useMemo)(function(){if(R&&f)return f;var e=null===(e=null===(e=null==w?void 0:w.current)||void 0===e?void 0:e.getBoundingClientRect())||void 0===e?void 0:e.width;return void 0!==U&&void 0!==e?Math.max(1,Math.floor((U+G)/(e+G))):0},[U,G,f,R]);(0,K.useEffect)(function(){L(0<=k),u||void 0!==U&&void 0!==M&&Math.abs(k)+U+gr>=M?D(!0):D(!1)},[k,U,M,null==t?void 0:t.length,u]);var j=(0,K.useCallback)(function(){P+mr*B>=(null==t?void 0:t.length)&&l&&!u&&l()},[P,B,l,u,null==t?void 0:t.length]),F=(0,K.useCallback)(function(){var e=null===(e=null===(e=null==w?void 0:w.current)||void 0===e?void 0:e.getBoundingClientRect())||void 0===e?void 0:e.width;return void 0===e?0:Math.floor(B)*(e+G)},[B,G]),H=(0,K.useCallback)(function(){var t;N||(t=F(),O(function(e){return Math.min(e+t,0)}),_(function(e){return e-B}))},[F,N,B]),z=(0,K.useCallback)(function(){var t;A||(t=F(),O(function(e){return b&&a===Y.HomePage?void 0!==M&&void 0!==U?Math.max(e-t,-1*(M-U)):e-t:void 0!==M?Math.max(e-t,-1*M):e-t}),_(function(e){return e+B}),j())},[j,F,A,B,U,M,a,b]),W=(0,K.useCallback)(function(e){return P<=e&&e<P+B},[P,B]),V=(0,K.useCallback)(function(e){C||(x(!0),e(),setTimeout(function(){x(!1)},200))},[C]),T=(0,K.useRef)(null);_n({scrollPosition:-k,page:a,gameSetTypeId:n.topicId,gameSetTargetId:kn(n),wrapperRef:T,sortPosition:r});r=(0,K.useMemo)(function(){return Ee()({"hlist games game-cards game-tile-list":!R,"game-carousel wide-game-tile-carousel scrollable-carousel":R,"games-page-carousel":a===Y.GamesPage,"home-page-carousel":a===Y.HomePage})},[R,a]);return J().createElement("div",{"data-testid":"game-carousel",ref:T,className:Ee()("horizontal-scroller games-list",{"home-page-games-list":a===Y.HomePage,"wide-game-tile-list":R,"expand-home-content":y,"expand-home-content-disabled":!y})},J().createElement("div",{ref:e,className:"clearfix horizontal-scroll-window"},J().createElement("div",{ref:E,className:"horizontally-scrollable",style:{left:k+"px"}},J().createElement("ul",{ref:o,className:r},t.map(function(e,t){return R?J().createElement(cn,{key:e.universeId,ref:w,id:t,isOnScreen:W(t),page:a,gameData:e,translate:S,buildEventProperties:i,componentType:s,playerCountStyle:c,playButtonStyle:d,hoverStyle:h,topicId:g,friendData:p,isSponsoredFooterAllowed:v,navigationRootPlaceId:m}):J().createElement("li",{key:e.universeId,className:"list-item game-card game-tile"},J().createElement(cn,{ref:w,id:t,isOnScreen:W(t),page:a,gameData:e,className:"game-card-container",translate:S,buildEventProperties:i,componentType:s,playerCountStyle:c,playButtonStyle:d,hoverStyle:h,topicId:g,friendData:p,isSponsoredFooterAllowed:v,navigationRootPlaceId:m}))}))),J().createElement(Mn,{isScrollBackDisabled:N,isScrollForwardDisabled:A,onScrollBack:function(){return V(H)},onScrollForward:function(){return V(z)},isNewScrollArrowsEnabled:I})))}).defaultProps={loadMoreGames:void 0,componentType:void 0,itemsPerRow:void 0,playerCountStyle:void 0,playButtonStyle:void 0,friendData:void 0,navigationRootPlaceId:void 0,isSponsoredFooterAllowed:void 0,hoverStyle:void 0,topicId:void 0,isExpandHomeContentEnabled:void 0,isCarouselHorizontalScrollEnabled:void 0,isNewScrollArrowsEnabled:void 0};var yr=re,br=function(){return(br=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};(we=function(e){function t(e,t){var n={};return n[k.PlaceId]=e.placeId,n[k.UniverseId]=e.universeId,n[k.IsAd]=e.isSponsored,n[k.NativeAdData]=e.nativeAdData,n[k.Position]=t,n[k.SortPos]=l,n[k.NumberOfLoadedTiles]=(o||[]).length,n[k.GameSetTypeId]=i.topicId,n[k.Page]=Y.HomePage,n[U.HomePageSessionInfo]=C,n[k.PlayContext]=Y.HomePage,n}var n,r=e.translate,a=e.friendsPresence,o=e.gameData,i=e.sort,l=e.positionId,u=e.componentType,s=e.playerCountStyle,c=e.playButtonStyle,d=e.hoverStyle,f=e.tooltipInfoText,p=e.hideSeeAll,m=e.navigationRootPlaceId,v=e.isSponsoredFooterAllowed,h=e.seeAllLinkPath,g=e.subtitleLinkPath,y=e.itemsPerRow,b=e.startingRow,I=e.endTimestamp,S=e.countdownString,w=e.isExpandHomeContentEnabled,E=e.isCarouselHorizontalScrollEnabled,P=e.isNewScrollArrowsEnabled,_=(0,K.useRef)(null),T=(0,K.useRef)(null),C=pn(),x=(0,K.useCallback)(function(e){if(void 0!==o&&void 0!==b){var t=e.filter(function(e){return e<(null==o?void 0:o.length)});return br(br(br(br(br(((e={})[k.RootPlaceIds]=t.map(function(e){return o[e].placeId}),e[k.UniverseIds]=t.map(function(e){return o[e].universeId}),e),W(o,i.topicId,t,u)),Z(o,i.topicId,t,u)),H(o,t)),Q(b,null==o?void 0:o.length,null==o?void 0:o.length,t)),((e={})[k.NavigationUids]=t.map(function(e){return null!==(e=o[e].navigationUid)&&void 0!==e?e:"0"}),e[k.AbsPositions]=t,e[k.SortPos]=l,e[k.GameSetTypeId]=i.topicId,e[k.Page]=Y.HomePage,e[U.HomePageSessionInfo]=C,e))}},[o,C,l,i.topicId,u,b]);vn(_,o.length,x),(0,K.useEffect)(function(){w&&y&&null!=_&&_.current&&_.current.style.setProperty("--items-per-row",y.toString())},[w,y]);var N=(0,K.useMemo)(function(){return h?A.urlService.getAbsoluteUrl(h):D(i.topic,Y.HomePage,{position:l,sortId:i.topicId,page:Y.HomePage,treatmentType:i.treatmentType,homePageSessionInfo:C})},[C,l,i.topic,i.topicId,i.treatmentType,h]),L=(0,K.useMemo)(function(){return g||N},[g,N]),e=(0,K.useCallback)(function(){var e;if(h)return(e={})[k.LinkPath]=h,e[k.SortPos]=l,e[k.GameSetTypeId]=i.topicId,e[k.Page]=Y.HomePage,e[U.HomePageSessionInfo]=C,e},[C,l,h,i.topicId]);return J().createElement(In,{backgroundImageAssetId:null!==(x=i.topicLayoutData)&&void 0!==x&&x.backgroundImageAssetId?parseInt(null===(x=i.topicLayoutData)||void 0===x?void 0:x.backgroundImageAssetId,10):void 0},J().createElement(wn,{sortTitle:i.topic,sortSubtitle:i.subtitle,seeAllLink:N,subtitleLink:L,shouldShowSeparateSubtitleLink:!!g,isSortLinkOverrideEnabled:!!h,buildNavigateToSortLinkEventProperties:e,shouldShowSponsoredTooltip:i.topicId===tt.adSortHomePageId,tooltipInfoText:f,titleContainerClassName:"container-header",hideSeeAll:p,endTimestamp:I,countdownString:S,backgroundImageAssetId:null!==(S=i.topicLayoutData)&&void 0!==S&&S.backgroundImageAssetId?parseInt(null===(n=i.topicLayoutData)||void 0===n?void 0:n.backgroundImageAssetId,10):void 0,translate:r}),E?J().createElement(yr,{gameData:o,sort:i,positionId:l,page:Y.HomePage,gamesContainerRef:_,buildEventProperties:t,loadMoreGames:void 0,isLoadingMoreGames:!1,componentType:u,playerCountStyle:s,playButtonStyle:c,itemsPerRow:y,friendData:a,navigationRootPlaceId:m,isSponsoredFooterAllowed:v,hoverStyle:d,topicId:null===(n=i.topicId)||void 0===n?void 0:n.toString(),isExpandHomeContentEnabled:w,isCarouselHorizontalScrollEnabled:E,isNewScrollArrowsEnabled:P,translate:r}):J().createElement(dn,{ref:_,tileRef:T,gameData:o,friendData:a,buildEventProperties:t,translate:r,componentType:u,playerCountStyle:s,playButtonStyle:c,navigationRootPlaceId:m,isSponsoredFooterAllowed:v,hoverStyle:d,topicId:null===(d=i.topicId)||void 0===d?void 0:d.toString(),isExpandHomeContentEnabled:w}))}).defaultProps={componentType:void 0,playerCountStyle:void 0,playButtonStyle:void 0,hoverStyle:void 0,tooltipInfoText:void 0,hideSeeAll:void 0,navigationRootPlaceId:void 0,isSponsoredFooterAllowed:void 0,seeAllLinkPath:void 0,subtitleLinkPath:void 0,itemsPerRow:void 0,endTimestamp:void 0,countdownString:void 0,isExpandHomeContentEnabled:void 0,isCarouselHorizontalScrollEnabled:void 0,isNewScrollArrowsEnabled:void 0};var Ir=we,Sr=function(){return(Sr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},wr=function(e,i,l,u){return new(l=l||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function a(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},Er=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function Pr(){function r(e){(e.detail||[]).forEach(function(e){o.current[e.userId]&&(o.current[e.userId]=Sr(Sr({},o.current[e.userId]),{presence:e}))}),a(Sr({},o.current))}var e=this,t=(0,K.useState)({}),n=t[0],a=t[1],o=(0,K.useRef)(n);return(0,K.useEffect)(function(){return wr(e,void 0,void 0,function(){var t,n;return Er(this,function(e){switch(e.label){case 0:if((null==(t=ke.deviceMeta.getDeviceMeta())?void 0:t.deviceType)!==ke.deviceMeta.DeviceTypes.computer)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,He()];case 2:return n=e.sent().userData,n=(n||[]).reduce(function(e,t){return e[t.id]=t,e},{}),o.current=n,a(Sr({},o.current)),document.addEventListener("Roblox.Presence.Update",r),[3,4];case 3:return n=e.sent(),console.error("useFriendsPresence failed to initialized with the error",n),[3,4];case 4:return[2]}})}),function(){document.removeEventListener("Roblox.Presence.Update",r)}},[]),Object.values(n)}function _r(){var e=(0,K.useContext)(Tr);return{contentMetadata:e.contentMetadata,appendContentMetadata:e.appendContentMetadata}}var Tr=(0,K.createContext)({contentMetadata:null,appendContentMetadata:function(){}}),Cr=function(){return(Cr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};(re=function(e){var t=e.translate,r=e.gameData,a=e.sort,o=e.page,i=e.positionId,n=e.isLoadingMoreGames,l=e.loadMoreGames,u=e.tooltipInfoText,s=e.hideSeeAll,c=e.componentType,d=e.playerCountStyle,f=e.playButtonStyle,p=e.itemsPerRow,m=e.isChartsPageRenameEnabled,v=e.subtitleLinkPath,h=(0,K.useRef)(null),g=pn(),e=(0,K.useCallback)(function(e){if(void 0!==r){var t=e.filter(function(e){return e<(null==r?void 0:r.length)});return Cr(Cr(Cr(Cr(Cr(((e={})[k.RootPlaceIds]=t.map(function(e){return r[e].placeId}),e[k.UniverseIds]=t.map(function(e){return r[e].universeId}),e),H(r,t)),((e={})[k.AbsPositions]=t,e[k.SortPos]=i,e[k.GameSetTypeId]=a.topicId,e)),On(a)),Gn(a)),((e={})[k.Page]=o,e[k.NumberOfLoadedTiles]=(r||[]).length,e[U.DiscoverPageSessionInfo]=g,e))}},[r,g,i,a,o]);vn(h,r.length,e),(0,K.useEffect)(function(){p&&null!=h&&h.current&&h.current.style.setProperty("--items-per-row",p.toString())},[p]);e=(0,K.useMemo)(function(){var e=Cr(Cr(((e={})[k.Position]=i,e[k.GameSetTypeId]=a.topicId,e),On(a)),((t={})[k.Page]=o,t[k.TreatmentType]=y.Carousel,t[U.DiscoverPageSessionInfo]=g,t)),t=function(e){if(Cn(e)&&e.appliedFilters){var n={};return e.appliedFilters.split(",").forEach(function(e){var t=e.split("="),e=t[0],t=t[1];e&&t&&(n[e]=t)}),n}return{}}(a);return D(a.sortId,o,e,m,t)},[g,o,i,a,m]);return J().createElement("div",{className:Ee()("games-list-container",{"wide-game-tile-container":c===q.GridTile||c===q.EventTile})},J().createElement(wn,{sortTitle:a.topic,sortSubtitle:a.subtitle,subtitleLink:v||e,seeAllLink:e,isSortLinkOverrideEnabled:!1,shouldShowSeparateSubtitleLink:!!v,shouldShowSponsoredTooltip:a.topicId===nt.adSortDiscoverId,tooltipInfoText:u,titleContainerClassName:"container-header games-filter-changer",hideSeeAll:s,translate:t}),J().createElement(yr,{gamesContainerRef:h,gameData:r,sort:a,positionId:i,loadMoreGames:l,isLoadingMoreGames:n,buildEventProperties:function(e,t){var n;return Cr(Cr(Cr(Cr(((n={})[k.PlaceId]=e.placeId,n[k.UniverseId]=e.universeId,n[k.IsAd]=e.isSponsored,n[k.NativeAdData]=e.nativeAdData,n[k.Position]=t,n[k.SortPos]=i,n[k.GameSetTypeId]=a.topicId,n),On(a)),((n={})[k.NumberOfLoadedTiles]=(r||[]).length,n[k.Page]=o,n)),Gn(a)),((n={})[U.DiscoverPageSessionInfo]=g,n[k.PlayContext]=Y.GamesPage,n))},translate:t,page:o,componentType:c,playerCountStyle:d,playButtonStyle:f,itemsPerRow:p}))}).defaultProps={loadMoreGames:void 0,tooltipInfoText:void 0,hideSeeAll:void 0,componentType:void 0,itemsPerRow:void 0,playerCountStyle:void 0,playButtonStyle:void 0,isChartsPageRenameEnabled:void 0,subtitleLinkPath:void 0};var xr=re;function Nr(e){var t=e.sort,a=_r().contentMetadata;return 0===(null==(e=(0,K.useMemo)(function(){return t.recommendationList.map(function(e){var t,n=e.contentType,r=e.contentId,e=null===(t=null==a?void 0:a[n])||void 0===t?void 0:t[r];return e&&((t=e).itemId=r,t.itemType=n),e}).filter(function(e){return e}).slice(0,Dr)},[t.recommendationList,a]))?void 0:e.length)?null:J().createElement(g.AvatarShopHomepageRecommendations,{recommendedItems:e})}function Lr(e){var t=e.loadData,n=(0,K.useRef)(null),r=(0,K.useRef)(null);return(0,K.useEffect)(function(){var e=n.current;return e&&(r.current=S.elementVisibilityService.observeVisibility({element:e,threshold:at},function(e){e&&t&&t()})),function(){null!=r&&r.current&&r.current()}},[t]),t?J().createElement("div",{ref:n,"data-testid":"sentinel-tile",className:"grid-item-container game-card-container invisible"}):null}(we=function(e){var t=e.translate,n=e.sort,r=e.positionId,a=e.page,o=e.itemsPerRow,i=e.startingRow,l=e.loadMoreGames,u=e.isLoadingMoreGames,s=e.isExpandHomeContentEnabled,c=e.isChartsPageRenameEnabled,d=e.isCarouselHorizontalScrollEnabled,f=e.isNewScrollArrowsEnabled,e=Pr(),p=_r().contentMetadata,m=d||a===Y.HomePage&&(null===(d=null==n?void 0:n.topicLayoutData)||void 0===d?void 0:d.componentType)===q.EventTile,f=f||a===Y.HomePage&&(null===(v=null==n?void 0:n.topicLayoutData)||void 0===v?void 0:v.componentType)===q.EventTile,v=(0,K.useMemo)(function(){var e;return m?Ln(n,p):s?Ln(n,p).slice(0,o):Ln(n,p).slice(0,function(e,t){var n=tt.maxWideGameTilesPerCarouselPage,r=tt.maxTilesPerCarouselPage;if(e!==Y.GamesPage)switch(t){case q.GridTile:case q.EventTile:case q.InterestTile:return n;case q.AppGameTileNoMetadata:default:return r}}(a,null===(e=n.topicLayoutData)||void 0===e?void 0:e.componentType))},[n,p,a,o,s,m]);return 0===(null==v?void 0:v.length)?null:a===Y.GamesPage?J().createElement(xr,{key:n.topic,sort:n,translate:t,positionId:r,page:a,gameData:v,loadMoreGames:l,isLoadingMoreGames:!0===u,tooltipInfoText:null===(u=n.topicLayoutData)||void 0===u?void 0:u.infoText,hideSeeAll:"true"===(null===(u=n.topicLayoutData)||void 0===u?void 0:u.hideSeeAll),componentType:null===(u=n.topicLayoutData)||void 0===u?void 0:u.componentType,playerCountStyle:null===(u=n.topicLayoutData)||void 0===u?void 0:u.playerCountStyle,playButtonStyle:null===(u=n.topicLayoutData)||void 0===u?void 0:u.playButtonStyle,subtitleLinkPath:null===(u=n.topicLayoutData)||void 0===u?void 0:u.subtitleLinkPath,itemsPerRow:o,isChartsPageRenameEnabled:c}):J().createElement(Ir,{key:n.topic,sort:n,translate:t,positionId:r,gameData:v,friendsPresence:e,itemsPerRow:o,startingRow:i,componentType:null===(i=n.topicLayoutData)||void 0===i?void 0:i.componentType,playerCountStyle:null===(i=n.topicLayoutData)||void 0===i?void 0:i.playerCountStyle,playButtonStyle:null===(i=n.topicLayoutData)||void 0===i?void 0:i.playButtonStyle,hoverStyle:null===(i=n.topicLayoutData)||void 0===i?void 0:i.hoverStyle,tooltipInfoText:null===(i=n.topicLayoutData)||void 0===i?void 0:i.infoText,hideSeeAll:"true"===(null===(i=n.topicLayoutData)||void 0===i?void 0:i.hideSeeAll),navigationRootPlaceId:null===(i=n.topicLayoutData)||void 0===i?void 0:i.navigationRootPlaceId,isSponsoredFooterAllowed:"true"===(null===(i=n.topicLayoutData)||void 0===i?void 0:i.isSponsoredFooterAllowed),seeAllLinkPath:null===(i=n.topicLayoutData)||void 0===i?void 0:i.linkPath,subtitleLinkPath:null===(i=n.topicLayoutData)||void 0===i?void 0:i.subtitleLinkPath,endTimestamp:null===(i=n.topicLayoutData)||void 0===i?void 0:i.endTimestamp,countdownString:null===(i=n.topicLayoutData)||void 0===i?void 0:i.countdownString,isExpandHomeContentEnabled:s,isCarouselHorizontalScrollEnabled:m,isNewScrollArrowsEnabled:f})}).defaultProps={loadMoreGames:void 0,isLoadingMoreGames:void 0,isExpandHomeContentEnabled:void 0,isChartsPageRenameEnabled:void 0,isCarouselHorizontalScrollEnabled:void 0,isNewScrollArrowsEnabled:void 0};var Ar=we,Dr=tt.maxTilesPerCarouselPage;function kr(e){var t=e.universeId,n=e.creatorName,r=e.creatorType,a=e.creatorId,o=e.linkUrl,i=e.isCreatorVerified,l=e.translate,e=(0,K.useRef)(null);return J().createElement("div",{ref:e,className:"game-card-creator-name","data-testid":"game-card-creator-name"},J().createElement("span",{className:"text-label creator-name-label"},l(ge.LabelByPrefix)," "),J().createElement("a",{href:o,onClick:function(){g.EventStream.SendEventWithTarget("buttonClick","featuredTileCreatorLabel",{creatorId:a,creatorType:r,universeId:t},g.EventStream.TargetTypes.WWW)},className:"text-overflow text-label creator-name"},n),i&&J().createElement(Rr.VerifiedBadgeIconContainer,{size:Rr.BadgeSizes.CAPTIONHEADER}))}Lr.displayName="SentinelTile",Lr.defaultProps={loadData:null};var Or=Lr,Rr=RobloxBadges,Gr=function(){var e=(0,K.useState)(void 0),t=e[0],n=e[1],r=(0,K.useState)(!1),e=r[0],a=r[1];return(0,K.useEffect)(function(){a(!0),he().then(function(e){n(e.shouldShowVpcPlayButtonUpsells)}).catch(function(){n(!1)}).finally(function(){a(!1)})},[]),{shouldShowVpcPlayButtonUpsells:t,isFetchingPolicy:e}};(re=function(e){var t=e.universeId,n=e.placeId,r=e.playButtonEventProperties,a=e.disableLoadingState,o=g.PlayButton.usePlayabilityStatus,i=g.PlayButton.shouldShowUnplayableButton,l=g.PlayButton.PlayabilityStatuses,u=g.PlayButton.DefaultPlayButton,s=o(t),c=s[0],d=s[1],f=I,p=b,m=(0,K.useState)(void 0),e=m[0],v=m[1],o=(0,K.useState)(!1),s=o[0],h=o[1],m=Gr(),o=m.shouldShowVpcPlayButtonUpsells,m=m.isFetchingPolicy;return(0,K.useEffect)(function(){h(!0),de(f.playButton,p.playButton).then(function(e){v(!0===e.HasUpdatedPlayButtons)}).catch(function(){v(p.playButton.HasUpdatedPlayButtons)}).finally(function(){h(!1)})},[f.playButton,p.playButton]),s||m?a?J().createElement(u,{placeId:n,universeId:t,refetchPlayabilityStatus:d,playabilityStatus:l.Playable,eventProperties:r,hideButtonText:!0,disableLoadingState:a}):J().createElement(M.Loading,null):!e&&i(c,o)?J().createElement("div",{className:"btn-growth-lg play-button"},J().createElement("span",{className:"icon-status-unavailable"})):J().createElement(u,{placeId:n,universeId:t,refetchPlayabilityStatus:d,playabilityStatus:c,eventProperties:r,disableLoadingState:a,buttonClassName:c===l.PurchaseRequired?"btn-common-play-game-lg purchase-button":void 0,hideButtonText:c!==l.PurchaseRequired,hasUpdatedPlayButtonsIxp:e,shouldShowVpcPlayButtonUpsells:o})}).defaultProps={playButtonEventProperties:{},disableLoadingState:!1};var Mr=re,Ur=function(e,i,l,u){return new(l=l||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function a(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},Br=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},jr=(0,K.forwardRef)(function(e,t){var n=e.id,r=e.buildEventProperties,a=e.gameData,o=e.translate,i=e.topicId,l=(0,K.useState)(),u=l[0],s=l[1],c=Ae(),d=c[0],f=c[1],e=c[2],p=Pr(),l=De(a,i),m=(0,K.useMemo)(function(){return j(p,a.universeId)},[p,a.universeId]),c=(0,K.useMemo)(function(){return 0<m.length&&u?J().createElement(Jt,{gameData:u,friendData:m,translate:o}):J().createElement("div",{className:"game-card-description-info font-body","data-testid":"featured-grid-tile-description"},null==u?void 0:u.description)},[m]);(0,K.useEffect)(function(){Ur(void 0,void 0,void 0,function(){var t;return Br(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,We(a.placeId.toString())];case 1:return t=e.sent(),s(t),[3,3];case 2:return t=e.sent(),console.error(t),[3,3];case 3:return[2]}})})},[]);var i=h(a.placeId,a.name,r(a,n)),r=r(a,n),n=Je(l);return J().createElement("div",{ref:t,className:"featured-grid-item-container game-card-container","data-testid":"game-tile-featured",onMouseOver:f,onMouseLeave:e,onFocus:f,onBlur:e},J().createElement(M.Link,{url:i,className:"game-card-link",id:a.universeId.toString()},J().createElement(Ot,{gameLayoutData:l,isFocused:d}),J().createElement(et.Thumbnail2d,{type:et.ThumbnailTypes.gameIcon,size:et.ThumbnailGameIconSize.size512,targetId:a.universeId,containerClass:"game-card-thumb-container",format:et.ThumbnailFormat.jpeg,altName:a.name}),J().createElement("div",{className:"game-card-name-info"},J().createElement("div",null,J().createElement("div",{className:"game-card-name game-name-title",title:a.name},a.name),n?J().createElement(Ft,{footerData:n}):J().createElement(Bt,{totalUpVotes:a.totalUpVotes,totalDownVotes:a.totalDownVotes,playerCount:a.playerCount})),J().createElement(Mr,{universeId:a.universeId.toString(),placeId:a.placeId.toString(),playButtonEventProperties:r})),null!==a.creatorName&&J().createElement(kr,{universeId:a.universeId.toString(),creatorId:a.creatorId,creatorType:a.creatorType,creatorName:a.creatorName,isCreatorVerified:null!==(r=a.creatorHasVerifiedBadge)&&void 0!==r&&r,linkUrl:i,translate:o}),c))});jr.displayName="FeaturedGridTile";var Fr=function(){return(Fr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Hr=function(e,t){var n={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};(we=(0,K.forwardRef)(function(e,t){var n=e.emphasis,r=e.friendData,a=e.componentType,o=e.playerCountStyle,i=e.playButtonStyle,l=e.isSponsoredFooterAllowed,u=e.hoverStyle,s=e.topicId,c=e.isInterestedUniverse,d=e.toggleInterest,e=Hr(e,["emphasis","friendData","componentType","playerCountStyle","playButtonStyle","isSponsoredFooterAllowed","hoverStyle","topicId","isInterestedUniverse","toggleInterest"]);return n?J().createElement(jr,Fr({ref:t},e)):J().createElement(cn,Fr({ref:t,friendData:r,componentType:a,playerCountStyle:o,playButtonStyle:i,isSponsoredFooterAllowed:l,hoverStyle:u,topicId:s,isInterestedUniverse:c,toggleInterest:d},e))})).displayName="GameGridTile",we.defaultProps={friendData:[],componentType:void 0,playerCountStyle:void 0,playButtonStyle:void 0,isSponsoredFooterAllowed:void 0,hoverStyle:void 0,isInterestedUniverse:void 0,toggleInterest:void 0};var zr=we,Wr=(0,K.forwardRef)(function(e,t){var n=e.gameData,r=e.translate,a=e.emphasis,o=e.buildEventProperties,i=e.tileRef,l=e.loadData,u=e.shouldUseSentinelTile,s=e.friendsPresence,c=e.componentType,d=e.playerCountStyle,f=e.playButtonStyle,p=e.isHomeGameGrid,m=e.isSponsoredFooterAllowed,v=e.hoverStyle,h=e.topicId,g=e.isExpandHomeContentEnabled,y=e.interestedUniverses,b=e.toggleInterest,g=Ee()("game-grid",{"home-game-grid":p},{"wide-game-tile-game-grid":c===q.GridTile||c===q.EventTile||c===q.InterestTile},{"interest-tile-game-grid":c===q.InterestTile},{"expand-home-content":g},{"expand-home-content-disabled":!g});return J().createElement("div",{"data-testid":"game-grid",ref:t,className:g},n.map(function(e,t){return J().createElement(zr,{ref:function(e){(!0===a&&1===t||!1===a&&0===t)&&i&&(i.current=e)},key:e.universeId,id:t,gameData:e,translate:r,buildEventProperties:o,emphasis:!0===a&&0===t&&!p,friendData:s,componentType:c,playerCountStyle:d,playButtonStyle:f,isSponsoredFooterAllowed:m,hoverStyle:v,topicId:h,isInterestedUniverse:null==y?void 0:y.has(e.universeId),toggleInterest:b?function(){return b(e.universeId)}:void 0})}),u&&J().createElement(Lr,{loadData:l}))});Wr.displayName="GameGrid",Wr.defaultProps={friendsPresence:[],componentType:void 0,playerCountStyle:void 0,playButtonStyle:void 0,isHomeGameGrid:!1,isSponsoredFooterAllowed:void 0,hoverStyle:void 0,topicId:void 0,isExpandHomeContentEnabled:void 0,interestedUniverses:void 0,toggleInterest:void 0};var Vr=Wr,qr=function(){return(qr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};(re=function(e){var r=e.gameData,a=e.sort,o=e.positionId,t=e.friendsPresence,n=e.componentType,i=e.playerCountStyle,l=e.playButtonStyle,u=e.hoverStyle,s=e.itemsPerRow,c=e.startingRow,d=e.isSponsoredFooterAllowed,f=e.isExpandHomeContentEnabled,p=e.translate,m=(0,K.useRef)(null),v=(0,K.useRef)(null),h=pn(),e=(0,K.useCallback)(function(e){if(void 0!==r&&void 0!==c){var t=e.filter(function(e){return e<(null==r?void 0:r.length)});return qr(qr(qr(qr(qr(qr(((e={})[k.RootPlaceIds]=t.map(function(e){return r[e].placeId}),e[k.UniverseIds]=t.map(function(e){return r[e].universeId}),e),W(r,a.topicId,t,n)),Z(r,a.topicId,t,n)),((e={})[k.NavigationUids]=t.map(function(e){return null!==(e=r[e].navigationUid)&&void 0!==e?e:"0"}),e[k.AbsPositions]=t,e)),H(r,t)),Q(c,s,null==r?void 0:r.length,t)),((t={})[k.SortPos]=o,t[k.NumberOfLoadedTiles]=null==r?void 0:r.length,t[k.GameSetTypeId]=a.topicId,t[k.Page]=Y.HomePage,t[U.HomePageSessionInfo]=h,t))}},[r,h,o,a.topicId,n,s,c]);return vn(m,r.length,e),(0,K.useEffect)(function(){s&&null!=m&&m.current&&m.current.style.setProperty("--items-per-row",s.toString())},[s]),J().createElement("div",{"data-testid":"home-page-game-grid"},J().createElement("div",{className:"container-header"},J().createElement("h2",null,a.topic,a.topicId===tt.adSortHomePageId&&J().createElement(wt,{tooltipText:p(ye.LabelSponsoredAdsDisclosureStatic)||"Sponsored experiences are paid for by Creators. They may be shown to you based on general information about your device type, location, and demographics."}))),J().createElement(Wr,{ref:m,tileRef:v,gameData:r,emphasis:!1,translate:p,buildEventProperties:function(e,t){var n={};return n[k.PlaceId]=e.placeId,n[k.UniverseId]=e.universeId,n[k.IsAd]=e.isSponsored,n[k.NativeAdData]=e.nativeAdData,n[k.Position]=t,n[k.SortPos]=o,n[k.NumberOfLoadedTiles]=(r||[]).length,n[k.GameSetTypeId]=a.topicId,n[k.Page]=Y.HomePage,n[U.HomePageSessionInfo]=h,n[k.PlayContext]=Y.HomePage,n},isHomeGameGrid:!0,friendsPresence:t,componentType:n,playerCountStyle:i,playButtonStyle:l,isSponsoredFooterAllowed:d,hoverStyle:u,topicId:null===(u=a.topicId)||void 0===u?void 0:u.toString(),isExpandHomeContentEnabled:f}))}).defaultProps={componentType:void 0,playerCountStyle:void 0,playButtonStyle:void 0,hoverStyle:void 0,itemsPerRow:void 0,isSponsoredFooterAllowed:void 0,isExpandHomeContentEnabled:void 0};var $r=re,Kr=tt.sortlessGridMaxTilesMetadataToFetch;function Jr(e){var t=e.friendsCount,n=e.profileUserId,r=e.isOwnUser,a=e.translate,e="("+(null!=t?t:0)+")",n=r?g.EnvironmentUrls.websiteUrl+"/users/friends#!/friends":g.EnvironmentUrls.websiteUrl+"/users/"+n+"/friends#!/friends";return J().createElement("div",{className:"container-header people-list-header"},null==t?J().createElement("h2",null,a("Heading.Friends")):J().createElement("h2",null,a("Heading.Friends"),J().createElement("span",{className:"friends-count"},e)),J().createElement("a",{href:n,className:"btn-secondary-xs btn-more see-all-link-icon"},a("Heading.SeeAll")))}function Yr(e){var t=e.id,n=e.userProfileUrl,r=e.translate,e=J().createElement(et.Thumbnail2d,{type:et.ThumbnailTypes.avatarHeadshot,size:et.DefaultThumbnailSize,targetId:t,containerClass:"avatar-card-image"});return J().createElement(M.AvatarCardItem.Headshot,{statusIcon:J().createElement(ua().PresenceStatusIcon,{translate:r,userId:t}),thumbnail:e,imageLink:n})}function Zr(e){var t=e.id,n=e.displayName,r=e.userProfileUrl,a=e.userPresence,o=e.hasVerifiedBadge,e=e.translate;return J().createElement("div",{className:"friend-tile-content"},J().createElement(Yr,{id:t,translate:e,userProfileUrl:r}),J().createElement("a",{href:r,className:"friends-carousel-tile-labels"},J().createElement("div",{className:"friends-carousel-tile-label"},J().createElement("div",{className:"friends-carousel-tile-name"},J().createElement("span",{className:"friends-carousel-display-name"},n),o&&J().createElement("div",{className:"friend-tile-verified-badge"},J().createElement("div",{className:"friend-tile-spacer"}),J().createElement(Rr.VerifiedBadgeIconContainer,{size:Rr.BadgeSizes.SUBHEADER,additionalContainerClass:"verified-badge"})))),J().createElement("div",{className:"friends-carousel-tile-sublabel"},null!=a&&J().createElement("div",{className:"friends-carousel-tile-experience"},a))))}(we=function(e){var t=e.translate,n=e.sort,r=e.positionId,a=e.itemsPerRow,o=e.startingRow,i=e.recommendations,l=e.isExpandHomeContentEnabled,u=Pr(),s=pn(),e=_r(),c=e.contentMetadata,d=e.appendContentMetadata,f=(0,K.useCallback)(function(){var e=i.filter(function(e){var t=e.contentType,e=e.contentId;return!(null!==(t=null==c?void 0:c[t])&&void 0!==t&&t[e])});0<e.length&&pe(e.slice(0,Kr),s).then(function(e){return d(e.contentMetadata)}).catch(function(){})},[i,s,c,d]);(0,K.useEffect)(function(){f()},[f]);e=(0,K.useMemo)(function(){return Tn(i,c)},[i,c]);return 0===(null==e?void 0:e.length)?null:J().createElement($r,{key:n.topic,sort:n,gameData:e,translate:t,positionId:r,itemsPerRow:a,startingRow:o,friendsPresence:u,componentType:null===(u=n.topicLayoutData)||void 0===u?void 0:u.componentType,playerCountStyle:null===(u=n.topicLayoutData)||void 0===u?void 0:u.playerCountStyle,playButtonStyle:null===(u=n.topicLayoutData)||void 0===u?void 0:u.playButtonStyle,hoverStyle:null===(u=n.topicLayoutData)||void 0===u?void 0:u.hoverStyle,isSponsoredFooterAllowed:"true"===(null===(n=n.topicLayoutData)||void 0===n?void 0:n.isSponsoredFooterAllowed),isExpandHomeContentEnabled:l})}).defaultProps={isExpandHomeContentEnabled:void 0};var Qr=we,Xr=function(e,i,l,u){return new(l=l||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function a(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},ea=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},ta=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},na=function(n){return Xr(void 0,void 0,Promise,function(){var t;return ea(this,function(e){switch(e.label){case 0:return t={url:g.EnvironmentUrls.friendsApi+"/v1/users/"+n+"/friends/count",retryable:!0,withCredentials:!0},[4,A.httpService.get(t)];case 1:return[2,e.sent().data]}})})},ra=function(m,v){return Xr(void 0,void 0,Promise,function(){var t,i,l,u,s,c,d,f,p;return ea(this,function(e){switch(e.label){case 0:return v?[4,(o=m,Xr(void 0,void 0,Promise,function(){var t;return ea(this,function(e){switch(e.label){case 0:return t={url:g.EnvironmentUrls.friendsApi+"/v1/users/"+o+"/friends/online",retryable:!0,withCredentials:!0},[4,A.httpService.get(t)];case 1:return[2,e.sent().data]}})}))]:[3,2];case 1:return i=e.sent().data,[3,3];case 2:i=[],e.label=3;case 3:return(t=i).sort(function(e,t){var n={InGame:0,Online:1,InStudio:2},e=e.userPresence.UserPresenceType,t=t.userPresence.UserPresenceType;return!(e in n&&t in n)||n[e]<n[t]?-1:1}),[4,(n=m,a=v,Xr(void 0,void 0,Promise,function(){var t;return ea(this,function(e){switch(e.label){case 0:return t=g.EnvironmentUrls.friendsApi+"/v1/users/"+n+"/friends/find",t={url:a?t+"?userSort=1":t,retryable:!0,withCredentials:!0},[4,A.httpService.get(t)];case 1:return[2,e.sent().data]}})}))];case 4:for(f=e.sent().PageItems,l=new Map,u=0,s=t;u<s.length;u++)c=s[u],l.set(c.id,c.userPresence);return d=t.map(function(e){return e.id}),f=f.filter(function(e){return!d.includes(e.id)}).map(function(e){return e.id}),f=ta(ta([],d),f),[4,(r=f,Xr(void 0,void 0,Promise,function(){var t,n;return ea(this,function(e){switch(e.label){case 0:return t={url:g.EnvironmentUrls.apiGatewayUrl+"/user-profile-api/v1/user/profiles/get-profiles",retryable:!0,withCredentials:!0},n={userIds:r,fields:["names.combinedName","isVerified"]},[4,A.httpService.post(t,n)];case 1:return[2,e.sent().data]}})}))];case 5:return f=e.sent().profileDetails,p=[],f.forEach(function(e){var t,n,r,a,o=l.has(e.userId),i={isOnline:o,isInGame:o&&"InGame"===(null===(t=l.get(e.userId))||void 0===t?void 0:t.UserPresenceType),lastLocation:!o||null===(n=l.get(e.userId))||void 0===n?void 0:n.lastLocation,gameId:!o||null===(r=l.get(e.userId))||void 0===r?void 0:r.gameInstanceId,universeId:!o||null===(a=l.get(e.userId))||void 0===a?void 0:a.universeId,placeId:!o||null===(i=l.get(e.userId))||void 0===i?void 0:i.placeId};p.push({id:e.userId,combinedName:e.names.combinedName,presence:i,hasVerifiedBadge:e.isVerified})}),[2,p]}var r,n,a,o})})},aa=function(e,i,l,u){return new(l=l||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function a(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},oa=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},ia=g.EnvironmentUrls.chatApi,la=function(){return aa(void 0,void 0,Promise,function(){var t;return oa(this,function(e){switch(e.label){case 0:return[4,A.httpService.get({url:ia+"/v1/metadata",withCredentials:!0})];case 1:return[2,{chatEnabled:null==(t=e.sent().data)?void 0:t.isChatEnabled}]}})})},re={common:[],feature:"Feature.PeopleList"},we=RobloxPresence,ua=fo.n(we);function sa(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ca(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?sa(Object(a),!0).forEach(function(e){var t,n;t=r,e=a[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):sa(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function da(){return void 0!==g.EventStream}function fa(e,t,n,r){da()&&g.EventStream.SendEventWithTarget&&(r=Object.values(ga).includes(r)?r:ga.WWW,g.EventStream.SendEventWithTarget(e,t,n,r))}function pa(e){var n=e.friend,t=e.displayName,r=e.userProfileUrl,a=e.userPresence,o=e.isInGame,i=e.gameUrl,l=e.universeId,u=e.canChat,e=e.translate;return J().createElement("div",{className:"friend-tile-dropdown"},o&&null!=a&&J().createElement("div",{className:"in-game-friend-card"},J().createElement("button",{type:"button",className:"friend-tile-non-styled-button",onClick:function(){window.open(i)}},J().createElement(et.Thumbnail2d,{type:et.ThumbnailTypes.gameIcon,size:et.ThumbnailGameIconSize.size150,targetId:l,imgClassName:"game-card-thumb",containerClass:"friend-tile-game-card"})),J().createElement("div",{className:"friend-presence-info"},J().createElement("button",{type:"button",className:"friend-tile-non-styled-button",onClick:function(){window.open(i)}},a),J().createElement(M.Button,{variant:M.Button.variants.growth,size:M.Button.sizes.small,width:M.Button.widths.full,onClick:function(){return Ia(void 0,void 0,void 0,function(){var t;return Sa(this,function(e){switch(e.label){case 0:return(t=n.presence.gameId||"",(0,g.DeviceMeta)().isInApp)?((0,g.DeviceMeta)().isDesktop?g.GameLauncher.followPlayerIntoGame(n.id,t,"JoinUser"):window.location.href="/games/start?userID="+n.id+"&joinAttemptId="+t+"&joinAttemptOrigin=JoinUser",[3,5]):[3,1];case 1:return(0,g.DeviceMeta)().isAndroidDevice||(0,g.DeviceMeta)().isChromeOs?(window.location.href="intent://userId="+n.id+"&joinAttemptId="+t+"&joinAttemptOrigin=JoinUser#Intent;scheme=robloxmobile;package=com.roblox.client;S.browser_fallback_url=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.roblox.client;end",[3,5]):[3,2];case 2:return(0,g.DeviceMeta)().isIosDevice?(window.location.href="robloxmobile://userId="+n.id+"&joinAttemptId="+t+"&joinAttemptOrigin=JoinUser",[3,5]):[3,3];case 3:return[4,g.ProtocolHandlerClientInterface.followPlayerIntoGame({userId:n.id,joinAttemptId:t,joinAttemptOrigin:"JoinUser"})];case 4:e.sent(),e.label=5;case 5:return[2]}})})}},e("Action.Join")))),J().createElement("ul",null,u&&J().createElement("li",null,J().createElement("button",{type:"button",className:"friend-tile-dropdown-button",onClick:function(){ba({userId:n.id})}},J().createElement("span",{className:"icon icon-chat-gray"})," ",e("Label.Chat",{username:t}))),J().createElement("li",null,J().createElement("button",{type:"button",className:"friend-tile-dropdown-button",onClick:function(){window.open(r)}},J().createElement("span",{className:"icon icon-viewdetails"})," ",e("Label.ViewProfile")))))}function ma(e){function t(){l(!0)}function n(e){var t;null==e||null!==(t=u.current)&&void 0!==t&&t.contains(e.relatedTarget)||null!==(t=s.current)&&void 0!==t&&t.contains(e.relatedTarget)||l(!1)}var r=e.trigger,a=e.content,o=e.dropdownWidth,i=(0,K.useState)(!1),e=i[0],l=i[1],u=(0,K.useRef)(null),s=(0,K.useRef)(null);return(0,K.useEffect)(function(){return u.current?(u.current.addEventListener("mouseover",t),u.current.addEventListener("mouseout",n),function(){var e;null!==(e=u.current)&&void 0!==e&&e.removeEventListener("mouseover",t),null!==(e=u.current)&&void 0!==e&&e.removeEventListener("mouseout",n)}):function(){}},[]),J().createElement("div",null,J().createElement("div",{ref:u},r),e&&J().createElement("div",{ref:s,style:{position:"absolute",top:((null===(e=u.current)||void 0===e?void 0:e.offsetHeight)||0)+((null===(e=u.current)||void 0===e?void 0:e.offsetTop)||0),left:((null===(e=u.current)||void 0===e?void 0:e.offsetLeft)||0)+((null===(e=u.current)||void 0===e?void 0:e.offsetWidth)||0)/2-o/2,zIndex:1002,width:o},onMouseOver:t,onMouseOut:n,onFocus:t,onBlur:n},a))}function va(e){var t=e.friend,n=e.isOwnUser,r=e.translate,a=e.canChat,o=g.EnvironmentUrls.websiteUrl+"/users/"+t.id+"/profile",i=t.combinedName,l=ua().usePresence(t.id,void 0),u=null!=l&&null!=l.gameId,s=u?l.lastLocation:null,e=null!=s&&15<s.length?s.slice(0,15)+"...":s,c=u?g.EnvironmentUrls.websiteUrl+"/games/"+(null!==(c=l.placeId)&&void 0!==c?c:""):"";return J().createElement("div",{className:"friends-carousel-tile"},J().createElement(ma,{trigger:J().createElement("button",{type:"button",className:"options-dropdown",id:"friend-tile-button",onClick:function(){}},J().createElement(Zr,{id:t.id,displayName:i,userProfileUrl:o,userPresence:e,translate:r,hasVerifiedBadge:t.hasVerifiedBadge})),content:n?J().createElement(pa,{friend:t,isInGame:u,universeId:null!==(l=l.universeId)&&void 0!==l?l:0,displayName:i,userProfileUrl:o,userPresence:s,translate:r,gameUrl:c,canChat:a}):J().createElement("div",null),dropdownWidth:null==e?240:315}))}function ha(e){var n=e.friendsList,t=e.isOwnUser,r=e.translate,a=e.canChat,o=(0,K.useRef)(null),i=(u=(0,K.useState)(n))[0],l=u[1],u=(e=(0,K.useState)(!1))[0],s=e[1];return(0,K.useEffect)(function(){var e,t=null===(e=o.current)||void 0===e?void 0:e.offsetWidth;s(110*(null!==(e=null==n?void 0:n.length)&&void 0!==e?e:0)>(null!=t?t:0)),null!=t&&null!=n&&(t=Math.floor(t/110),l(n.slice(0,t)))},[null===(e=o.current)||void 0===e?void 0:e.offsetWidth,n]),J().createElement("div",null,J().createElement("div",{ref:function(e){return o.current=e,o.current},className:"friends-carousel-container"},null==i?J().createElement("span",{className:"spinner spinner-default"}):J().createElement("div",{className:u?"friends-carousel-list-container":"friends-carousel-list-container-not-full"},i.map(function(e){return J().createElement("div",{key:e.id},J().createElement(va,{friend:e,translate:r,isOwnUser:t,canChat:a}))}))))}var ga=ca(ca({},{DEFAULT:0,WWW:1,STUDIO:2,DIAGNOSTIC:3}),da()?g.EventStream.TargetTypes:{}),ya=fa,ba=function(e){var t,n,r,a=e.userId;a?((r=g.DeviceMeta&&new g.DeviceMeta)&&r.isAndroidApp?((t={userIds:[]}).userIds.push(a),null!==(e=g.Hybrid.Chat)&&void 0!==e&&e.startChatConversation(t)):r&&r.isIosApp?null!==(t=g.Hybrid.Navigation)&&void 0!==t&&t.startWebChatConversation(a):r&&r.isUWPApp?null!==(n=g.Hybrid.Navigation)&&void 0!==n&&n.startWebChatConversation(a):r&&r.isWin32App?null!==(n=g.Hybrid.Navigation)&&void 0!==n&&n.startWebChatConversation(a):r&&r.isUniversalApp?null!==(r=g.Hybrid.Navigation)&&void 0!==r&&r.startWebChatConversation(a):$(document).triggerHandler("Roblox.Chat.StartChat",{userId:a}),ya("startChatByUser","click",{userId:a})):console.log("missing valid params to start web chat")},Ia=function(e,i,l,u){return new(l=l||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function a(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},Sa=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},wa=function(e,i,l,u){return new(l=l||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function a(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(r,a)}o((u=u.apply(e,i||[])).next())})},Ea=function(n,r){var a,o,i,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,o=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(i=0<(i=l.trys).length&&i[i.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){l.label=t[1];break}if(6===t[0]&&l.label<i[1]){l.label=i[1],i=t;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(t);break}i[2]&&l.ops.pop(),l.trys.pop();continue}t=r.call(n,l)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};function Pa(){var e=document.querySelector('meta[name="user-data"]'),t=e?e.getAttribute("data-userid"):Number(null!==(t=g.CurrentUser.userId)&&void 0!==t?t:"0");return J().createElement("div",{className:"friend-carousel-container"},J().createElement(Na,{profileUserId:t,isOwnUser:!0}))}function _a(){return J().createElement(Pa,null)}function Ta(e){var t=e.option,n=e.isSelected,r=e.setSelectedOptionId,e=e.translate;return J().createElement("button",{type:"button",onClick:function(){return r(t.optionId)},className:Ee()("filter-option",{"selected-option":n}),"aria-label":e(n?be.ActionDropdownSelected:be.ActionDropdownNotSelected,{optionName:t.optionDisplayName})},J().createElement("span",{className:"filter-option-name"},t.optionDisplayName),n?J().createElement("span",{className:"icon-radio-check-circle-filled"}):J().createElement("span",{className:"icon-radio-check-circle"}))}function Ca(e){var t=e.filter,n=e.dropdownContainerRef,r=e.selectedOptionId,a=e.setSelectedOptionId,o=e.setIsDropdownOpen,i=e.updateFilterValue,l=e.sendFilterClickEvent,u=e.translate,e=(0,K.useCallback)(function(){i(r),o(!1),l(t.filterId,_.Apply,r,t.selectedOptionId)},[r,i,o,t.filterId,t.selectedOptionId,l]),s=(0,K.useCallback)(function(){var e=r;o(!1),a(t.selectedOptionId),l(t.filterId,_.CloseDropdown,t.selectedOptionId,e)},[t.selectedOptionId,o,l,t.filterId,a,r]),c=(0,K.useCallback)(function(e){n.current&&e.target instanceof Node&&!n.current.contains(e.target)&&s()},[s,n]),d=(0,K.useCallback)(function(e){e.key===La.keyBoardEventCode.escape&&s()},[s]);return(0,K.useEffect)(function(){return document.addEventListener("mousedown",c),document.addEventListener("keydown",d),function(){document.removeEventListener("mousedown",c),document.removeEventListener("keydown",d)}},[c,d]),J().createElement("div",{className:"filters-modal-container"},J().createElement("div",{className:"header-container"},J().createElement("h3",null,t.filterDisplayName),J().createElement("div",null,J().createElement("button",{type:"button",className:"header-close-button",onClick:function(){return s()},"aria-label":u(be.ActionClose)},J().createElement("span",{className:"icon-close"})))),J().createElement("div",{className:"filter-options-container"},t.filterOptions.map(function(e,t){return J().createElement(J().Fragment,{key:e.optionId},J().createElement(Ta,{option:e,isSelected:r===e.optionId,setSelectedOptionId:a,translate:u}),0===t&&J().createElement("div",{className:"filter-option-divider"}))})),J().createElement("div",{className:"action-buttons-container"},J().createElement(M.Button,{onClick:e,variant:M.Button.variants.primary,size:M.Button.sizes.medium,width:M.Button.widths.full,className:"apply-button",isDisabled:r===t.selectedOptionId},u(ge.ActionApply)||"Apply")))}function xa(e){var r=e.filter,t=e.updateFilterValue,a=e.sendFilterClickEvent,n=e.translate,o=J().useRef(null),i=(s=(0,K.useState)(!1))[0],l=s[1],u=(e=(0,K.useState)(r.selectedOptionId))[0],s=e[1],e=(0,K.useMemo)(function(){var e=r.filterOptions.find(function(e){return e.optionId===r.selectedOptionId});return null==e?void 0:e.optionDisplayName},[r.selectedOptionId,r.filterOptions]);return J().createElement("div",{ref:o},J().createElement(M.Button,{onClick:function(){l(function(e){var t=e?_.CloseDropdown:_.OpenDropdown,n=e?u:void 0;return a(r.filterId,t,r.selectedOptionId,n),!e})},variant:i?M.Button.variants.primary:M.Button.variants.secondary,size:M.Button.sizes.medium,className:"filter-select"},J().createElement("span",{className:"filter-display-text"},e),J().createElement("span",{className:i?"icon-expand-arrow-selected":"icon-expand-arrow"})),i&&J().createElement(Ca,{filter:r,dropdownContainerRef:o,selectedOptionId:u,setSelectedOptionId:s,setIsDropdownOpen:l,updateFilterValue:t,sendFilterClickEvent:a,translate:n}))}(we=function(e){var t=e.translate,u=e.profileUserId,s=e.isOwnUser,n=(0,K.useState)(null),r=n[0],c=n[1],a=(0,K.useState)(null),e=a[0],d=a[1],n=(0,K.useState)(!1),a=n[0],f=n[1];return(0,K.useEffect)(function(){wa(void 0,void 0,void 0,function(){var n,r,a,o,i,l;return Ea(this,function(e){switch(e.label){case 0:return i=[na(u),ra(u,s),la()],[4,(t=i,Promise.all(t.map(function(e){return e.then(function(e){return{status:"fulfilled",value:e}})})))];case 1:return l=e.sent(),n=l[0],r=l[1],a=l[2],o=n.value,i=r.value,l=a.value,c("fulfilled"===n.status?o.count:0),d("fulfilled"===r.status?i:[]),f("fulfilled"===a.status&&l.chatEnabled),[2]}var t})}).catch(function(e){throw e})},[u]),0===r?J().createElement("div",{className:"friends-carousel-0-friends"}):J().createElement("div",{className:"react-friends-carousel-container"},J().createElement(Jr,{friendsCount:r,translate:t,profileUserId:u,isOwnUser:s}),J().createElement(ha,{friendsList:e,translate:t,isOwnUser:s,canChat:a}))}).defaultProps={translate:void 0};var Na=(0,t.withTranslations)(we,re),La=ie,Aa=function(){return(Aa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Da=function(o,i,e){var l=pn(),t=(0,K.useRef)(null),n=(0,K.useCallback)(function(){var e={};return e[k.AbsPositions]=o.filters.map(function(e,t){return t}),e[k.FilterIds]=o.filters.map(function(e){return e.filterId}),e[k.SelectedOptionIds]=o.filters.map(function(e){return e.selectedOptionId}),e[k.GameSetTypeId]=o.topicId,e[k.GameSetTargetId]=o.gameSetTargetId,e[k.SortPos]=i,e[U.DiscoverPageSessionInfo]=l,e[k.Page]=Y.GamesPage,e},[o.filters,o.topicId,o.gameSetTargetId,i,l]);(0,K.useEffect)(function(){return null!=e&&e.current&&(t.current=S.elementVisibilityService.observeVisibility({element:e.current,threshold:rt.filterImpressionsIntersectionThreshold},function(e){e&&(e=n(),(e=te.filterImpressions(e))&&S.eventStreamService.sendEvent.apply(S.eventStreamService,e),null!=t&&t.current&&t.current())})),function(){null!=t&&t.current&&t.current()}},[n,e]);var a=(0,K.useCallback)(function(e,t,n,r){var a;return Aa(((a={})[k.ButtonName]=t,a[k.GameSetTypeId]=o.topicId,a[k.GameSetTargetId]=o.gameSetTargetId,a[k.SortPos]=i,a[U.DiscoverPageSessionInfo]=l,a[k.Page]=Y.GamesPage,a[k.FilterId]=e,a[k.SelectedOptionId]=n,a),r&&((a={})[k.PreviousOptionId]=r,a))},[o.topicId,o.gameSetTargetId,i,l]);return(0,K.useCallback)(function(e,t,n,r){r=a(e,t,n,r),r=te.gamesFilterClick(r);r&&S.eventStreamService.sendEvent.apply(S.eventStreamService,r)},[a])};(ie=function(e){var a=e.sort,t=e.positionId,n=e.translate,o=e.fetchGamesPageData,e=(0,K.useRef)(null),i=Da(a,t,e);return J().createElement("div",{ref:e,className:"filters-container"},J().createElement("div",{className:"filters-header-container"},J().createElement("span",{className:"filters-header"},a.topic)),J().createElement("div",{className:"filter-items-container"},a.filters.map(function(r){return J().createElement(xa,{key:r.filterId,filter:r,updateFilterValue:function(e){return t=r.filterType,n=e,e=Rn([a]),void(o&&e&&(e.set(t,n),o(e)));var t,n},sendFilterClickEvent:i,translate:n})})))}).defaultProps={fetchGamesPageData:void 0};var ka=ie;function Oa(a){var o=pn();(0,K.useEffect)(function(){var t=window.scrollY,e=_e(function(){var e;window.scrollY!==t&&(e=null!==(e=null==(e=null===(e=document.getElementById("header"))||void 0===e?void 0:e.getBoundingClientRect())?void 0:e.bottom)&&void 0!==e?e:0,Pn({distance:window.scrollY-t,scrollAreaSize:window.innerHeight-e,direction:P.Vertical,startingPosition:t,currentPage:a,pageSession:o}),t=window.scrollY)},250),n=e[0],r=e[1];return window.addEventListener("scroll",n),function(){window.removeEventListener("scroll",n),r()}},[a,o])}function Ra(e){e instanceof SyntaxError&&window.sessionStorage.removeItem(Ja)}function Ga(e){var t=e.sortName,n=e.translate,r=(0,K.useRef)(null),a=(0,K.useRef)(null),o=(0,K.useState)(void 0),i=o[0],l=o[1],u=(g=(0,K.useState)(!1))[0],s=g[1],c=(0,K.useState)(!1),e=c[0],d=c[1],f=pn(),p=(o=Fa()).filters,m=o.getInitialUrlParamFilters,v=(0,K.useMemo)(function(){return ja()},[]),h=(0,K.useCallback)(function(e,n){d(!1),s(!0),ve(f,t,n,e,v).then(An).then(function(t){l(n?function(e){return e&&to(to({},e),{games:no(no([],e.games),t.games),nextPageToken:t.nextPageToken})}:t)}).catch(function(){d(!0)}).finally(function(){s(!1)})},[t,f,v]),g=(0,K.useCallback)(function(){null!=i&&i.nextPageToken&&!u&&h(p,null==i?void 0:i.nextPageToken)},[h,u,null==i?void 0:i.nextPageToken,p]);return(0,K.useEffect)(function(){h(m())},[h,m]),Ba(Y.SortDetailPageDiscover),c=(0,K.useCallback)(function(e){if(void 0!==(null==i?void 0:i.games)){var t=e.filter(function(e){return e<i.games.length});return to(to(to(to(to(((e={})[k.RootPlaceIds]=t.map(function(e){return i.games[e].placeId}),e[k.UniverseIds]=t.map(function(e){return i.games[e].universeId}),e[k.AbsPositions]=t,e),H(i.games,t)),((t={})[k.EmphasisFlag]=!1,t[k.GameSetTypeId]=null==i?void 0:i.topicId,t)),On(i)),Gn(i)),((t={})[k.Page]=Y.SortDetailPageDiscover,t[U.DiscoverPageSessionInfo]=f,t))}},[i,f]),vn(r,null!==(o=null===(o=null==i?void 0:i.games)||void 0===o?void 0:o.length)&&void 0!==o?o:0,c),e&&!i?J().createElement("div",{className:"game-sort-detail-container"},J().createElement("h1",null,n(ye.LabelGames)),J().createElement("div",{className:"game-sort-detail"},J().createElement(Le,{errorMessage:n(ye.LabelApiError),onRefresh:function(){return h(p)}}))):void 0===i?J().createElement(M.Loading,null):J().createElement(Ye,null,J().createElement("div",{className:"game-sort-detail-container"},J().createElement("h1",null,i.topic,i.topicId===nt.adSortDiscoverId&&J().createElement(wt,{tooltipText:n(ye.LabelSponsoredAdsDisclosureStatic)||"Sponsored experiences are paid for by Creators. They may be shown to you based on general information about your device type, location, and demographics.",sizeInPx:22})),J().createElement(Vr,{ref:r,emphasis:!1,tileRef:a,gameData:i.games,translate:n,buildEventProperties:function(e,t){var n;return to(to(to(((n={})[k.PlaceId]=e.placeId,n[k.UniverseId]=e.universeId,n[k.IsAd]=e.isSponsored,n[k.NativeAdData]=e.nativeAdData,n[k.Position]=t,n[k.NumberOfLoadedTiles]=((null==i?void 0:i.games)||[]).length,n[k.GameSetTypeId]=null==i?void 0:i.topicId,n),On(i)),Gn(i)),((n={})[k.Page]=Y.SortDetailPageDiscover,n[U.DiscoverPageSessionInfo]=f,n))},shouldUseSentinelTile:!e,loadData:g}),u&&J().createElement(M.Loading,null)))}function Ma(e){var r=e.sort,t=e.translate,n=e.contentMetadata,a=e.appendContentMetadata,o=e.homePageSessionInfo,i=(0,K.useRef)(null),l=(0,K.useRef)(null),u=(0,K.useState)(!1),s=u[0],c=u[1],d=(g=(0,K.useState)(void 0))[0],f=g[1],p=(0,K.useMemo)(function(){return r.recommendationList.filter(function(e){var t=e.contentType,e=e.contentId;return!(null!==(t=null==n?void 0:n[t])&&void 0!==t&&t[e])})},[r.recommendationList,n]),m=(0,K.useCallback)(function(){c(!0),pe(p.slice(0,io),o).then(function(e){a(e.contentMetadata)}).catch(function(){}).finally(function(){c(!1)})},[o,p,a]),v=(0,K.useCallback)(function(){0<p.length&&m()},[p.length,m]),h=(0,K.useMemo)(function(){return Tn(r.recommendationList,n)},[r.recommendationList,n]),e=(0,K.useCallback)(function(e,t){return{placeId:e.placeId,universeId:e.universeId,isAd:null===(e=h[t])||void 0===e?void 0:e.isSponsored,nativeAdData:null===(e=h[t])||void 0===e?void 0:e.nativeAdData,position:t,numberOfLoadedTiles:(h||[]).length,gameSetTypeId:r.topicId,homePageSessionInfo:o,page:Y.SortDetailPageHome}},[h,o,r.topicId]),g=(0,K.useCallback)(function(e){if(void 0!==h){var t=e.filter(function(e){return e<(null==h?void 0:h.length)});return oo(oo(oo(oo(((e={})[k.RootPlaceIds]=t.map(function(e){return h[e].placeId}),e[k.UniverseIds]=t.map(function(e){return h[e].universeId}),e[k.AbsPositions]=t,e),H(h,t)),W(h,r.topicId,t,null===(e=r.topicLayoutData)||void 0===e?void 0:e.componentType)),Z(h,r.topicId,t,null===(e=r.topicLayoutData)||void 0===e?void 0:e.componentType)),((e={})[k.NavigationUids]=t.map(function(e){return null!==(e=h[e].navigationUid)&&void 0!==e?e:"0"}),e[k.GameSetTypeId]=r.topicId,e[k.EmphasisFlag]=!1,e[k.Page]=Y.SortDetailPageHome,e[U.HomePageSessionInfo]=o,e))}},[h,o,r.topicId,null===(u=r.topicLayoutData)||void 0===u?void 0:u.componentType]);return vn(i,null!==(u=null==h?void 0:h.length)&&void 0!==u?u:0,g),g=(0,K.useCallback)(function(t){function e(){var e=null===(e=null==t?void 0:t.getBoundingClientRect())||void 0===e?void 0:e.width;e&&(document.documentElement.style.setProperty("--home-feed-width",e+"px"),n(e))}var n=(0,ao.throttle)(function(e){f(Yt(e,0,null===(e=null==r?void 0:r.topicLayoutData)||void 0===e?void 0:e.componentType))},100);return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[null===(g=null==r?void 0:r.topicLayoutData)||void 0===g?void 0:g.componentType]),(0,K.useLayoutEffect)(function(){d&&null!=i&&i.current&&i.current.style.setProperty("--items-per-row",d.toString())},[d]),J().createElement(Ye,null,J().createElement("div",{className:"game-sort-detail-grid-container home-page",ref:g},J().createElement(Wr,{ref:i,emphasis:!1,tileRef:l,gameData:h||[],translate:t,buildEventProperties:e,componentType:null===(e=r.topicLayoutData)||void 0===e?void 0:e.componentType,playButtonStyle:null===(e=r.topicLayoutData)||void 0===e?void 0:e.playButtonStyle,playerCountStyle:null===(e=r.topicLayoutData)||void 0===e?void 0:e.playerCountStyle,hoverStyle:null===(e=r.topicLayoutData)||void 0===e?void 0:e.hoverStyle,topicId:null===(e=r.topicId)||void 0===e?void 0:e.toString(),isExpandHomeContentEnabled:!0,isHomeGameGrid:!0,shouldUseSentinelTile:!0,loadData:v}),s&&J().createElement(M.Loading,null)))}(ie=function(e){var t=e.translate,n=e.sort,r=e.positionId,a=e.currentPage,o=e.itemsPerRow,i=e.startingRow,l=e.gridRecommendations,u=e.loadMoreGames,s=e.isLoadingMoreGames,c=e.isExpandHomeContentEnabled,d=e.isChartsPageRenameEnabled,f=e.isCarouselHorizontalScrollEnabled,p=e.isNewScrollArrowsEnabled,m=e.fetchGamesPageData;switch(n.treatmentType){case y.Carousel:return J().createElement(Ar,{translate:t,sort:n,positionId:r,page:a,itemsPerRow:o,startingRow:i,loadMoreGames:u,isLoadingMoreGames:s,isExpandHomeContentEnabled:c,isChartsPageRenameEnabled:d,isCarouselHorizontalScrollEnabled:f,isNewScrollArrowsEnabled:p});case y.AvatarCarousel:return J().createElement(Nr,{sort:n});case y.SortlessGrid:return J().createElement(Qr,{translate:t,sort:n,positionId:r,itemsPerRow:o,startingRow:i,recommendations:null!=l?l:[],isExpandHomeContentEnabled:c});case y.FriendCarousel:return J().createElement(_a,null);case y.Pills:return J().createElement(ka,{sort:n,positionId:r,translate:t,fetchGamesPageData:m});default:return null}}).defaultProps={loadMoreGames:void 0,isLoadingMoreGames:void 0,gridRecommendations:[],isExpandHomeContentEnabled:void 0,isChartsPageRenameEnabled:void 0,isCarouselHorizontalScrollEnabled:void 0,fetchGamesPageData:void 0,isNewScrollArrowsEnabled:void 0};var Ua=ie,Ba=Oa,ja=function(){try{return{cpuCores:null===navigator||void 0===navigator?void 0:navigator.hardwareConcurrency,maxResolution:function(){var e,t;if(null!==(e=null===window||void 0===window?void 0:window.screen)&&void 0!==e&&e.width&&null!==(t=null===window||void 0===window?void 0:window.screen)&&void 0!==t&&t.height)return window.screen.width+"x"+window.screen.height}(),maxMemory:function(){if("deviceMemory"in navigator&&"number"==typeof navigator.deviceMemory)return 1024*navigator.deviceMemory}(),networkType:function(){var e;if("connection"in navigator&&null!==(e=navigator.connection)&&void 0!==e&&e.effectiveType)return navigator.connection.effectiveType}()}}catch(e){return{}}},Fa=function(){var e=(0,p.useHistory)(),t=(0,p.useLocation)(),r=(0,K.useRef)(new URLSearchParams(t.search)),n=(0,K.useCallback)(function(){var n=new Map;return r.current.forEach(function(e,t){n.set(t,e)}),n},[]),t=(0,K.useState)(n),a=t[0],t=t[1];return(0,K.useEffect)(function(){var n=new URLSearchParams;a.forEach(function(e,t){n.append(t,e)}),e.replace({search:n.toString()})},[a,e]),{filters:a,setFilters:t,getInitialUrlParamFilters:n}},Ha=function(){return(Ha=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},za=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},Wa=it.carouselContainerBufferWidth,Va=I,qa=b,$a=St(function(e){var n=e.translate,t=(0,K.useState)(!1),r=t[0],a=t[1],o=(0,K.useState)(void 0),i=o[0],l=o[1],u=(0,K.useRef)(void 0),e=(0,K.useState)(!1),s=e[0],c=e[1],t=(0,K.useState)(new Map),d=t[0],f=t[1],o=(0,K.useState)(void 0),p=o[0],m=o[1],v=pn(),e=(0,K.useState)(new Map),h=e[0],g=e[1],t=Fa(),y=t.filters,b=t.setFilters,I=t.getInitialUrlParamFilters,S=(0,K.useMemo)(function(){return ja()},[]),w=(0,K.useCallback)(function(e,t){a(!1),c(!0),t||l(void 0),u.current=t,me(v,t,e,S).then(Dn).then(function(n){var e;t?l(function(e){var e=za(za([],null!==(t=null==e?void 0:e.sorts)&&void 0!==t?t:[]),n.sorts),t=Rn(e);return t&&b(t),{sorts:e,nextSortsPageToken:n.nextSortsPageToken}}):(l(n),(e=Rn(n.sorts))&&b(e))}).catch(function(){a(!0)}).finally(function(){c(!1)})},[v,S,b]),o=(0,K.useCallback)(function(){null!=i&&i.nextSortsPageToken&&i.nextSortsPageToken!==u.current&&!s&&w(y,null==i?void 0:i.nextSortsPageToken)},[w,s,null==i?void 0:i.nextSortsPageToken,y]);(0,K.useEffect)(function(){w(I())},[w,I]);var E=(0,K.useCallback)(function(){de(Va.discoverPage,qa.discoverPage).then(function(e){m(!(null==e||!e.IsChartsPageRenameEnabled))}).catch(function(){m(!1)})},[]);(0,K.useEffect)(function(){E()},[E]);function P(t,n){f(function(e){e=new Map(e);return e.set(t,n),e})}var _=(0,K.useCallback)(function(t){var e,n=null===(e=null==i?void 0:i.sorts)||void 0===e?void 0:e.findIndex(function(e){return e.sortId===t});void 0===n||null==i||!i.sorts[n]||(e=null==i?void 0:i.sorts[n]).nextPageToken&&!d.get(t)&&(P(t,!0),ve(v,t,e.nextPageToken,y,S).then(An).then(function(e){return r=n,a=e,void l(function(e){if(e){var t=e.sorts,n=t[r];return n&&xn(n)&&(t[r]=Ha(Ha({},n),{games:za(za([],n.games),a.games),nextPageToken:a.nextPageToken})),Ha(Ha({},e),{sorts:t})}return e});var r,a}).catch(function(){}).finally(function(){P(t,!1)}))},[i,d,v,S,y]);Oa(Y.GamesPage);e=(0,K.useCallback)(function(a){function t(){var r=new Map;null!=i&&i.sorts.forEach(function(e,t){var n;!xn(e)||(null===(n=e.topicLayoutData)||void 0===n?void 0:n.componentType)!==q.GridTile&&(null===(n=e.topicLayoutData)||void 0===n?void 0:n.componentType)!==q.EventTile||r.set(t,(t=e,e=null===(e=null==a?void 0:a.getBoundingClientRect())||void 0===e?void 0:e.width,t=null===(t=t.topicLayoutData)||void 0===t?void 0:t.componentType,Yt(e,Wa,t)))}),g(r)}function e(){var e=null===(e=null==a?void 0:a.getBoundingClientRect())||void 0===e?void 0:e.width;e&&(document.documentElement.style.setProperty("--games-feed-width",e+"px"),t())}return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[null==i?void 0:i.sorts]),t=(0,K.useMemo)(function(){return void 0!==p?n(p?be.LabelCharts:be.LabelDiscover):""},[p]);return J().createElement(Ye,null,J().createElement("div",{ref:e,className:"games-page-container"},J().createElement("div",{className:"section"},J().createElement("div",{className:"games-list-header"},J().createElement("h1",null,t)),r&&!i&&J().createElement(Le,{errorMessage:n(ye.LabelApiError),onRefresh:function(){return w(I())}}),null==i?void 0:i.sorts.map(function(e,t){return J().createElement(Ua,{key:t,translate:n,sort:e,positionId:t,currentPage:Y.GamesPage,itemsPerRow:h.get(t),startingRow:void 0,gridRecommendations:[],loadMoreGames:function(){return _(e.sortId)},isLoadingMoreGames:!0===d.get(e.sortId),isChartsPageRenameEnabled:p,fetchGamesPageData:w})}),!r&&J().createElement(Or,{loadData:o}),s&&J().createElement(M.Loading,null))))}),Ka=function(){return(Ka=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ja="eventTracker",Ya=function(e){try{var t=JSON.parse(window.sessionStorage.getItem(Ja)||"{}"),t=Ka(Ka({},t),e);return window.sessionStorage.setItem(Ja,JSON.stringify(t)),!0}catch(e){return Ra(e),!1}},Za=function(){return(Za=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Qa=le.parseQueryString,Xa=le.composeQueryString,eo=function(r,a,o,i,l,u){void 0===i&&(i={}),void 0===l&&(l=window.location),void 0===u&&(u=window.history);var e=(0,K.useState)(Qa(l.search)),t=e[0],s=e[1];return(0,K.useEffect)(function(){var n,e,t;n=Qa(l.search),e=a.reduce(function(e,t){return void 0===n[t]&&null===n[t]||(e[t]=n[t]),e},{}),!(t=o.reduce(function(e,t){return void 0===n[t]&&null===n[t]||(e[t]=n[t]),e},{})).launchData&&t.placeId&&delete t.placeId,s(e),Ya(e),void 0!==u.replace&&u.replace(""+l.pathname+Xa(t)),void 0!==u.replaceState&&u.replaceState(void 0,"",""+l.pathname+l.hash+Xa(t)),S.eventStreamService.sendEvent.apply(S.eventStreamService,r(Za(Za({},e),i)))},[]),t},to=function(){return(to=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},no=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},ro=St((0,t.withTranslations)(function(e){var t=e.match,n=e.translate,r=(0,p.useLocation)(),e=(0,p.useHistory)(),t=decodeURIComponent(t.params.sortName);return eo(te.sortDetailReferral,[k.Position,k.GameSetTargetId,k.GameSetTypeId,k.Page,k.TreatmentType,U.DiscoverPageSessionInfo],["device","country"],{},r,e),J().createElement(Ga,{sortName:t,translate:n})},r)),ao=fo(6635),oo=function(){return(oo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},io=rt.numberOfGameTilesPerLoad,lo=function(){return(lo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},uo=(0,t.withTranslations)(function(e){var n=e.sortName,t=e.translate,r=(0,K.useState)(void 0),a=r[0],o=r[1],i=pn(),l=(0,K.useState)(!1),e=l[0],u=l[1],r=(0,K.useState)(!1),l=r[0],s=r[1];Ba(Y.SortDetailPageHome);var c=(0,K.useCallback)(function(){s(!1),o(void 0),fe(Ce.Home,i).then(function(e){var t=e.sorts.find(function(e){return e.topic===n});void 0===t||tt.topicIdsWithoutSeeAll.includes(t.topicId)?u(!0):o({sorts:[t],contentMetadata:e.contentMetadata})}).catch(function(){s(!0)})},[i,n]);(0,K.useEffect)(function(){c()},[c]);if(l)return J().createElement("div",{className:"game-sort-detail-container"},J().createElement("h1",null,t(ye.LabelGames)),J().createElement("div",{className:"game-sort-detail"},J().createElement(Le,{errorMessage:t(ye.LabelApiError),onRefresh:c})));if(e)return J().createElement(p.Redirect,{to:"/"});if(void 0!==a&&0<(null===(d=a.sorts)||void 0===d?void 0:d.length)){var d=a.sorts[0];return J().createElement("div",{className:"game-sort-detail-container"},J().createElement("h1",null,n,d.topicId===tt.adSortHomePageId&&J().createElement(wt,{tooltipText:t(ye.LabelSponsoredAdsDisclosureStatic)||"Sponsored experiences are paid for by Creators. They may be shown to you based on general information about your device type, location, and demographics.",sizeInPx:22})),J().createElement(Ma,{homePageSessionInfo:i,sort:d,contentMetadata:a.contentMetadata,appendContentMetadata:function(n){o(function(e){var t;return e&&lo(lo({},e),{contentMetadata:((t={})[f.Game]=lo(lo({},e.contentMetadata[f.Game]),n[f.Game]),t[f.CatalogAsset]=lo(lo({},e.contentMetadata[f.CatalogAsset]),n[f.CatalogAsset]),t[f.CatalogBundle]=lo(lo({},e.contentMetadata[f.CatalogBundle]),n[f.CatalogBundle]),t)})})},translate:t}))}return J().createElement(M.Loading,null)},r),so=St(function(e){var t=e.match,n=decodeURIComponent(t.params.sortName),e=(0,p.useLocation)(),t=(0,p.useHistory)();return eo(te.sortDetailReferral,[k.Position,k.SortId,k.Page,k.TreatmentType,U.HomePageSessionInfo],[],{},e,t),J().createElement(uo,{sortName:n})}),co=(0,t.withTranslations)(function(e){return J().createElement(p.HashRouter,null,J().createElement(p.Route,{exact:!0,path:"/",render:function(){return J().createElement($a,e)}}),J().createElement(p.Route,{exact:!0,path:"/sortName/:sortName",component:ro}),J().createElement(p.Route,{exact:!0,path:"/sortName/v2/:sortName",component:so}))},n);(0,A.ready)(function(){(0,e.render)(J().createElement(co,null),document.getElementById("games-carousel-page"))})}()}();
//# sourceMappingURL=https://js.rbxcdn.com/e0d5b0ca9b31adfdf377ebded5317ce8-gameCarousel.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("GameCarousel");